/*! jQuery UI - v1.10.4 - 2014-05-09
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.resizable.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.slider.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,i){return typeof h==="number"?this.each(function(){var j=this;setTimeout(function(){b(j).focus();if(i){i.call(j)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(j){if(j!==f){return this.css("zIndex",j)}if(this.length){var h=b(this[0]),g,i;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){i=parseInt(h.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(i,g){var k,j,h,l=i.nodeName.toLowerCase();if("area"===l){k=i.parentNode;j=k.name;if(!i.href||!j||k.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+j+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(l)?!i.disabled:"a"===l?i.href||g:g)&&c(i)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(i){var g=b.attr(i,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(i,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(o,n,i,p){b.each(h,function(){n-=parseFloat(b.css(o,"padding"+this))||0;if(i){n-=parseFloat(b.css(o,"border"+this+"Width"))||0}if(p){n-=parseFloat(b.css(o,"margin"+this))||0}});return n}b.fn["inner"+g]=function(i){if(i===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,i)+"px")})};b.fn["outer"+g]=function(i,n){if(typeof i!=="number"){return m["outer"+g].call(this,i)}return this.each(function(){b(this).css(k,l(this,i,true,n)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},hasScroll:function(j,h){if(b(j).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",i=false;if(j[g]>0){return true}j[g]=1;i=(j[g]>0);j[g]=0;return i}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(f,g,n){var k,l,i,m,h={},j=f.split(".")[0];f=f.split(".")[1];k=j+"-"+f;if(!n){n=g;g=b.Widget}b.expr[":"][k.toLowerCase()]=function(o){return !!b.data(o,k)};b[j]=b[j]||{};l=b[j][f];i=b[j][f]=function(o,p){if(!this._createWidget){return new i(o,p)}if(arguments.length){this._createWidget(o,p)}};b.extend(i,l,{version:n.version,_proto:b.extend({},n),_childConstructors:[]});m=new g();m.options=b.widget.extend({},m.options);b.each(n,function(p,o){if(!b.isFunction(o)){h[p]=o;return}h[p]=(function(){var q=function(){return g.prototype[p].apply(this,arguments)},r=function(s){return g.prototype[p].apply(this,s)};return function(){var u=this._super,s=this._superApply,t;this._super=q;this._superApply=r;t=o.apply(this,arguments);this._super=u;this._superApply=s;return t}})()});i.prototype=b.widget.extend(m,{widgetEventPrefix:l?(m.widgetEventPrefix||f):f},h,{constructor:i,namespace:j,widgetName:f,widgetFullName:k});if(l){b.each(l._childConstructors,function(p,q){var o=q.prototype;b.widget(o.namespace+"."+o.widgetName,i,q._proto)});delete l._childConstructors}else{g._childConstructors.push(i)}b.widget.bridge(f,i)};b.widget.extend=function(k){var g=d.call(arguments,1),j=0,f=g.length,h,i;for(;j<f;j++){for(h in g[j]){i=g[j][h];if(g[j].hasOwnProperty(h)&&i!==e){if(b.isPlainObject(i)){k[h]=b.isPlainObject(k[h])?b.widget.extend({},k[h],i):b.widget.extend({},i)}else{k[h]=i}}}}return k};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(k){var i=typeof k==="string",j=d.call(arguments,1),l=this;k=!i&&j.length?b.widget.extend.apply(null,[k].concat(j)):k;if(i){this.each(function(){var n,m=b.data(this,h);if(!m){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}if(!b.isFunction(m[k])||k.charAt(0)==="_"){return b.error("no such method '"+k+"' for "+g+" widget instance")}n=m[k].apply(m,j);if(n!==m&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var m=b.data(this,h);if(m){m.option(k||{})._init()}else{b.data(this,h,new f(k,this))}})}return l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(arguments.length===1){return h[j]===e?null:h[j]}h[j]=k}else{if(arguments.length===1){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(i,h,g){var j,f=this;if(typeof i!=="boolean"){g=h;h=i;i=false}if(!g){g=h;h=this.element;j=this.widget()}else{h=j=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(p,o){function m(){if(!i&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?f[o]:o).apply(f,arguments)}if(typeof o!=="string"){m.guid=o.guid=o.guid||m.guid||b.guid++}var n=p.match(/^(\w+)\s*(.*)$/),l=n[1]+f.eventNamespace,k=n[2];if(k){j.delegate(k,l,m)}else{h.bind(l,m)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(i,h){function g(){return(typeof i==="string"?f[i]:i).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var k,j,i=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];j=g.originalEvent;if(j){for(k in j){if(!(k in g)){g[k]=j[k]}}}this.element.trigger(g,h);return !(b.isFunction(i)&&i.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(j,i,l){if(typeof i==="string"){i={effect:i}}var k,h=!i?g:i===true||typeof i==="number"?f:i.effect||f;i=i||{};if(typeof i==="number"){i={duration:i}}k=!b.isEmptyObject(i);i.complete=l;if(i.delay){j.delay(i.delay)}if(k&&b.effects&&b.effects.effect[h]){j[g](i)}else{if(h!==g&&j[h]){j[h](i.duration,i.easing,l)}else{j.queue(function(m){b(this)[g]();if(l){l.call(j[0])}m()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(e,c){e.ui=e.ui||{};var j,k=Math.max,o=Math.abs,m=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,b=/%$/,g=e.fn.position;function n(r,q,p){return[parseFloat(r[0])*(b.test(r[0])?q/100:1),parseFloat(r[1])*(b.test(r[1])?p/100:1)]}function i(p,q){return parseInt(e.css(p,q),10)||0}function f(q){var p=q[0];if(p.nodeType===9){return{width:q.width(),height:q.height(),offset:{top:0,left:0}}}if(e.isWindow(p)){return{width:q.width(),height:q.height(),offset:{top:q.scrollTop(),left:q.scrollLeft()}}}if(p.preventDefault){return{width:0,height:0,offset:{top:p.pageY,left:p.pageX}}}return{width:q.outerWidth(),height:q.outerHeight(),offset:q.offset()}}e.position={scrollbarWidth:function(){if(j!==c){return j}var q,p,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];e("body").append(s);q=r.offsetWidth;s.css("overflow","scroll");p=r.offsetWidth;if(q===p){p=s[0].clientWidth}s.remove();return(j=q-p)},getScrollInfo:function(t){var s=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),q=s==="scroll"||(s==="auto"&&t.width<t.element[0].scrollWidth),p=r==="scroll"||(r==="auto"&&t.height<t.element[0].scrollHeight);return{width:p?e.position.scrollbarWidth():0,height:q?e.position.scrollbarWidth():0}},getWithinInfo:function(q){var r=e(q||window),p=e.isWindow(r[0]),s=!!r[0]&&r[0].nodeType===9;return{element:r,isWindow:p,isDocument:s,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:p?r.width():r.outerWidth(),height:p?r.height():r.outerHeight()}}};e.fn.position=function(z){if(!z||!z.of){return g.apply(this,arguments)}z=e.extend({},z);var A,w,u,y,t,p,v=e(z.of),s=e.position.getWithinInfo(z.within),q=e.position.getScrollInfo(s),x=(z.collision||"flip").split(" "),r={};p=f(v);if(v[0].preventDefault){z.at="left top"}w=p.width;u=p.height;y=p.offset;t=e.extend({},y);e.each(["my","at"],function(){var D=(z[this]||"").split(" "),C,B;if(D.length===1){D=d.test(D[0])?D.concat(["center"]):h.test(D[0])?["center"].concat(D):["center","center"]}D[0]=d.test(D[0])?D[0]:"center";D[1]=h.test(D[1])?D[1]:"center";C=a.exec(D[0]);B=a.exec(D[1]);r[this]=[C?C[0]:0,B?B[0]:0];z[this]=[l.exec(D[0])[0],l.exec(D[1])[0]]});if(x.length===1){x[1]=x[0]}if(z.at[0]==="right"){t.left+=w}else{if(z.at[0]==="center"){t.left+=w/2}}if(z.at[1]==="bottom"){t.top+=u}else{if(z.at[1]==="center"){t.top+=u/2}}A=n(r.at,w,u);t.left+=A[0];t.top+=A[1];return this.each(function(){var C,L,E=e(this),G=E.outerWidth(),D=E.outerHeight(),F=i(this,"marginLeft"),B=i(this,"marginTop"),K=G+F+i(this,"marginRight")+q.width,J=D+B+i(this,"marginBottom")+q.height,H=e.extend({},t),I=n(r.my,E.outerWidth(),E.outerHeight());if(z.my[0]==="right"){H.left-=G}else{if(z.my[0]==="center"){H.left-=G/2}}if(z.my[1]==="bottom"){H.top-=D}else{if(z.my[1]==="center"){H.top-=D/2}}H.left+=I[0];H.top+=I[1];if(!e.support.offsetFractions){H.left=m(H.left);H.top=m(H.top)}C={marginLeft:F,marginTop:B};e.each(["left","top"],function(N,M){if(e.ui.position[x[N]]){e.ui.position[x[N]][M](H,{targetWidth:w,targetHeight:u,elemWidth:G,elemHeight:D,collisionPosition:C,collisionWidth:K,collisionHeight:J,offset:[A[0]+I[0],A[1]+I[1]],my:z.my,at:z.at,within:s,elem:E})}});if(z.using){L=function(P){var R=y.left-H.left,O=R+w-G,Q=y.top-H.top,N=Q+u-D,M={target:{element:v,left:y.left,top:y.top,width:w,height:u},element:{element:E,left:H.left,top:H.top,width:G,height:D},horizontal:O<0?"left":R>0?"right":"center",vertical:N<0?"top":Q>0?"bottom":"middle"};if(w<G&&o(R+O)<w){M.horizontal="center"}if(u<D&&o(Q+N)<u){M.vertical="middle"}if(k(o(R),o(O))>k(o(Q),o(N))){M.important="horizontal"}else{M.important="vertical"}z.using.call(this,P,M)}}E.offset(e.extend(H,{using:L}))})};e.ui.position={fit:{left:function(t,s){var r=s.within,v=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,u=t.left-s.collisionPosition.marginLeft,w=v-u,q=u+s.collisionWidth-x-v,p;if(s.collisionWidth>x){if(w>0&&q<=0){p=t.left+w+s.collisionWidth-x-v;t.left+=w-p}else{if(q>0&&w<=0){t.left=v}else{if(w>q){t.left=v+x-s.collisionWidth}else{t.left=v}}}}else{if(w>0){t.left+=w}else{if(q>0){t.left-=q}else{t.left=k(t.left-u,t.left)}}}},top:function(s,r){var q=r.within,w=q.isWindow?q.scrollTop:q.offset.top,x=r.within.height,u=s.top-r.collisionPosition.marginTop,v=w-u,t=u+r.collisionHeight-x-w,p;if(r.collisionHeight>x){if(v>0&&t<=0){p=s.top+v+r.collisionHeight-x-w;s.top+=v-p}else{if(t>0&&v<=0){s.top=w}else{if(v>t){s.top=w+x-r.collisionHeight}else{s.top=w}}}}else{if(v>0){s.top+=v}else{if(t>0){s.top-=t}else{s.top=k(s.top-u,s.top)}}}}},flip:{left:function(v,u){var t=u.within,z=t.offset.left+t.scrollLeft,C=t.width,r=t.isWindow?t.scrollLeft:t.offset.left,w=v.left-u.collisionPosition.marginLeft,A=w-r,q=w+u.collisionWidth-C-r,y=u.my[0]==="left"?-u.elemWidth:u.my[0]==="right"?u.elemWidth:0,B=u.at[0]==="left"?u.targetWidth:u.at[0]==="right"?-u.targetWidth:0,s=-2*u.offset[0],p,x;if(A<0){p=v.left+y+B+s+u.collisionWidth-C-z;if(p<0||p<o(A)){v.left+=y+B+s}}else{if(q>0){x=v.left-u.collisionPosition.marginLeft+y+B+s-r;if(x>0||o(x)<q){v.left+=y+B+s}}}},top:function(u,t){var s=t.within,B=s.offset.top+s.scrollTop,C=s.height,p=s.isWindow?s.scrollTop:s.offset.top,w=u.top-t.collisionPosition.marginTop,y=w-p,v=w+t.collisionHeight-C-p,z=t.my[1]==="top",x=z?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,D=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],A,q;if(y<0){q=u.top+x+D+r+t.collisionHeight-C-B;if((u.top+x+D+r)>y&&(q<0||q<o(y))){u.top+=x+D+r}}else{if(v>0){A=u.top-t.collisionPosition.marginTop+x+D+r-p;if((u.top+x+D+r)>v&&(A>0||o(A)<v)){u.top+=x+D+r}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,v,q,s,r,p=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(p?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(p){e.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"})}for(r in q){t.style[r]=q[r]}t.appendChild(u);v=p||document.documentElement;v.insertBefore(t,v.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";s=e(u).offset().left;e.support.offsetFractions=s>10&&s<11;t.innerHTML="";v.removeChild(t)})()}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));this._setContainment();if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var c=this,e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!a.contains(this.element[0].ownerDocument,this.element[0])){return false}if((this.options.revert==="invalid"&&!e)||(this.options.revert==="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(d){var e=this.options,c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo==="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!==this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c==="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){var c=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,g,d,f=this.options;if(!f.containment){this.containment=null;return}if(f.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment==="document"){this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment.constructor===Array){this.containment=f.containment;return}if(f.containment==="parent"){f.containment=this.helper[0].parentNode}g=a(f.containment);d=g[0];if(!d){return}e=g.css("overflow")!=="hidden";this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g},_convertPositionTo:function(f,g){if(!g){g=this.position}var e=f==="absolute"?1:-1,c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:c.scrollTop(),left:c.scrollLeft()}}return{top:(g.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*e)),left:(g.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*e))}},_generatePosition:function(d){var c,i,j,f,e=this.options,k=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=d.pageX,g=d.pageY;if(!this.offset.scroll){this.offset.scroll={top:k.scrollTop(),left:k.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){i=this.relative_container.offset();c=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){j=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?((j-this.offset.click.top>=c[1]||j-this.offset.click.top>c[3])?j:((j-this.offset.click.top>=c[1])?j-e.grid[1]:j+e.grid[1])):j;f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?((f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2])?f:((f-this.offset.click.left>=c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("ui-draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("ui-draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,f){var e=a(this).data("ui-draggable"),c=this;a.each(e.sortables,function(){var g=false,h=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){g=true;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(h.instance.element[0],this.instance.element[0])){g=false}return g})}if(g){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",d);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",d);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!==document&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e){var d=a(this).data("ui-draggable"),f=d.options,c=false;if(d.scrollParent[0]!==document&&d.scrollParent[0].tagName!=="HTML"){if(!f.axis||f.axis!=="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+f.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!=="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!=="x"){if(e.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!=="y"){if(e.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var f=a(this),e=f.offset();if(this!==c.element[0]){c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})}})},drag:function(u,p){var c,z,j,k,s,n,m,A,v,h,g=a(this).data("ui-draggable"),q=g.options,y=q.snapTolerance,x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(v=g.snapElements.length-1;v>=0;v--){s=g.snapElements[v].left;n=s+g.snapElements[v].width;m=g.snapElements[v].top;A=m+g.snapElements[v].height;if(w<s-y||x>n+y||e<m-y||f>A+y||!a.contains(g.snapElements[v].item.ownerDocument,g.snapElements[v].item)){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!=="inner"){c=Math.abs(m-e)<=y;z=Math.abs(A-f)<=y;j=Math.abs(s-w)<=y;k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}h=(c||z||j||k);if(q.snapMode!=="outer"){c=Math.abs(m-f)<=y;z=Math.abs(A-e)<=y;j=Math.abs(s-x)<=y;k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(){var c,e=this.data("ui-draggable").options,d=a.makeArray(a(e.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});if(!d.length){return}c=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(f){a(this).css("zIndex",c+f)});this.css("zIndex",(c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(c,d){function b(e){return parseInt(e,10)||0}function a(e){return !isNaN(parseInt(e,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var l,f,j,g,e,h=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}l=this.handles.split(",");this.handles={};for(f=0;f<l.length;f++){j=c.trim(l[f]);e="ui-resizable-"+j;g=c("<div class='ui-resizable-handle "+e+"'></div>");g.css({zIndex:k.zIndex});if("se"===j){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(g)}}this._renderAxis=function(q){var n,o,m,p;q=q||this.element;for(n in this.handles){if(this.handles[n].constructor===String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){o=c(this.handles[n],this.element);p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=g&&g[1]?g[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(k.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(k.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(g){var f,h,e=false;for(f in this.handles){h=c(this.handles[f])[0];if(h===g.target||c.contains(h,g.target)){e=true}}return !this.options.disabled&&e},_mouseStart:function(g){var k,h,j,i=this.options,f=this.element.position(),e=this.element;this.resizing=true;if((/absolute/).test(e.css("position"))){e.css({position:"absolute",top:e.css("top"),left:e.css("left")})}else{if(e.is(".ui-draggable")){e.css({position:"absolute",top:f.top,left:f.left})}}this._renderProxy();k=b(this.helper.css("left"));h=b(this.helper.css("top"));if(i.containment){k+=c(i.containment).scrollLeft()||0;h+=c(i.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof i.aspectRatio==="number")?i.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);j=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",j==="auto"?this.axis+"-resize":j);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var k,g=this.helper,l={},i=this.originalMousePosition,m=this.axis,o=this.position.top,f=this.position.left,n=this.size.width,j=this.size.height,q=(e.pageX-i.left)||0,p=(e.pageY-i.top)||0,h=this._change[m];if(!h){return false}k=h.apply(this,[e,q,p]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){k=this._updateRatio(k,e)}k=this._respectSize(k,e);this._updateCache(k);this._propagate("resize",e);if(this.position.top!==o){l.top=this.position.top+"px"}if(this.position.left!==f){l.left=this.position.left+"px"}if(this.size.width!==n){l.width=this.size.width+"px"}if(this.size.height!==j){l.height=this.size.height+"px"}g.css(l);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!c.isEmptyObject(l)){this._trigger("resize",e,this.ui())}return false},_mouseStop:function(h){this.resizing=false;var g,e,f,k,n,j,m,i=this.options,l=this;if(this._helper){g=this._proportionallyResizeElements;e=g.length&&(/textarea/i).test(g[0].nodeName);f=e&&c.ui.hasScroll(g[0],"left")?0:l.sizeDiff.height;k=e?0:l.sizeDiff.width;n={width:(l.helper.width()-k),height:(l.helper.height()-f)};j=(parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left))||null;m=(parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top))||null;if(!i.animate){this.element.css(c.extend(n,{top:m,left:j}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!i.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var i,h,f,k,e,j=this.options;e={minWidth:a(j.minWidth)?j.minWidth:0,maxWidth:a(j.maxWidth)?j.maxWidth:Infinity,minHeight:a(j.minHeight)?j.minHeight:0,maxHeight:a(j.maxHeight)?j.maxHeight:Infinity};if(this._aspectRatio||g){i=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;k=e.maxWidth/this.aspectRatio;if(i>e.minWidth){e.minWidth=i}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(k<e.maxHeight){e.maxHeight=k}}this._vBoundaries=e},_updateCache:function(e){this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(g){var h=this.position,f=this.size,e=this.axis;if(a(g.height)){g.width=(g.height*this.aspectRatio)}else{if(a(g.width)){g.height=(g.width/this.aspectRatio)}}if(e==="sw"){g.left=h.left+(f.width-g.width);g.top=null}if(e==="nw"){g.top=h.top+(f.height-g.height);g.left=h.left+(f.width-g.width)}return g},_respectSize:function(j){var g=this._vBoundaries,m=this.axis,p=a(j.width)&&g.maxWidth&&(g.maxWidth<j.width),k=a(j.height)&&g.maxHeight&&(g.maxHeight<j.height),h=a(j.width)&&g.minWidth&&(g.minWidth>j.width),n=a(j.height)&&g.minHeight&&(g.minHeight>j.height),f=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,i=/sw|nw|w/.test(m),e=/nw|ne|n/.test(m);if(h){j.width=g.minWidth}if(n){j.height=g.minHeight}if(p){j.width=g.maxWidth}if(k){j.height=g.maxHeight}if(h&&i){j.left=f-g.minWidth}if(p&&i){j.left=f-g.maxWidth}if(n&&e){j.top=l-g.minHeight}if(k&&e){j.top=l-g.maxHeight}if(!j.width&&!j.height&&!j.left&&j.top){j.top=null}else{if(!j.width&&!j.height&&!j.top&&j.left){j.left=null}}return j},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var h,f,l,e,k,g=this.helper||this.element;for(h=0;h<this._proportionallyResizeElements.length;h++){k=this._proportionallyResizeElements[h];if(!this.borderDif){this.borderDif=[];l=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")];e=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];for(f=0;f<l.length;f++){this.borderDif[f]=(parseInt(l[f],10)||0)+(parseInt(e[f],10)||0)}}k.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e){return{width:this.originalSize.width+e}},w:function(g,e){var f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(h,f,e){var g=this.originalSize,i=this.originalPosition;return{top:i.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!=="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(h){var m=c(this).data("ui-resizable"),j=m.options,g=m._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,l=e?0:m.sizeDiff.width,i={width:(m.size.width-l),height:(m.size.height-f)},k=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,n=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;m.element.animate(c.extend(i,n&&k?{top:n,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(m.element.css("width"),10),height:parseInt(m.element.css("height"),10),top:parseInt(m.element.css("top"),10),left:parseInt(m.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}m._updateCache(o);m._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var m,g,q,e,l,h,r,n=c(this).data("ui-resizable"),k=n.options,j=n.element,f=k.containment,i=(f instanceof c)?f.get(0):(/parent/.test(f))?j.parent().get(0):f;if(!i){return}n.containerElement=c(i);if(/document/.test(f)||f===document){n.containerOffset={left:0,top:0};n.containerPosition={left:0,top:0};n.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{m=c(i);g=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){g[p]=b(m.css("padding"+o))});n.containerOffset=m.offset();n.containerPosition=m.position();n.containerSize={height:(m.innerHeight()-g[3]),width:(m.innerWidth()-g[1])};q=n.containerOffset;e=n.containerSize.height;l=n.containerSize.width;h=(c.ui.hasScroll(i,"left")?i.scrollWidth:l);r=(c.ui.hasScroll(i)?i.scrollHeight:e);n.parentData={element:i,left:q.left,top:q.top,width:h,height:r}}},resize:function(f){var k,q,j,i,l=c(this).data("ui-resizable"),h=l.options,n=l.containerOffset,m=l.position,p=l._aspectRatio||f.shiftKey,e={top:0,left:0},g=l.containerElement;if(g[0]!==document&&(/static/).test(g.css("position"))){e=n}if(m.left<(l._helper?n.left:0)){l.size.width=l.size.width+(l._helper?(l.position.left-n.left):(l.position.left-e.left));if(p){l.size.height=l.size.width/l.aspectRatio}l.position.left=h.helper?n.left:0}if(m.top<(l._helper?n.top:0)){l.size.height=l.size.height+(l._helper?(l.position.top-n.top):l.position.top);if(p){l.size.width=l.size.height*l.aspectRatio}l.position.top=l._helper?n.top:0}l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;k=Math.abs((l._helper?l.offset.left-e.left:(l.offset.left-e.left))+l.sizeDiff.width);q=Math.abs((l._helper?l.offset.top-e.top:(l.offset.top-n.top))+l.sizeDiff.height);j=l.containerElement.get(0)===l.element.parent().get(0);i=/relative|absolute/.test(l.containerElement.css("position"));if(j&&i){k-=Math.abs(l.parentData.left)}if(k+l.size.width>=l.parentData.width){l.size.width=l.parentData.width-k;if(p){l.size.height=l.size.width/l.aspectRatio}}if(q+l.size.height>=l.parentData.height){l.size.height=l.parentData.height-q;if(p){l.size.width=l.size.height*l.aspectRatio}}},stop:function(){var k=c(this).data("ui-resizable"),f=k.options,l=k.containerOffset,e=k.containerPosition,g=k.containerElement,i=c(k.helper),n=i.offset(),m=i.outerWidth()-k.sizeDiff.width,j=i.outerHeight()-k.sizeDiff.height;if(k._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}if(k._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=function(h){c(h).each(function(){var i=c(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})};if(typeof(g.alsoResize)==="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];f(g.alsoResize)}else{c.each(g.alsoResize,function(h){f(h)})}}else{f(g.alsoResize)}},resize:function(g,i){var f=c(this).data("ui-resizable"),j=f.options,h=f.originalSize,l=f.originalPosition,k={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-l.top)||0,left:(f.position.left-l.left)||0},e=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("ui-resizable-alsoresize"),p={},o=n&&n.length?n:q.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(o,function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});q.css(p)})};if(typeof(j.alsoResize)==="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){e(m,n)})}else{e(j.alsoResize)}},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var f=c(this).data("ui-resizable"),g=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost==="string"?g.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var e=c(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=c(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(){var r=c(this).data("ui-resizable"),i=r.options,s=r.size,k=r.originalSize,n=r.originalPosition,t=r.axis,f=typeof i.grid==="number"?[i.grid,i.grid]:i.grid,p=(f[0]||1),m=(f[1]||1),h=Math.round((s.width-k.width)/p)*p,g=Math.round((s.height-k.height)/m)*m,l=k.width+h,e=k.height+g,j=i.maxWidth&&(i.maxWidth<l),u=i.maxHeight&&(i.maxHeight<e),q=i.minWidth&&(i.minWidth>l),v=i.minHeight&&(i.minHeight>e);i.grid=f;if(q){l=l+p}if(v){e=e+m}if(j){l=l-p}if(u){e=e-m}if(/^(se|s|e)$/.test(t)){r.size.width=l;r.size.height=e}else{if(/^(ne)$/.test(t)){r.size.width=l;r.size.height=e;r.position.top=n.top-g}else{if(/^(sw)$/.test(t)){r.size.width=l;r.size.height=e;r.position.left=n.left-h}else{if(e-m>0){r.size.height=e;r.position.top=n.top-g}else{r.size.height=m;r.position.top=n.top+k.height-m}if(l-p>0){r.size.width=l;r.position.left=n.left-h}else{r.size.width=p;r.position.left=n.left+k.width-p}}}}}})})(jQuery);(function(a,b){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,c,f,h=this.element[0].nodeName.toLowerCase(),g=h==="textarea",d=h==="input";this.isMultiLine=g?true:d?false:this.element.prop("isContentEditable");this.valueMethod=this.element[g||d?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){e=true;f=true;c=true;return}e=false;f=false;c=false;var j=a.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:e=true;this._move("previousPage",i);break;case j.PAGE_DOWN:e=true;this._move("nextPage",i);break;case j.UP:e=true;this._keyEvent("previous",i);break;case j.DOWN:e=true;this._keyEvent("next",i);break;case j.ENTER:case j.NUMPAD_ENTER:if(this.menu.active){e=true;i.preventDefault();this.menu.select(i)}break;case j.TAB:if(this.menu.active){this.menu.select(i)}break;case j.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(i);i.preventDefault()}break;default:c=true;this._searchTimeout(i);break}},keypress:function(i){if(e){e=false;if(!this.isMultiLine||this.menu.element.is(":visible")){i.preventDefault()}return}if(c){return}var j=a.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:this._move("previousPage",i);break;case j.PAGE_DOWN:this._move("nextPage",i);break;case j.UP:this._keyEvent("previous",i);break;case j.DOWN:this._keyEvent("next",i);break}},input:function(i){if(f){f=false;i.preventDefault();return}this._searchTimeout(i)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(i){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(i);this._change(i)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(i){i.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var j=this.menu.element[0];if(!a(i.target).closest(".ui-menu-item").length){this._delay(function(){var k=this;this.document.one("mousedown",function(l){if(l.target!==k.element[0]&&l.target!==j&&!a.contains(j,l.target)){k.close()}})})}},menufocus:function(j,k){if(this.isNewMenu){this.isNewMenu=false;if(j.originalEvent&&/^mouse/.test(j.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(j.target).trigger(j.originalEvent)});return}}var i=k.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",j,{item:i})){if(j.originalEvent&&/^key/.test(j.originalEvent.type)){this._value(i.value)}}else{this.liveRegion.text(i.value)}},menuselect:function(k,l){var j=l.item.data("ui-autocomplete-item"),i=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=i;this._delay(function(){this.previous=i;this.selectedItem=j})}if(false!==this._trigger("select",k,{item:j})){this._value(j.value)}this.term=this._value();this.close(k);this.selectedItem=j}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,d){this._super(c,d);if(c==="source"){this._initSource()}if(c==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(c==="disabled"&&d&&this.xhr){this.xhr.abort()}},_appendTo:function(){var c=this.options.appendTo;if(c){c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0)}if(!c){c=this.element.closest(".ui-front")}if(!c.length){c=this.document[0].body}return c},_initSource:function(){var e,c,d=this;if(a.isArray(this.options.source)){e=this.options.source;this.source=function(g,f){f(a.ui.autocomplete.filter(e,g.term))}}else{if(typeof this.options.source==="string"){c=this.options.source;this.source=function(g,f){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:c,data:g,dataType:"json",success:function(h){f(h)},error:function(){f([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,c)}},this.options.delay)},search:function(d,c){d=d!=null?d:this._value();this.term=this._value();if(d.length<this.options.minLength){return this.close(c)}if(this._trigger("search",c)===false){return}return this._search(d)},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return a.proxy(function(d){if(c===this.requestIndex){this.__response(d)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(c){if(c){c=this._normalize(c)}this._trigger("response",null,{content:c});if(!this.options.disabled&&c&&c.length&&!this.cancelSearch){this._suggest(c);this._trigger("open")}else{this._close()}},close:function(c){this.cancelSearch=true;this._close(c)},_close:function(c){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",c)}},_change:function(c){if(this.previous!==this._value()){this._trigger("change",c,{item:this.selectedItem})}},_normalize:function(c){if(c.length&&c[0].label&&c[0].value){return c}return a.map(c,function(d){if(typeof d==="string"){return{label:d,value:d}}return a.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c);this.isNewMenu=true;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;a.each(c,function(f,g){e._renderItemData(d,g)})},_renderItemData:function(c,d){return this._renderItem(c,d).data("ui-autocomplete-item",d)},_renderItem:function(c,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(c)},_move:function(d,c){if(!this.menu.element.is(":visible")){this.search(null,c);return}if(this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)){this._value(this.term);this.menu.blur();return}this.menu[d](c)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(d,c);c.preventDefault()}}});a.extend(a.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(e,function(f){return d.test(f.label||f.value||f)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(d&&d.length){c=this.options.messages.results(d.length)}else{c=this.options.messages.noResults}this.liveRegion.text(c)}})}(jQuery));(function(e,g){var c,b="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var h=e(this);setTimeout(function(){h.find(":ui-button").button("refresh")},1)},a=function(i){var h=i.name,j=i.form,k=e([]);if(h){h=h.replace(/'/g,"\\'");if(j){k=e(j).find("[name='"+h+"']")}else{k=e("[name='"+h+"']",i.ownerDocument).filter(function(){return !this.form})}}return k};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var j=this,h=this.options,k=this.type==="checkbox"||this.type==="radio",i=!k?"ui-state-active":"";if(h.label===null){h.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(b).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(h.disabled){return}if(this===c){e(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(h.disabled){return}e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(l){if(h.disabled){l.preventDefault();l.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});if(k){this.element.bind("change"+this.eventNamespace,function(){j.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled){return false}e(this).addClass("ui-state-active");j.buttonElement.attr("aria-pressed","true");var l=j.element[0];a(l).not(l).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(h.disabled){return false}e(this).addClass("ui-state-active");c=this;j.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(h.disabled){return false}e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(l){if(h.disabled){return false}if(l.keyCode===e.ui.keyCode.SPACE||l.keyCode===e.ui.keyCode.ENTER){e(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(l){if(l.keyCode===e.ui.keyCode.SPACE){e(this).click()}})}}}this._setOption("disabled",h.disabled);this._resetButton()},_determineButtonType:function(){var h,j,i;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){h=this.element.parents().last();j="label[for='"+this.element.attr("id")+"']";this.buttonElement=h.find(j);if(!this.buttonElement.length){h=h.length?h.siblings():this.element.siblings();this.buttonElement=h.filter(j);if(!this.buttonElement.length){this.buttonElement=h.find(j)}}this.element.addClass("ui-helper-hidden-accessible");i=this.element.is(":checked");if(i){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",i)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(b+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(h,i){this._super(h,i);if(h==="disabled"){this.element.prop("disabled",!!i);if(i){this.buttonElement.removeClass("ui-state-focus")}return}this._resetButton()},refresh:function(){var h=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(h!==this.options.disabled){this._setOption("disabled",h)}if(this.type==="radio"){a(this.element[0]).each(function(){if(e(this).is(":checked")){e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var l=this.buttonElement.removeClass(f),j=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),i=this.options.icons,h=i.primary&&i.secondary,k=[];if(i.primary||i.secondary){if(this.options.text){k.push("ui-button-text-icon"+(h?"s":(i.primary?"-primary":"-secondary")))}if(i.primary){l.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>")}if(i.secondary){l.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>")}if(!this.options.text){k.push(h?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){l.attr("title",e.trim(j))}}}else{k.push("ui-button-text-only")}l.addClass(k.join(" "))}});e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(h,i){if(h==="disabled"){this.buttons.button("option",h,i)}this._super(h,i)},refresh:function(){var h=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(h?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(h?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function(e,g){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var f="datepicker",c;function b(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=d(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},_attachDatepicker:function(k,h){var l,j,i;l=k.nodeName.toLowerCase();j=(l==="div"||l==="span");if(!k.id){this.uuid+=1;k.id="dp"+this.uuid}i=this._newInst(e(k),j);i.settings=e.extend({},h||{});if(l==="input"){this._connectDatepicker(k,i)}else{if(j){this._inlineDatepicker(k,i)}}},_newInst:function(i,h){var j=i[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:j,input:i,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:d(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(j,i){var h=e(j);i.append=e([]);i.trigger=e([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,i);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(i);e.data(j,f,i);if(i.settings.disabled){this._disableDatepicker(j)}},_attachments:function(j,m){var i,l,h,n=this._get(m,"appendText"),k=this._get(m,"isRTL");if(m.append){m.append.remove()}if(n){m.append=e("<span class='"+this._appendClass+"'>"+n+"</span>");j[k?"before":"after"](m.append)}j.unbind("focus",this._showDatepicker);if(m.trigger){m.trigger.remove()}i=this._get(m,"showOn");if(i==="focus"||i==="both"){j.focus(this._showDatepicker)}if(i==="button"||i==="both"){l=this._get(m,"buttonText");h=this._get(m,"buttonImage");m.trigger=e(this._get(m,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:h,alt:l,title:l}):e("<button type='button'></button>").addClass(this._triggerClass).html(!h?l:e("<img/>").attr({src:h,alt:l,title:l})));j[k?"before":"after"](m.trigger);m.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===j[0]){e.datepicker._hideDatepicker()}else{if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==j[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(j[0])}else{e.datepicker._showDatepicker(j[0])}}return false})}},_autoSize:function(o){if(this._get(o,"autoSize")&&!o.inline){var l,j,k,n,m=new Date(2009,12-1,20),h=this._get(o,"dateFormat");if(h.match(/[DM]/)){l=function(i){j=0;k=0;for(n=0;n<i.length;n++){if(i[n].length>j){j=i[n].length;k=n}}return k};m.setMonth(l(this._get(o,(h.match(/MM/)?"monthNames":"monthNamesShort"))));m.setDate(l(this._get(o,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-m.getDay())}o.input.attr("size",this._formatDate(o,m).length)}},_inlineDatepicker:function(i,h){var j=e(i);if(j.hasClass(this.markerClassName)){return}j.addClass(this.markerClassName).append(h.dpDiv);e.data(i,f,h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(i)}h.dpDiv.css("display","block")},_dialogDatepicker:function(o,i,m,j,n){var h,r,l,q,p,k=this._dialogInst;if(!k){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);k=this._dialogInst=this._newInst(this._dialogInput,false);k.settings={};e.data(this._dialogInput[0],f,k)}a(k.settings,j||{});i=(i&&i.constructor===Date?this._formatDate(k,i):i);this._dialogInput.val(i);this._pos=(n?(n.length?n:[n.pageX,n.pageY]):null);if(!this._pos){r=document.documentElement.clientWidth;l=document.documentElement.clientHeight;q=document.documentElement.scrollLeft||document.body.scrollLeft;p=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(r/2)-100+q,(l/2)-150+p]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");k.settings.onSelect=m;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],f,k);return this},_destroyDatepicker:function(j){var k,h=e(j),i=e.data(j,f);if(!h.hasClass(this.markerClassName)){return}k=j.nodeName.toLowerCase();e.removeData(j,f);if(k==="input"){i.append.remove();i.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(k==="div"||k==="span"){h.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(k){var l,j,h=e(k),i=e.data(k,f);if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();if(l==="input"){k.disabled=false;i.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(l==="div"||l==="span"){j=h.children("."+this._inlineClass);j.children().removeClass("ui-state-disabled");j.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=e.map(this._disabledInputs,function(m){return(m===k?null:m)})},_disableDatepicker:function(k){var l,j,h=e(k),i=e.data(k,f);if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();if(l==="input"){k.disabled=true;i.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(l==="div"||l==="span"){j=h.children("."+this._inlineClass);j.children().addClass("ui-state-disabled");j.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=e.map(this._disabledInputs,function(m){return(m===k?null:m)});this._disabledInputs[this._disabledInputs.length]=k},_isDisabledDatepicker:function(j){if(!j){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===j){return true}}return false},_getInst:function(i){try{return e.data(i,f)}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,m){var j,h,l,o,k=this._getInst(n);if(arguments.length===2&&typeof i==="string"){return(i==="defaults"?e.extend({},e.datepicker._defaults):(k?(i==="all"?e.extend({},k.settings):this._get(k,i)):null))}j=i||{};if(typeof i==="string"){j={};j[i]=m}if(k){if(this._curInst===k){this._hideDatepicker()}h=this._getDateDatepicker(n,true);l=this._getMinMaxDate(k,"min");o=this._getMinMaxDate(k,"max");a(k.settings,j);if(l!==null&&j.dateFormat!==g&&j.minDate===g){k.settings.minDate=this._formatDate(k,l)}if(o!==null&&j.dateFormat!==g&&j.maxDate===g){k.settings.maxDate=this._formatDate(k,o)}if("disabled" in j){if(j.disabled){this._disableDatepicker(n)}else{this._enableDatepicker(n)}}this._attachments(e(n),k);this._autoSize(k);this._setDate(k,h);this._updateAlternate(k);this._updateDatepicker(k)}},_changeDatepicker:function(j,h,i){this._optionDatepicker(j,h,i)},_refreshDatepicker:function(i){var h=this._getInst(i);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(j,h){var i=this._getInst(j);if(i){this._setDate(i,h);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(j,h){var i=this._getInst(j);if(i&&!i.inline){this._setDateFromField(i,h)}return(i?this._getDate(i):null)},_doKeyDown:function(k){var i,h,m,l=e.datepicker._getInst(k.target),n=true,j=l.dpDiv.is(".ui-datepicker-rtl");l._keyEvent=true;if(e.datepicker._datepickerShowing){switch(k.keyCode){case 9:e.datepicker._hideDatepicker();n=false;break;case 13:m=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",l.dpDiv);if(m[0]){e.datepicker._selectDay(k.target,l.selectedMonth,l.selectedYear,m[0])}i=e.datepicker._get(l,"onSelect");if(i){h=e.datepicker._formatDate(l);i.apply((l.input?l.input[0]:null),[h,l])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(k.target,(k.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths")),"M");break;case 34:e.datepicker._adjustDate(k.target,(k.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths")),"M");break;case 35:if(k.ctrlKey||k.metaKey){e.datepicker._clearDate(k.target)}n=k.ctrlKey||k.metaKey;break;case 36:if(k.ctrlKey||k.metaKey){e.datepicker._gotoToday(k.target)}n=k.ctrlKey||k.metaKey;break;case 37:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,(j?+1:-1),"D")}n=k.ctrlKey||k.metaKey;if(k.originalEvent.altKey){e.datepicker._adjustDate(k.target,(k.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths")),"M")}break;case 38:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,-7,"D")}n=k.ctrlKey||k.metaKey;break;case 39:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,(j?-1:+1),"D")}n=k.ctrlKey||k.metaKey;if(k.originalEvent.altKey){e.datepicker._adjustDate(k.target,(k.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths")),"M")}break;case 40:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,+7,"D")}n=k.ctrlKey||k.metaKey;break;default:n=false}}else{if(k.keyCode===36&&k.ctrlKey){e.datepicker._showDatepicker(this)}else{n=false}}if(n){k.preventDefault();k.stopPropagation()}},_doKeyPress:function(j){var i,h,k=e.datepicker._getInst(j.target);if(e.datepicker._get(k,"constrainInput")){i=e.datepicker._possibleChars(e.datepicker._get(k,"dateFormat"));h=String.fromCharCode(j.charCode==null?j.keyCode:j.charCode);return j.ctrlKey||j.metaKey||(h<" "||!i||i.indexOf(h)>-1)}},_doKeyUp:function(j){var h,k=e.datepicker._getInst(j.target);if(k.input.val()!==k.lastVal){try{h=e.datepicker.parseDate(e.datepicker._get(k,"dateFormat"),(k.input?k.input.val():null),e.datepicker._getFormatConfig(k));if(h){e.datepicker._setDateFromField(k);e.datepicker._updateAlternate(k);e.datepicker._updateDatepicker(k)}}catch(i){}}return true},_showDatepicker:function(i){i=i.target||i;if(i.nodeName.toLowerCase()!=="input"){i=e("input",i.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(i)||e.datepicker._lastInput===i){return}var k,o,j,m,n,h,l;k=e.datepicker._getInst(i);if(e.datepicker._curInst&&e.datepicker._curInst!==k){e.datepicker._curInst.dpDiv.stop(true,true);if(k&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}o=e.datepicker._get(k,"beforeShow");j=o?o.apply(i,[i,k]):{};if(j===false){return}a(k.settings,j);k.lastVal=null;e.datepicker._lastInput=i;e.datepicker._setDateFromField(k);if(e.datepicker._inDialog){i.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(i);e.datepicker._pos[1]+=i.offsetHeight}m=false;e(i).parents().each(function(){m|=e(this).css("position")==="fixed";return !m});n={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;k.dpDiv.empty();k.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(k);n=e.datepicker._checkOffset(k,n,m);k.dpDiv.css({position:(e.datepicker._inDialog&&e.blockUI?"static":(m?"fixed":"absolute")),display:"none",left:n.left+"px",top:n.top+"px"});if(!k.inline){h=e.datepicker._get(k,"showAnim");l=e.datepicker._get(k,"duration");k.dpDiv.zIndex(e(i).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[h]){k.dpDiv.show(h,e.datepicker._get(k,"showOptions"),l)}else{k.dpDiv[h||"show"](h?l:null)}if(e.datepicker._shouldFocusInput(k)){k.input.focus()}e.datepicker._curInst=k}},_updateDatepicker:function(j){this.maxRows=4;c=j;j.dpDiv.empty().append(this._generateHTML(j));this._attachHandlers(j);j.dpDiv.find("."+this._dayOverClass+" a").mouseover();var l,h=this._getNumberOfMonths(j),k=h[1],i=17;j.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(k>1){j.dpDiv.addClass("ui-datepicker-multi-"+k).css("width",(i*k)+"em")}j.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");j.dpDiv[(this._get(j,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(j===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(j)){j.input.focus()}if(j.yearshtml){l=j.yearshtml;setTimeout(function(){if(l===j.yearshtml&&j.yearshtml){j.dpDiv.find("select.ui-datepicker-year:first").replaceWith(j.yearshtml)}l=j.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(m,k,j){var l=m.dpDiv.outerWidth(),p=m.dpDiv.outerHeight(),o=m.input?m.input.outerWidth():0,h=m.input?m.input.outerHeight():0,n=document.documentElement.clientWidth+(j?0:e(document).scrollLeft()),i=document.documentElement.clientHeight+(j?0:e(document).scrollTop());k.left-=(this._get(m,"isRTL")?(l-o):0);k.left-=(j&&k.left===m.input.offset().left)?e(document).scrollLeft():0;k.top-=(j&&k.top===(m.input.offset().top+h))?e(document).scrollTop():0;k.left-=Math.min(k.left,(k.left+l>n&&n>l)?Math.abs(k.left+l-n):0);k.top-=Math.min(k.top,(k.top+p>i&&i>p)?Math.abs(p+h):0);return k},_findPos:function(k){var h,j=this._getInst(k),i=this._get(j,"isRTL");while(k&&(k.type==="hidden"||k.nodeType!==1||e.expr.filters.hidden(k))){k=k[i?"previousSibling":"nextSibling"]}h=e(k).offset();return[h.left,h.top]},_hideDatepicker:function(j){var i,m,l,h,k=this._curInst;if(!k||(j&&k!==e.data(j,f))){return}if(this._datepickerShowing){i=this._get(k,"showAnim");m=this._get(k,"duration");l=function(){e.datepicker._tidyDialog(k)};if(e.effects&&(e.effects.effect[i]||e.effects[i])){k.dpDiv.hide(i,e.datepicker._get(k,"showOptions"),m,l)}else{k.dpDiv[(i==="slideDown"?"slideUp":(i==="fadeIn"?"fadeOut":"hide"))]((i?m:null),l)}if(!i){l()}this._datepickerShowing=false;h=this._get(k,"onClose");if(h){h.apply((k.input?k.input[0]:null),[(k.input?k.input.val():""),k])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(i){if(!e.datepicker._curInst){return}var h=e(i.target),j=e.datepicker._getInst(h[0]);if(((h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)))||(h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==j)){e.datepicker._hideDatepicker()}},_adjustDate:function(l,k,j){var i=e(l),h=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0])){return}this._adjustInstDate(h,k+(j==="M"?this._get(h,"showCurrentAtPos"):0),j);this._updateDatepicker(h)},_gotoToday:function(k){var h,j=e(k),i=this._getInst(j[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay;i.drawMonth=i.selectedMonth=i.currentMonth;i.drawYear=i.selectedYear=i.currentYear}else{h=new Date();i.selectedDay=h.getDate();i.drawMonth=i.selectedMonth=h.getMonth();i.drawYear=i.selectedYear=h.getFullYear()}this._notifyChange(i);this._adjustDate(j)},_selectMonthYear:function(l,h,k){var j=e(l),i=this._getInst(j[0]);i["selected"+(k==="M"?"Month":"Year")]=i["draw"+(k==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(i);this._adjustDate(j)},_selectDay:function(m,k,h,l){var i,j=e(m);if(e(l).hasClass(this._unselectableClass)||this._isDisabledDatepicker(j[0])){return}i=this._getInst(j[0]);i.selectedDay=i.currentDay=e("a",l).html();i.selectedMonth=i.currentMonth=k;i.selectedYear=i.currentYear=h;this._selectDate(m,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear))},_clearDate:function(i){var h=e(i);this._selectDate(h,"")},_selectDate:function(l,h){var i,k=e(l),j=this._getInst(k[0]);h=(h!=null?h:this._formatDate(j));if(j.input){j.input.val(h)}this._updateAlternate(j);i=this._get(j,"onSelect");if(i){i.apply((j.input?j.input[0]:null),[h,j])}else{if(j.input){j.input.trigger("change")}}if(j.inline){this._updateDatepicker(j)}else{this._hideDatepicker();this._lastInput=j.input[0];if(typeof(j.input[0])!=="object"){j.input.focus()}this._lastInput=null}},_updateAlternate:function(l){var k,j,h,i=this._get(l,"altField");if(i){k=this._get(l,"altFormat")||this._get(l,"dateFormat");j=this._getDate(l);h=this.formatDate(k,j,this._getFormatConfig(l));e(i).each(function(){e(this).val(h)})}},noWeekends:function(i){var h=i.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var i,j=new Date(h.getTime());j.setDate(j.getDate()+4-(j.getDay()||7));i=j.getTime();j.setMonth(0);j.setDate(1);return Math.floor(Math.round((i-j)/86400000)/7)+1},parseDate:function(x,s,z){if(x==null||s==null){throw"Invalid arguments"}s=(typeof s==="object"?s.toString():s+"");if(s===""){return null}var k,u,i,y=0,n=(z?z.shortYearCutoff:null)||this._defaults.shortYearCutoff,j=(typeof n!=="string"?n:new Date().getFullYear()%100+parseInt(n,10)),q=(z?z.dayNamesShort:null)||this._defaults.dayNamesShort,B=(z?z.dayNames:null)||this._defaults.dayNames,h=(z?z.monthNamesShort:null)||this._defaults.monthNamesShort,l=(z?z.monthNames:null)||this._defaults.monthNames,m=-1,C=-1,w=-1,p=-1,v=false,A,r=function(E){var F=(k+1<x.length&&x.charAt(k+1)===E);if(F){k++}return F},D=function(G){var E=r(G),H=(G==="@"?14:(G==="!"?20:(G==="y"&&E?4:(G==="o"?3:2)))),I=new RegExp("^\\d{1,"+H+"}"),F=s.substring(y).match(I);if(!F){throw"Missing number at position "+y}y+=F[0].length;return parseInt(F[0],10)},o=function(F,G,I){var E=-1,H=e.map(r(F)?I:G,function(K,J){return[[J,K]]}).sort(function(K,J){return -(K[1].length-J[1].length)});e.each(H,function(K,L){var J=L[1];if(s.substr(y,J.length).toLowerCase()===J.toLowerCase()){E=L[0];y+=J.length;return false}});if(E!==-1){return E+1}else{throw"Unknown name at position "+y}},t=function(){if(s.charAt(y)!==x.charAt(k)){throw"Unexpected literal at position "+y}y++};for(k=0;k<x.length;k++){if(v){if(x.charAt(k)==="'"&&!r("'")){v=false}else{t()}}else{switch(x.charAt(k)){case"d":w=D("d");break;case"D":o("D",q,B);break;case"o":p=D("o");break;case"m":C=D("m");break;case"M":C=o("M",h,l);break;case"y":m=D("y");break;case"@":A=new Date(D("@"));m=A.getFullYear();C=A.getMonth()+1;w=A.getDate();break;case"!":A=new Date((D("!")-this._ticksTo1970)/10000);m=A.getFullYear();C=A.getMonth()+1;w=A.getDate();break;case"'":if(r("'")){t()}else{v=true}break;default:t()}}}if(y<s.length){i=s.substr(y);if(!/^\s+/.test(i)){throw"Extra/unparsed characters found in date: "+i}}if(m===-1){m=new Date().getFullYear()}else{if(m<100){m+=new Date().getFullYear()-new Date().getFullYear()%100+(m<=j?0:-100)}}if(p>-1){C=1;w=p;do{u=this._getDaysInMonth(m,C-1);if(w<=u){break}C++;w-=u}while(true)}A=this._daylightSavingAdjust(new Date(m,C-1,w));if(A.getFullYear()!==m||A.getMonth()+1!==C||A.getDate()!==w){throw"Invalid date"}return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(q,k,l){if(!k){return""}var s,t=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,i=(l?l.dayNames:null)||this._defaults.dayNames,o=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,m=(l?l.monthNames:null)||this._defaults.monthNames,r=function(u){var v=(s+1<q.length&&q.charAt(s+1)===u);if(v){s++}return v},h=function(w,x,u){var v=""+x;if(r(w)){while(v.length<u){v="0"+v}}return v},n=function(u,w,v,x){return(r(u)?x[w]:v[w])},j="",p=false;if(k){for(s=0;s<q.length;s++){if(p){if(q.charAt(s)==="'"&&!r("'")){p=false}else{j+=q.charAt(s)}}else{switch(q.charAt(s)){case"d":j+=h("d",k.getDate(),2);break;case"D":j+=n("D",k.getDay(),t,i);break;case"o":j+=h("o",Math.round((new Date(k.getFullYear(),k.getMonth(),k.getDate()).getTime()-new Date(k.getFullYear(),0,0).getTime())/86400000),3);break;case"m":j+=h("m",k.getMonth()+1,2);break;case"M":j+=n("M",k.getMonth(),o,m);break;case"y":j+=(r("y")?k.getFullYear():(k.getYear()%100<10?"0":"")+k.getYear()%100);break;case"@":j+=k.getTime();break;case"!":j+=k.getTime()*10000+this._ticksTo1970;break;case"'":if(r("'")){j+="'"}else{p=true}break;default:j+=q.charAt(s)}}}}return j},_possibleChars:function(l){var k,j="",i=false,h=function(m){var n=(k+1<l.length&&l.charAt(k+1)===m);if(n){k++}return n};for(k=0;k<l.length;k++){if(i){if(l.charAt(k)==="'"&&!h("'")){i=false}else{j+=l.charAt(k)}}else{switch(l.charAt(k)){case"d":case"m":case"y":case"@":j+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){j+="'"}else{i=true}break;default:j+=l.charAt(k)}}}return j},_get:function(i,h){return i.settings[h]!==g?i.settings[h]:this._defaults[h]},_setDateFromField:function(m,j){if(m.input.val()===m.lastVal){return}var h=this._get(m,"dateFormat"),o=m.lastVal=m.input?m.input.val():null,n=this._getDefaultDate(m),i=n,k=this._getFormatConfig(m);try{i=this.parseDate(h,o,k)||n}catch(l){o=(j?"":o)}m.selectedDay=i.getDate();m.drawMonth=m.selectedMonth=i.getMonth();m.drawYear=m.selectedYear=i.getFullYear();m.currentDay=(o?i.getDate():0);m.currentMonth=(o?i.getMonth():0);m.currentYear=(o?i.getFullYear():0);this._adjustInstDate(m)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(l,i,m){var k=function(o){var n=new Date();n.setDate(n.getDate()+o);return n},j=function(u){try{return e.datepicker.parseDate(e.datepicker._get(l,"dateFormat"),u,e.datepicker._getFormatConfig(l))}catch(t){}var o=(u.toLowerCase().match(/^c/)?e.datepicker._getDate(l):null)||new Date(),p=o.getFullYear(),s=o.getMonth(),n=o.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,q=r.exec(u);while(q){switch(q[2]||"d"){case"d":case"D":n+=parseInt(q[1],10);break;case"w":case"W":n+=parseInt(q[1],10)*7;break;case"m":case"M":s+=parseInt(q[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(p,s));break;case"y":case"Y":p+=parseInt(q[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(p,s));break}q=r.exec(u)}return new Date(p,s,n)},h=(i==null||i===""?m:(typeof i==="string"?j(i):(typeof i==="number"?(isNaN(i)?m:k(i)):new Date(i.getTime()))));h=(h&&h.toString()==="Invalid Date"?m:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(n,k,m){var h=!k,j=n.selectedMonth,l=n.selectedYear,i=this._restrictMinMax(n,this._determineDate(n,k,new Date()));n.selectedDay=n.currentDay=i.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=i.getMonth();n.drawYear=n.selectedYear=n.currentYear=i.getFullYear();if((j!==n.selectedMonth||l!==n.selectedYear)&&!m){this._notifyChange(n)}this._adjustInstDate(n);if(n.input){n.input.val(h?"":this._formatDate(n))}},_getDate:function(i){var h=(!i.currentYear||(i.input&&i.input.val()==="")?null:this._daylightSavingAdjust(new Date(i.currentYear,i.currentMonth,i.currentDay)));return h},_attachHandlers:function(i){var h=this._get(i,"stepMonths"),j="#"+i.id.replace(/\\\\/g,"\\");i.dpDiv.find("[data-handler]").map(function(){var k={prev:function(){e.datepicker._adjustDate(j,-h,"M")},next:function(){e.datepicker._adjustDate(j,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(j)},selectDay:function(){e.datepicker._selectDay(j,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(j,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(j,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),k[this.getAttribute("data-handler")])})},_generateHTML:function(X){var A,z,S,K,l,ab,V,O,ae,I,ai,s,u,t,i,aa,q,D,ad,Q,aj,C,H,r,m,T,M,P,N,p,F,v,W,Z,k,ac,ag,L,w,Y=new Date(),B=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),af=this._get(X,"isRTL"),ah=this._get(X,"showButtonPanel"),R=this._get(X,"hideIfNoPrevNext"),G=this._get(X,"navigationAsDateFormat"),x=this._getNumberOfMonths(X),o=this._get(X,"showCurrentAtPos"),J=this._get(X,"stepMonths"),E=(x[0]!==1||x[1]!==1),j=this._daylightSavingAdjust((!X.currentDay?new Date(9999,9,9):new Date(X.currentYear,X.currentMonth,X.currentDay))),n=this._getMinMaxDate(X,"min"),y=this._getMinMaxDate(X,"max"),h=X.drawMonth-o,U=X.drawYear;if(h<0){h+=12;U--}if(y){A=this._daylightSavingAdjust(new Date(y.getFullYear(),y.getMonth()-(x[0]*x[1])+1,y.getDate()));A=(n&&A<n?n:A);while(this._daylightSavingAdjust(new Date(U,h,1))>A){h--;if(h<0){h=11;U--}}}X.drawMonth=h;X.drawYear=U;z=this._get(X,"prevText");z=(!G?z:this.formatDate(z,this._daylightSavingAdjust(new Date(U,h-J,1)),this._getFormatConfig(X)));S=(this._canAdjustMonth(X,-1,U,h)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"e":"w")+"'>"+z+"</span></a>":(R?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"e":"w")+"'>"+z+"</span></a>"));K=this._get(X,"nextText");K=(!G?K:this.formatDate(K,this._daylightSavingAdjust(new Date(U,h+J,1)),this._getFormatConfig(X)));l=(this._canAdjustMonth(X,+1,U,h)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"w":"e")+"'>"+K+"</span></a>":(R?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"w":"e")+"'>"+K+"</span></a>"));ab=this._get(X,"currentText");V=(this._get(X,"gotoCurrent")&&X.currentDay?j:B);ab=(!G?ab:this.formatDate(ab,V,this._getFormatConfig(X)));O=(!X.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(X,"closeText")+"</button>":"");ae=(ah)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(af?O:"")+(this._isInRange(X,V)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+ab+"</button>":"")+(af?"":O)+"</div>":"";I=parseInt(this._get(X,"firstDay"),10);I=(isNaN(I)?0:I);ai=this._get(X,"showWeek");s=this._get(X,"dayNames");u=this._get(X,"dayNamesMin");t=this._get(X,"monthNames");i=this._get(X,"monthNamesShort");aa=this._get(X,"beforeShowDay");q=this._get(X,"showOtherMonths");D=this._get(X,"selectOtherMonths");ad=this._getDefaultDate(X);Q="";aj;for(C=0;C<x[0];C++){H="";this.maxRows=4;for(r=0;r<x[1];r++){m=this._daylightSavingAdjust(new Date(U,h,X.selectedDay));T=" ui-corner-all";M="";if(E){M+="<div class='ui-datepicker-group";if(x[1]>1){switch(r){case 0:M+=" ui-datepicker-group-first";T=" ui-corner-"+(af?"right":"left");break;case x[1]-1:M+=" ui-datepicker-group-last";T=" ui-corner-"+(af?"left":"right");break;default:M+=" ui-datepicker-group-middle";T="";break}}M+="'>"}M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&C===0?(af?l:S):"")+(/all|right/.test(T)&&C===0?(af?S:l):"")+this._generateMonthYearHeader(X,h,U,n,y,C>0||r>0,t,i)+"</div><table class='ui-datepicker-calendar'><thead><tr>";P=(ai?"<th class='ui-datepicker-week-col'>"+this._get(X,"weekHeader")+"</th>":"");for(aj=0;aj<7;aj++){N=(aj+I)%7;P+="<th"+((aj+I+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+s[N]+"'>"+u[N]+"</span></th>"}M+=P+"</tr></thead><tbody>";p=this._getDaysInMonth(U,h);if(U===X.selectedYear&&h===X.selectedMonth){X.selectedDay=Math.min(X.selectedDay,p)}F=(this._getFirstDayOfMonth(U,h)-I+7)%7;v=Math.ceil((F+p)/7);W=(E?this.maxRows>v?this.maxRows:v:v);this.maxRows=W;Z=this._daylightSavingAdjust(new Date(U,h,1-F));for(k=0;k<W;k++){M+="<tr>";ac=(!ai?"":"<td class='ui-datepicker-week-col'>"+this._get(X,"calculateWeek")(Z)+"</td>");for(aj=0;aj<7;aj++){ag=(aa?aa.apply((X.input?X.input[0]:null),[Z]):[true,""]);L=(Z.getMonth()!==h);w=(L&&!D)||!ag[0]||(n&&Z<n)||(y&&Z>y);ac+="<td class='"+((aj+I+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+((Z.getTime()===m.getTime()&&h===X.selectedMonth&&X._keyEvent)||(ad.getTime()===Z.getTime()&&ad.getTime()===m.getTime())?" "+this._dayOverClass:"")+(w?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!q?"":" "+ag[1]+(Z.getTime()===j.getTime()?" "+this._currentClass:"")+(Z.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+((!L||q)&&ag[2]?" title='"+ag[2].replace(/'/g,"&#39;")+"'":"")+(w?"":" data-handler='selectDay' data-event='click' data-month='"+Z.getMonth()+"' data-year='"+Z.getFullYear()+"'")+">"+(L&&!q?"&#xa0;":(w?"<span class='ui-state-default'>"+Z.getDate()+"</span>":"<a class='ui-state-default"+(Z.getTime()===B.getTime()?" ui-state-highlight":"")+(Z.getTime()===j.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+Z.getDate()+"</a>"))+"</td>";Z.setDate(Z.getDate()+1);Z=this._daylightSavingAdjust(Z)}M+=ac+"</tr>"}h++;if(h>11){h=0;U++}M+="</tbody></table>"+(E?"</div>"+((x[0]>0&&r===x[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");H+=M}Q+=H}Q+=ae;X._keyEvent=false;return Q},_generateMonthYearHeader:function(l,j,t,n,r,u,p,h){var y,i,z,w,m,v,s,o,k=this._get(l,"changeMonth"),A=this._get(l,"changeYear"),B=this._get(l,"showMonthAfterYear"),q="<div class='ui-datepicker-title'>",x="";if(u||!k){x+="<span class='ui-datepicker-month'>"+p[j]+"</span>"}else{y=(n&&n.getFullYear()===t);i=(r&&r.getFullYear()===t);x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(z=0;z<12;z++){if((!y||z>=n.getMonth())&&(!i||z<=r.getMonth())){x+="<option value='"+z+"'"+(z===j?" selected='selected'":"")+">"+h[z]+"</option>"}}x+="</select>"}if(!B){q+=x+(u||!(k&&A)?"&#xa0;":"")}if(!l.yearshtml){l.yearshtml="";if(u||!A){q+="<span class='ui-datepicker-year'>"+t+"</span>"}else{w=this._get(l,"yearRange").split(":");m=new Date().getFullYear();v=function(D){var C=(D.match(/c[+\-].*/)?t+parseInt(D.substring(1),10):(D.match(/[+\-].*/)?m+parseInt(D,10):parseInt(D,10)));return(isNaN(C)?m:C)};s=v(w[0]);o=Math.max(s,v(w[1]||""));s=(n?Math.max(s,n.getFullYear()):s);o=(r?Math.min(o,r.getFullYear()):o);l.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;s<=o;s++){l.yearshtml+="<option value='"+s+"'"+(s===t?" selected='selected'":"")+">"+s+"</option>"}l.yearshtml+="</select>";q+=l.yearshtml;l.yearshtml=null}}q+=this._get(l,"yearSuffix");if(B){q+=(u||!(k&&A)?"&#xa0;":"")+x}q+="</div>";return q},_adjustInstDate:function(k,n,m){var j=k.drawYear+(m==="Y"?n:0),l=k.drawMonth+(m==="M"?n:0),h=Math.min(k.selectedDay,this._getDaysInMonth(j,l))+(m==="D"?n:0),i=this._restrictMinMax(k,this._daylightSavingAdjust(new Date(j,l,h)));k.selectedDay=i.getDate();k.drawMonth=k.selectedMonth=i.getMonth();k.drawYear=k.selectedYear=i.getFullYear();if(m==="M"||m==="Y"){this._notifyChange(k)}},_restrictMinMax:function(k,i){var j=this._getMinMaxDate(k,"min"),l=this._getMinMaxDate(k,"max"),h=(j&&i<j?j:i);return(l&&h>l?l:h)},_notifyChange:function(i){var h=this._get(i,"onChangeMonthYear");if(h){h.apply((i.input?i.input[0]:null),[i.selectedYear,i.selectedMonth+1,i])}},_getNumberOfMonths:function(i){var h=this._get(i,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(i,h){return this._determineDate(i,this._get(i,h+"Date"),null)},_getDaysInMonth:function(h,i){return 32-this._daylightSavingAdjust(new Date(h,i,32)).getDate()},_getFirstDayOfMonth:function(h,i){return new Date(h,i,1).getDay()},_canAdjustMonth:function(k,m,j,l){var h=this._getNumberOfMonths(k),i=this._daylightSavingAdjust(new Date(j,l+(m<0?m:h[0]*h[1]),1));if(m<0){i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth()))}return this._isInRange(k,i)},_isInRange:function(l,j){var i,o,k=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),p=null,m=null,n=this._get(l,"yearRange");if(n){i=n.split(":");o=new Date().getFullYear();p=parseInt(i[0],10);m=parseInt(i[1],10);if(i[0].match(/[+\-].*/)){p+=o}if(i[1].match(/[+\-].*/)){m+=o}}return((!k||j.getTime()>=k.getTime())&&(!h||j.getTime()<=h.getTime())&&(!p||j.getFullYear()>=p)&&(!m||j.getFullYear()<=m))},_getFormatConfig:function(h){var i=this._get(h,"shortYearCutoff");i=(typeof i!=="string"?i:new Date().getFullYear()%100+parseInt(i,10));return{shortYearCutoff:i,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(k,h,l,j){if(!h){k.currentDay=k.selectedDay;k.currentMonth=k.selectedMonth;k.currentYear=k.selectedYear}var i=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(j,l,h))):this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay)));return this.formatDate(this._get(k,"dateFormat"),i,this._getFormatConfig(k))}});function d(i){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return i.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(h,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(c.inline?i.parent()[0]:c.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function a(j,i){e.extend(j,i);for(var h in i){if(i[h]==null){j[h]=i[h]}}return j}e.fn.datepicker=function(i){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof i==="string"&&(i==="isDisabled"||i==="getDate"||i==="widget")){return e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}if(i==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}return this.each(function(){typeof i==="string"?e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,i)})};e.datepicker=new b();e.datepicker.initialized=false;e.datepicker.uuid=new Date().getTime();e.datepicker.version="1.10.4"})(jQuery);(function(c,d){var a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},b={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var e=c(this).css(f).offset().top;if(e<0){c(this).css("top",f.top-e)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&c.fn.draggable){this._makeDraggable()}if(this.options.resizable&&c.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return c(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var f,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}f=e.parent.children().eq(e.index);if(f.length&&f[0]!==this.element[0]){f.before(this.element)}else{e.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(h){var g,f=this;if(!this._isOpen||this._trigger("beforeClose",h)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){try{g=this.document[0].activeElement;if(g&&g.nodeName.toLowerCase()!=="body"){c(g).blur()}}catch(e){}}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",h)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,e){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(f&&!e){this._trigger("focus",g)}return f},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=c(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(e){function f(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||c.contains(this.uiDialog[0],h);if(!g){this._focusTabbable()}}e.preventDefault();f.call(this);this._delay(f)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===c.ui.keyCode.ESCAPE){g.preventDefault();this.close(g);return}if(g.keyCode!==c.ui.keyCode.TAB){return}var f=this.uiDialog.find(":tabbable"),h=f.filter(":first"),e=f.filter(":last");if((g.target===e[0]||g.target===this.uiDialog[0])&&!g.shiftKey){h.focus(1);g.preventDefault()}else{if((g.target===h[0]||g.target===this.uiDialog[0])&&g.shiftKey){e.focus(1);g.preventDefault()}}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(f){if(!c(f.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault();this.close(f)}});e=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var f=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(c.isEmptyObject(e)||(c.isArray(e)&&!e.length)){this.uiDialog.removeClass("ui-dialog-buttons");return}c.each(e,function(g,h){var i,j;h=c.isFunction(h)?{click:h,text:g}:h;h=c.extend({type:"button"},h);i=h.click;h.click=function(){i.apply(f.element[0],arguments)};j={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;c("<button></button>",h).button(j).appendTo(f.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var g=this,f=this.options;function e(h){return{position:h.position,offset:h.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(h,i){c(this).addClass("ui-dialog-dragging");g._blockFrames();g._trigger("dragStart",h,e(i))},drag:function(h,i){g._trigger("drag",h,e(i))},stop:function(h,i){f.position=[i.position.left-g.document.scrollLeft(),i.position.top-g.document.scrollTop()];c(this).removeClass("ui-dialog-dragging");g._unblockFrames();g._trigger("dragStop",h,e(i))}})},_makeResizable:function(){var j=this,h=this.options,i=h.resizable,e=this.uiDialog.css("position"),g=typeof i==="string"?i:"n,e,s,w,se,sw,ne,nw";function f(k){return{originalPosition:k.originalPosition,originalSize:k.originalSize,position:k.position,size:k.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:g,start:function(k,l){c(this).addClass("ui-dialog-resizing");j._blockFrames();j._trigger("resizeStart",k,f(l))},resize:function(k,l){j._trigger("resize",k,f(l))},stop:function(k,l){h.height=c(this).height();h.width=c(this).width();c(this).removeClass("ui-dialog-resizing");j._unblockFrames();j._trigger("resizeStop",k,f(l))}}).css("position",e)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(g){var h=this,f=false,e={};c.each(g,function(i,j){h._setOption(i,j);if(i in a){f=true}if(i in b){e[i]=j}});if(f){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",e)}},_setOption:function(g,h){var f,i,e=this.uiDialog;if(g==="dialogClass"){e.removeClass(this.options.dialogClass).addClass(h)}if(g==="disabled"){return}this._super(g,h);if(g==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(g==="buttons"){this._createButtons()}if(g==="closeText"){this.uiDialogTitlebarClose.button({label:""+h})}if(g==="draggable"){f=e.is(":data(ui-draggable)");if(f&&!h){e.draggable("destroy")}if(!f&&h){this._makeDraggable()}}if(g==="position"){this._position()}if(g==="resizable"){i=e.is(":data(ui-resizable)");if(i&&!h){e.resizable("destroy")}if(i&&typeof h==="string"){e.resizable("option","handles",h)}if(!i&&h!==false){this._makeResizable()}}if(g==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,g,h,f=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(f.minWidth>f.width){f.width=f.minWidth}e=this.uiDialog.css({height:"auto",width:f.width}).outerHeight();g=Math.max(0,f.minHeight-e);h=typeof f.maxHeight==="number"?Math.max(0,f.maxHeight-e):"none";if(f.height==="auto"){this.element.css({minHeight:g,maxHeight:h,height:"auto"})}else{this.element.height(Math.max(0,f.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=c(this);return c("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(c(e.target).closest(".ui-dialog").length){return true}return !!c(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var f=this,e=this.widgetFullName;if(!c.ui.dialog.overlayInstances){this._delay(function(){if(c.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(g){if(!f._allowInteraction(g)){g.preventDefault();c(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable()}})}})}this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});c.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){c.ui.dialog.overlayInstances--;if(!c.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});c.ui.dialog.overlayInstances=0;if(c.uiBackCompat!==false){c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f=this.options.position,g=[],h=[0,0],e;if(f){if(typeof f==="string"||(typeof f==="object"&&"0" in f)){g=f.split?f.split(" "):[f[0],f[1]];if(g.length===1){g[1]=g[0]}c.each(["left","top"],function(k,j){if(+g[k]===g[k]){h[k]=g[k];g[k]=j}});f={my:g[0]+(h[0]<0?h[0]:"+"+h[0])+" "+g[1]+(h[1]<0?h[1]:"+"+h[1]),at:g.join(" ")}}f=c.extend({},c.ui.dialog.prototype.options.position,f)}else{f=c.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(f);if(!e){this.uiDialog.hide()}}})}}(jQuery));(function(a,b){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(c){if(this.options.disabled){c.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");if(!this.mouseHandled&&d.not(".ui-state-disabled").length){this.select(c);if(!c.isPropagationStopped()){this.mouseHandled=true}if(d.has(".ui-menu").length){this.expand(c)}else{if(!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,c){var d=this.active||this.element.children(".ui-menu-item").eq(0);if(!c){this.focus(e,d)}},blur:function(c){this._delay(function(){if(!a.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(c)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){if(!a(c.target).closest(".ui-menu").length){this.collapseAll(c)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);if(c.data("ui-menu-submenu-carat")){c.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(i){var d,h,j,g,f,c=true;function e(k){return k.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(i.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(i);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(i);break;case a.ui.keyCode.HOME:this._move("first","first",i);break;case a.ui.keyCode.END:this._move("last","last",i);break;case a.ui.keyCode.UP:this.previous(i);break;case a.ui.keyCode.DOWN:this.next(i);break;case a.ui.keyCode.LEFT:this.collapse(i);break;case a.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(i)}break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(i);break;case a.ui.keyCode.ESCAPE:this.collapse(i);break;default:c=false;h=this.previousFilter||"";j=String.fromCharCode(i.keyCode);g=false;clearTimeout(this.filterTimer);if(j===h){g=true}else{j=h+j}f=new RegExp("^"+e(j),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())});d=g&&d.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):d;if(!d.length){j=String.fromCharCode(i.keyCode);f=new RegExp("^"+e(j),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())})}if(d.length){this.focus(i,d);if(d.length>1){this.previousFilter=j;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(c){i.preventDefault()}},_activate:function(c){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(c)}else{this.select(c)}}},refresh:function(){var e,d=this.options.icons.submenu,c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var h=a(this),g=h.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",true);g.attr("aria-haspopup","true").prepend(f);h.attr("aria-labelledby",g.attr("id"))});e=c.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var f=a(this);if(!/[^\-\u2014\u2013\s]/.test(f.text())){f.addClass("ui-widget-content ui-menu-divider")}});e.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){if(c==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu)}this._super(c,d)},focus:function(d,c){var f,e;this.blur(d,d&&d.type==="focus");this._scrollIntoView(c);this.active=c.first();e=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",e.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(d&&d.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}f=c.children(".ui-menu");if(f.length&&d&&(/^mouse/.test(d.type))){this._startOpening(f)}this.activeMenu=c.parent();this._trigger("focus",d,{item:c})},_scrollIntoView:function(f){var i,e,g,c,d,h;if(this._hasScroll()){i=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;g=f.offset().top-this.activeMenu.offset().top-i-e;c=this.activeMenu.scrollTop();d=this.activeMenu.height();h=f.height();if(g<0){this.activeMenu.scrollTop(c+g)}else{if(g+h>d){this.activeMenu.scrollTop(c+g-d+h)}}}},blur:function(d,c){if(!c){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",d,{item:this.active})},_startOpening:function(c){clearTimeout(this.timer);if(c.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(c)},this.delay)},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));if(!e.length){e=this.element}this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(c){if(!c){c=this.active?this.active.parent():this.element}c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(c&&c.length){this._close();this.focus(d,c)}},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(c&&c.length){this._open(c.parent());this._delay(function(){this.focus(d,c)})}},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,d,e){var c;if(this.active){if(f==="first"||f==="last"){c=this.active[f==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{c=this.active[f+"All"](".ui-menu-item").eq(0)}}if(!c||!c.length||!this.active){c=this.activeMenu.children(".ui-menu-item")[d]()}this.focus(e,c)},nextPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f-c<0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f+c>0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(c,true)}this._trigger("select",c,d)}})}(jQuery));(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,d,e=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",f=[];d=(e.values&&e.values.length)||1;if(j.length>d){j.slice(d).remove();j=j.slice(0,d)}for(g=j.length;g<d;g++){f.push(h)}this.handles=j.add(b(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)})},_createRange:function(){var d=this.options,e="";if(d.range){if(d.range===true){if(!d.values){d.values=[this._valueMin(),this._valueMin()]}else{if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}else{if(b.isArray(d.values)){d.values=d.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=b("<div></div>").appendTo(this.element);e="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(e+((d.range==="min"||d.range==="max")?" ui-slider-range-"+d.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var j,m,e,h,l,n,i,d,k=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();j={x:f.pageX,y:f.pageY};m=this._normValueFromMouse(j);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var p=Math.abs(m-k.values(o));if((e>p)||(e===p&&(o===k._lastChangedValue||k.values(o)===g.min))){e=p;h=b(this);l=o}});n=this._start(f,l);if(n===false){return false}this._mouseSliding=true;this._handleIndex=l;h.addClass("ui-state-active").focus();i=h.offset();d=!b(f.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-i.left-(h.width()/2),top:f.pageY-i.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,l,m)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,i;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();i=this._valueMin()+g*f;return this._trimAlignValue(i)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,i;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;i=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(i!==false){this.values(g,f)}}}else{if(f!==this.value()){i=this._trigger("slide",h,{handle:this.handles[g],value:f});if(i!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._lastChangedValue=e;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(e==="range"&&this.options.range===true){if(f==="min"){this.options.value=this._values(0);this.options.values=null}else{if(f==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}else{return[]}}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var i,h,l,j,m,g=this.options.range,f=this.options,k=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(n){h=(k.values(n)-k._valueMin())/(k._valueMax()-k._valueMin())*100;d[k.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(k.options.range===true){if(k.orientation==="horizontal"){if(n===0){k.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({width:(h-i)+"%"},{queue:false,duration:f.animate})}}else{if(n===0){k.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({height:(h-i)+"%"},{queue:false,duration:f.animate})}}}i=h})}else{l=this.value();j=this._valueMin();m=this._valueMax();h=(m!==j)?(l-j)/(m-j)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}},_handleEvents:{keydown:function(h){var i,f,e,g,d=b(h.target).data("ui-slider-handle-index");switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h.preventDefault();if(!this._keySliding){this._keySliding=true;b(h.target).addClass("ui-state-active");i=this._start(h,d);if(i===false){return}}break}g=this.options.step;if(this.options.values&&this.options.values.length){f=e=this.values(d)}else{f=e=this.value()}switch(h.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===this._valueMax()){return}e=this._trimAlignValue(f+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===this._valueMin()){return}e=this._trimAlignValue(f-g);break}this._slide(h,d,e)},click:function(d){d.preventDefault()},keyup:function(e){var d=b(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,d);this._change(e,d);b(e.target).removeClass("ui-state-active")}}}})}(jQuery));(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=d(this).attr("title")||"";return d("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(i,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).addBack().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length||g.data("ui-tooltip-id")){return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var i=d(this),h;if(i.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(i.attr("title")){i.uniqueId();e.parents[this.id]={element:this,title:i.attr("title")};i.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(j,i){var h,e=this.options.content,g=this,f=i?i.type:null;if(typeof e==="string"){return this._open(i,j,e)}h=e.call(j[0],function(k){if(!j.data("ui-tooltip-open")){return}g._delay(function(){if(i){i.type=f}this._open(i,j,k)})});if(h){this._open(i,j,h)}},_open:function(i,k,h){var j,g,f,l=d.extend({},this.options.position);if(!h){return}j=this._find(k);if(j.length){j.find(".ui-tooltip-content").html(h);return}if(k.is("[title]")){if(i&&i.type==="mouseover"){k.attr("title","")}else{k.removeAttr("title")}}j=this._tooltip(k);c(k,j.attr("id"));j.find(".ui-tooltip-content").html(h);function e(m){l.of=m;if(j.is(":hidden")){return}j.position(l)}if(this.options.track&&i&&/^mouse/.test(i.type)){this._on(this.document,{mousemove:e});e(i)}else{j.position(d.extend({of:k},this.options.position))}j.hide();this._show(j,this.options.show);if(this.options.show&&this.options.show.delay){f=this.delayedShow=setInterval(function(){if(j.is(":visible")){e(l.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",i,{tooltip:j});g={keyup:function(m){if(m.keyCode===d.ui.keyCode.ESCAPE){var n=d.Event(m);n.currentTarget=k[0];this.close(n,true)}},remove:function(){this._removeTooltip(j)}};if(!i||i.type==="mouseover"){g.mouseleave="close"}if(!i||i.type==="focusin"){g.focusout="close"}this._on(true,k,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}clearInterval(this.delayedShow);if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(j,i){d(i.element).attr("title",i.title);delete e.parents[j]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));
jQuery(function(a){a.datepicker.regional.fr={closeText:"Fermer",prevText:"Prcdent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};a.datepicker.setDefaults(a.datepicker.regional.fr)});
(function(){var r;var Y=[],ac=[];var U=40;var Z=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,o=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var X=/^\s*function[ \n\r\t]+\w/;var H=/<%=([\s\S]+?)%>/g;var ai=/($^)/;var d=/\bthis\b/;var j=/['\n\r\t\u2028\u2029\\]/g;var w=0;var f="[object Arguments]",D="[object Array]",ae="[object Boolean]",l="[object Date]",ah="[object Number]",ak="[object Object]",an="[object RegExp]",P="[object String]";var aA={configurable:false,enumerable:false,value:null,writable:false};var ad={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var J={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};var au=(ad[typeof window]&&window)||this;var p=ad[typeof exports]&&exports&&!exports.nodeType&&exports;var K=ad[typeof module]&&module&&!module.nodeType&&module;var aC=K&&K.exports===p&&p;var af=ad[typeof global]&&global;if(af&&(af.global===af||af.window===af)){au=af}function z(aK,aJ){var aN=aK.criteria,aP=aJ.criteria,aL=-1,aM=aN.length;while(++aL<aM){var aO=aN[aL],aI=aP[aL];if(aO!==aI){if(aO>aI||typeof aO=="undefined"){return 1}if(aO<aI||typeof aI=="undefined"){return -1}}}return aK.index-aJ.index}function ao(aI){return"\\"+J[aI]}function aE(){return Y.pop()||[]}function N(){return ac.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,"null":false,number:null,object:null,push:null,string:null,"true":false,"undefined":false,value:null}}function ap(aI){aI.length=0;if(Y.length<U){Y.push(aI)}}function v(aJ){var aI=aJ.cache;if(aI){v(aI)}aJ.array=aJ.cache=aJ.criteria=aJ.object=aJ.number=aJ.string=aJ.value=null;if(ac.length<U){ac.push(aJ)}}function u(aN,aM,aJ){aM||(aM=0);if(typeof aJ=="undefined"){aJ=aN?aN.length:0}var aK=-1,aL=aJ-aM||0,aI=Array(aL<0?0:aL);while(++aK<aL){aI[aK]=aN[aM+aK]}return aI}var h=[];var aw=Object.prototype;var ab=aw.toString;var k=RegExp("^"+String(ab).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var t=Function.prototype.toString,W=aw.hasOwnProperty,e=h.push,aj=h.splice,ay=h.unshift;var q=(function(){try{var aL={},aJ=L(aJ=Object.defineProperty)&&aJ,aI=aJ(aL,aL,aL)&&aJ}catch(aK){}return aI}());var M=L(M=Object.create)&&M,n=L(n=Array.isArray)&&n,aD=L(aD=Object.keys)&&aD;function x(){}var ax=x.support={};ax.funcDecomp=!L(au.WinRTError)&&d.test(function(){return this});ax.funcNames=typeof Function.name=="string";x.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:H,variable:"",imports:{_:x}};function C(aM){var aL=aM[0],aJ=aM[2],aI=aM[4];function aK(){if(aJ){var aP=u(aJ);e.apply(aP,arguments)}if(this instanceof aK){var aO=m(aL.prototype),aN=aL.apply(aO,aP||arguments);return A(aN)?aN:aO}return aL.apply(aI,aP||arguments)}aB(aK,aM);return aK}function m(aI,aJ){return A(aI)?M(aI):{}}if(!M){m=(function(){function aI(){}return function(aK){if(A(aK)){aI.prototype=aK;var aJ=new aI;aI.prototype=null}return aJ||au.Object()}}())}function aH(aJ,aI,aM){if(typeof aJ!="function"){return R}if(typeof aI=="undefined"||!("prototype" in aJ)){return aJ}var aL=aJ.__bindData__;if(typeof aL=="undefined"){if(ax.funcNames){aL=!aJ.name}aL=aL||!ax.funcDecomp;if(!aL){var aK=t.call(aJ);if(!ax.funcNames){aL=!X.test(aK)}if(!aL){aL=d.test(aK);aB(aJ,aL)}}}if(aL===false||(aL!==true&&aL[1]&1)){return aJ}switch(aM){case 1:return function(aN){return aJ.call(aI,aN)};case 2:return function(aO,aN){return aJ.call(aI,aO,aN)};case 3:return function(aO,aN,aP){return aJ.call(aI,aO,aN,aP)};case 4:return function(aN,aP,aO,aQ){return aJ.call(aI,aN,aP,aO,aQ)}}return av(aJ,aI)}function O(aL){var aN=aL[0],aK=aL[1],aP=aL[2],aJ=aL[3],aS=aL[4],aI=aL[5];var aM=aK&1,aU=aK&2,aR=aK&4,aQ=aK&8,aT=aN;function aO(){var aW=aM?aS:this;if(aP){var aX=u(aP);e.apply(aX,arguments)}if(aJ||aR){aX||(aX=u(arguments));if(aJ){e.apply(aX,aJ)}if(aR&&aX.length<aI){aK|=16&~32;return O([aN,(aQ?aK:aK&~3),aX,null,aS,aI])}}aX||(aX=arguments);if(aU){aN=aW[aT]}if(this instanceof aO){aW=m(aN.prototype);var aV=aN.apply(aW,aX);return A(aV)?aV:aW}return aN.apply(aW,aX)}aB(aO,aL);return aO}function ar(a0,aZ,aP,aW,a2,a1){if(aP){var aU=aP(a0,aZ);if(typeof aU!="undefined"){return !!aU}}if(a0===aZ){return a0!==0||(1/a0==1/aZ)}var aO=typeof a0,aM=typeof aZ;if(a0===a0&&!(a0&&ad[aO])&&!(aZ&&ad[aM])){return false}if(a0==null||aZ==null){return a0===aZ}var aJ=ab.call(a0),aS=ab.call(aZ);if(aJ==f){aJ=ak}if(aS==f){aS=ak}if(aJ!=aS){return false}switch(aJ){case ae:case l:return +a0==+aZ;case ah:return(a0!=+a0)?aZ!=+aZ:(a0==0?(1/a0==1/aZ):a0==+aZ);case an:case P:return a0==String(aZ)}var aQ=aJ==D;if(!aQ){var aV=W.call(a0,"__wrapped__"),aI=W.call(aZ,"__wrapped__");if(aV||aI){return ar(aV?a0.__wrapped__:a0,aI?aZ.__wrapped__:aZ,aP,aW,a2,a1)}if(aJ!=ak){return false}var aN=a0.constructor,aK=aZ.constructor;if(aN!=aK&&!(aq(aN)&&aN instanceof aN&&aq(aK)&&aK instanceof aK)&&("constructor" in a0&&"constructor" in aZ)){return false}}var aT=!a2;a2||(a2=aE());a1||(a1=aE());var aL=a2.length;while(aL--){if(a2[aL]==a0){return a1[aL]==aZ}}var aX=0;aU=true;a2.push(a0);a1.push(aZ);if(aQ){aL=a0.length;aX=aZ.length;aU=aX==aL;if(aU||aW){while(aX--){var aR=aL,aY=aZ[aX];if(aW){while(aR--){if((aU=ar(a0[aR],aY,aP,aW,a2,a1))){break}}}else{if(!(aU=ar(a0[aX],aY,aP,aW,a2,a1))){break}}}}}else{aa(aZ,function(a5,a4,a3){if(W.call(a3,a4)){aX++;return(aU=W.call(a0,a4)&&ar(a0[a4],a5,aP,aW,a2,a1))}});if(aU&&!aW){aa(a0,function(a5,a4,a3){if(W.call(a3,a4)){return(aU=--aX>-1)}})}}a2.pop();a1.pop();if(aT){ap(a2);ap(a1)}return aU}function B(aO,aL,aP,aK,aU,aI){var aN=aL&1,aV=aL&2,aS=aL&4,aR=aL&8,aJ=aL&16,aQ=aL&32;if(!aV&&!aq(aO)){throw new TypeError}if(aJ&&!aP.length){aL&=~16;aJ=aP=false}if(aQ&&!aK.length){aL&=~32;aQ=aK=false}var aM=aO&&aO.__bindData__;if(aM&&aM!==true){aM=u(aM);if(aM[2]){aM[2]=u(aM[2])}if(aM[3]){aM[3]=u(aM[3])}if(aN&&!(aM[1]&1)){aM[4]=aU}if(!aN&&aM[1]&1){aL|=8}if(aS&&!(aM[1]&4)){aM[5]=aI}if(aJ){e.apply(aM[2]||(aM[2]=[]),aP)}if(aQ){ay.apply(aM[3]||(aM[3]=[]),aK)}aM[1]|=aL;return B.apply(null,aM)}var aT=(aL==1||aL===17)?C:O;return aT([aO,aL,aP,aK,aU,aI])}function aF(aI){return at[aI]}function L(aI){return typeof aI=="function"&&k.test(aI)}var aB=!q?al:function(aI,aJ){aA.value=aJ;q(aI,"__bindData__",aA)};var b=n||function(aI){return aI&&typeof aI=="object"&&typeof aI.length=="number"&&ab.call(aI)==D||false};var S=function(aK){var aJ,aL=aK,aI=[];if(!aL){return aI}if(!(ad[typeof aK])){return aI}for(aJ in aL){if(W.call(aL,aJ)){aI.push(aJ)}}return aI};var E=!aD?S:function(aI){if(!A(aI)){return[]}return aD(aI)};var at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var g=RegExp("["+E(at).join("")+"]","g");var Q=function(aM,aI,aP){var aO,aL=aM,aT=aL;if(!aL){return aT}var aR=arguments,aJ=0,aN=typeof aP=="number"?2:aR.length;while(++aJ<aN){aL=aR[aJ];if(aL&&ad[typeof aL]){var aQ=-1,aS=ad[typeof aL]&&E(aL),aK=aS?aS.length:0;while(++aQ<aK){aO=aS[aQ];if(typeof aT[aO]=="undefined"){aT[aO]=aL[aO]}}}}return aT};var aa=function(aM,aN,aJ){var aK,aL=aM,aI=aL;if(!aL){return aI}if(!ad[typeof aL]){return aI}aN=aN&&typeof aJ=="undefined"?aN:aH(aN,aJ,3);for(aK in aL){if(aN(aL[aK],aK,aM)===false){return aI}}return aI};var V=function(aK,aP,aN){var aL,aJ=aK,aQ=aJ;if(!aJ){return aQ}if(!ad[typeof aJ]){return aQ}aP=aP&&typeof aN=="undefined"?aP:aH(aP,aN,3);var aM=-1,aO=ad[typeof aJ]&&E(aJ),aI=aO?aO.length:0;while(++aM<aI){aL=aO[aM];if(aP(aJ[aL],aL,aK)===false){return aQ}}return aQ};function aq(aI){return typeof aI=="function"}function A(aI){return !!(aI&&ad[typeof aI])}function y(aK){var aJ=-1,aL=E(aK),aM=aL.length,aI=Array(aM);while(++aJ<aM){aI[aJ]=aK[aL[aJ]]}return aI}function aG(aN,aO,aJ){aO=x.createCallback(aO,aJ,3);var aK=-1,aL=aN?aN.length:0;if(typeof aL=="number"){while(++aK<aL){var aM=aN[aK];if(aO(aM,aK,aN)){return aM}}}else{var aI;V(aN,function(aQ,aP,aR){if(aO(aQ,aP,aR)){aI=aQ;return false}});return aI}}function am(aL,aM,aI){var aJ=-1,aK=aL?aL.length:0;aM=aM&&typeof aI=="undefined"?aM:aH(aM,aI,3);if(typeof aK=="number"){while(++aJ<aK){if(aM(aL[aJ],aJ,aL)===false){break}}}else{V(aL,aM)}return aL}function s(aM,aN,aJ){var aK=-1,aL=aM?aM.length:0;aN=x.createCallback(aN,aJ,3);if(typeof aL=="number"){var aI=Array(aL);while(++aK<aL){aI[aK]=aN(aM[aK],aK,aM)}}else{aI=[];V(aM,function(aP,aO,aQ){aI[++aK]=aN(aP,aO,aQ)})}return aI}var F=s;function a(aO,aP,aJ){var aL=-1,aN=b(aP),aM=aO?aO.length:0,aI=Array(typeof aM=="number"?aM:0);if(!aN){aP=x.createCallback(aP,aJ,3)}am(aO,function(aS,aR,aT){var aQ=aI[++aL]=N();if(aN){aQ.criteria=s(aP,function(aU){return aS[aU]})}else{(aQ.criteria=aE())[0]=aP(aS,aR,aT)}aQ.index=aL;aQ.value=aS});aM=aI.length;aI.sort(z);while(aM--){var aK=aI[aM];aI[aM]=aK.value;if(!aN){ap(aK.criteria)}v(aK)}return aI}function I(aO,aN,aJ){var aK=-1,aL=aO?aO.length:0,aI=[];aN=x.createCallback(aN,aJ,3);while(++aK<aL){var aM=aO[aK];if(aN(aM,aK,aO)){aI.push(aM);aj.call(aO,aK--,1);aL--}}return aI}function av(aJ,aI){return arguments.length>2?B(aJ,17,u(arguments,2),null,aI):B(aJ,1,null,null,aI)}function i(aN,aJ,aO){var aM=typeof aN;if(aN==null||aM=="function"){return aH(aN,aJ,aO)}if(aM!="object"){return ag(aN)}var aL=E(aN),aK=aL[0],aI=aN[aK];if(aL.length==1&&aI===aI&&!A(aI)){return function(aQ){var aP=aQ[aK];return aI===aP&&(aI!==0||(1/aI==1/aP))}}return function(aQ){var aR=aL.length,aP=false;while(aR--){if(!(aP=ar(aQ[aL[aR]],aN[aL[aR]],null,true))){break}}return aP}}function az(aI){return aI==null?"":String(aI).replace(g,aF)}function R(aI){return aI}function al(){}function ag(aI){return function(aJ){return aJ[aI]}}function G(aV,aP,aY){var aM=x.templateSettings;aV=String(aV||"");aY=Q({},aY,aM);var aK=Q({},aY.imports,aM.imports),aQ=E(aK),aL=y(aK);var aU,aR=0,aT=aY.interpolate||ai,aJ="__p += '";var aX=RegExp((aY.escape||ai).source+"|"+aT.source+"|"+(aT===H?c:ai).source+"|"+(aY.evaluate||ai).source+"|$","g");aV.replace(aX,function(aZ,a3,a1,a0,a2,a4){a1||(a1=a0);aJ+=aV.slice(aR,a4).replace(j,ao);if(a3){aJ+="' +\n__e("+a3+") +\n'"}if(a2){aU=true;aJ+="';\n"+a2+";\n__p += '"}if(a1){aJ+="' +\n((__t = ("+a1+")) == null ? '' : __t) +\n'"}aR=a4+aZ.length;return aZ});aJ+="';\n";var aN=aY.variable,aO=aN;if(!aO){aN="obj";aJ="with ("+aN+") {\n"+aJ+"\n}\n"}aJ=(aU?aJ.replace(Z,""):aJ).replace(T,"$1").replace(o,"$1;");aJ="function("+aN+") {\n"+(aO?"":aN+" || ("+aN+" = {});\n")+"var __t, __p = '', __e = _.escape"+(aU?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+aJ+"return __p\n}";var aI="\n/*\n//# sourceURL="+(aY.sourceURL||"/lodash/template/source["+(w++)+"]")+"\n*/";try{var aW=Function(aQ,"return "+aJ+aI).apply(r,aL)}catch(aS){aS.source=aJ;throw aS}if(aP){return aW(aP)}aW.source=aJ;return aW}x.bind=av;x.createCallback=i;x.defaults=Q;x.forEach=am;x.forIn=aa;x.forOwn=V;x.keys=E;x.map=s;x.pluck=F;x.property=ag;x.remove=I;x.sortBy=a;x.values=y;x.collect=s;x.each=am;x.escape=az;x.find=aG;x.identity=R;x.isArray=b;x.isFunction=aq;x.isObject=A;x.noop=al;x.template=G;x.detect=aG;x.findWhere=aG;x.VERSION="2.4.1";if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){au._=x;define(function(){return x})}else{if(p&&K){if(aC){(K.exports=x)._=x}else{p._=x}}else{au._=x}}}.call(this));
(function(c){var a=this;(function(d,e){if(typeof exports==="object"){module.exports=e()}else{if(typeof define==="function"&&define.amd){define(e)}else{d.PubSub=e()}}}((typeof window==="object"&&window)||this,function(){var m={name:"PubSubJS",version:"1.3.7"},h={},k=-1;function l(o){return function n(){throw o}}function e(o,p,q){try{o(p,q)}catch(n){setTimeout(l(n),0)}}function i(n,o,p){n(o,p)}function g(o,r,s,u){var t=h[r],n=u?i:e,q,p;if(!h.hasOwnProperty(r)){return}for(q=0,p=t.length;q<p;q++){n(t[q].func,o,s)}}function f(n,o,q){return function p(){var s=String(n),r=s.lastIndexOf(".");g(n,n,o,q);while(r!==-1){s=s.substr(0,r);r=s.lastIndexOf(".");g(n,s,o)}}}function j(p){var o=String(p),q=h.hasOwnProperty(o),n=o.lastIndexOf(".");while(!q&&n!==-1){o=o.substr(0,n);n=o.lastIndexOf(".");q=h.hasOwnProperty(o)}return q&&h[o].length>0}function d(p,q,o,s){var r=f(p,q,s),n=j(p);if(!n){return false}if(o===true){r()}else{setTimeout(r,0)}return true}m.publish=function(n,o){return d(n,o,false,m.immediateExceptions)};m.publishSync=function(n,o){return d(n,o,true,m.immediateExceptions)};m.subscribe=function(p,o){if(!h.hasOwnProperty(p)){h[p]=[]}var n=String(++k);h[p].push({token:n,func:o});return n};m.unsubscribe=function(t){var r=typeof t==="string",q=r?"token":"func",s=r?t:true,o=false,n,p;for(n in h){if(h.hasOwnProperty(n)){for(p=h[n].length-1;p>=0;p--){if(h[n][p][q]===t){h[n].splice(p,1);o=s;if(r){return o}}}}}return o};return m}));if(c.pubsub){c.error("pubsub is already defined on jQuery, skipping integration of PubSubJS");return false}function b(d){if(PubSub.hasOwnProperty(d)&&typeof PubSub[d]==="function"){return PubSub[d].apply(a,Array.prototype.slice.call(arguments,1))}else{c.error("Method "+d+" does not exist on jQuery.pubsub")}}b.version=PubSub.name+" "+PubSub.version;c.pubsub=b}(jQuery));
(function(c,g){var d=c.document,k=(c.jQuery||c.Zepto||c.ender||d),p,f,a,h="keydown";function o(i,n){return(i===null)?n==="null":(i===undefined)?n==="undefined":(i.is&&i instanceof k)?n==="element":Object.prototype.toString.call(i).toLowerCase().indexOf(n)>7}if(k===d){p=function(i,n){return i?k.querySelector(i,n||k):k};f=function(n,i){n.addEventListener(h,i,false)};a=function(t,n){var r=d.createEvent("Event"),s;r.initEvent(h,true,true);for(s in n){r[s]=n[s]}return(t||k).dispatchEvent(r)}}else{p=function(i,n){return k(i||d,n)};f=function(n,i){k(n).bind(h+".jwerty",i)};a=function(n,i){k(n||d).trigger(k.Event(h,i))}}var m={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"};var l={mods:{"":16,shift:16,"":17,ctrl:17,"":18,alt:18,option:18,"":91,meta:91,cmd:91,"super":91,win:91},keys:{"":8,backspace:8,"":9,"":9,tab:9,"":13,"return":13,enter:13,"":13,pause:19,"pause-break":19,"":20,caps:20,"caps-lock":20,"":27,escape:27,esc:27,space:32,"":33,pgup:33,"page-up":33,"":34,pgdown:34,"page-down":34,"":35,end:35,"":36,home:36,ins:45,insert:45,del:46,"delete":46,"":37,left:37,"arrow-left":37,"":38,up:38,"arrow-up":38,"":39,right:39,"arrow-right":39,"":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}};var j=47,e=0;while(++j<106){l.keys[e]=j;l.keys["num-"+e]=j+48;++e}j=111,e=1;while(++j<136){l.keys["f"+e]=j;++e}j=64;while(++j<91){l.keys[String.fromCharCode(j).toLowerCase()]=j}function b(t){var v,w,s,x,y,r,B,u,A;if(t instanceof b){return t}if(!o(t,"array")){t=(String(t)).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g)}for(v=0,w=t.length;v<w;++v){if(!o(t[v],"array")){t[v]=String(t[v]).match(/(?:\+\/|[^\/])+/g)}r=[],s=t[v].length;while(s--){B=t[v][s];y={jwertyCombo:String(B),shiftKey:false,ctrlKey:false,altKey:false,metaKey:false};if(!o(B,"array")){B=String(B).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)}x=B.length;while(x--){if(B[x]==="++"){B[x]="+"}if(B[x] in l.mods){y[m[l.mods[B[x]]]]=true}else{if(B[x] in l.keys){y.keyCode=l.keys[B[x]]}else{u=B[x].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/)}}}if(o(y.keyCode,"undefined")){if(u&&(u[1] in l.keys)&&(u[2] in l.keys)){u[2]=l.keys[u[2]];u[1]=l.keys[u[1]];for(A=u[1];A<u[2];++A){r.push({altKey:y.altKey,shiftKey:y.shiftKey,metaKey:y.metaKey,ctrlKey:y.ctrlKey,keyCode:A,jwertyCombo:String(B)})}y.keyCode=A}else{y.keyCode=0}}r.push(y)}this[v]=r}this.length=v;return this}var q=g.jwerty={event:function(s,t,r){if(o(t,"boolean")){var n=t;t=function(){return n}}s=new b(s);var u=0,x=s.length-1,w,v;return function(i){if((v=q.is(s,i,u))){if(u<x){++u;return}else{w=t.call(r||this,i,v);if(w===false){i.preventDefault()}u=0;return}}u=q.is(s,i)?1:0}},is:function(r,u,s){r=new b(r);s=s||0;r=r[s];u=u.originalEvent||u;var w=r.length,t=false;while(w--){t=r[w].jwertyCombo;for(var v in r[w]){if(v!=="jwertyCombo"&&u[v]!=r[w][v]){t=false}}if(t!==false){return t}}return t},key:function(r,t,n,i,w){var v=o(n,"element")||o(n,"string")?n:i,s=v===n?c:n,u=v===n?i:w;f(o(v,"element")?v:p(v,u),q.event(r,t,s))},fire:function(r,n,u,t){r=new b(r);var s=o(u,"number")?u:t;a(o(n,"element")?n:p(n,u),r[s||0][0])},KEYS:l}}(this,(typeof module!=="undefined"&&module.exports?module.exports:this)));
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){var b=(window.styleMedia||window.media);if(!b){var c=document.createElement("style"),a=document.getElementsByTagName("script")[0],d=null;c.type="text/css";c.id="matchmediajs-test";a.parentNode.insertBefore(c,a);d=("getComputedStyle" in window)&&window.getComputedStyle(c,null)||c.currentStyle;b={matchMedium:function(e){var f="@media "+e+"{ #matchmediajs-test { width: 1px; } }";if(c.styleSheet){c.styleSheet.cssText=f}else{c.textContent=f}return d.width==="1px"}}}return function(e){return{matches:b.matchMedium(e||"all"),media:e||"all"}}}());
/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
(function(){if(window.matchMedia&&window.matchMedia("all").addListener){return false}var e=window.matchMedia,a=e("only all").matches,d=false,f=0,c=[],b=function(g){clearTimeout(f);f=setTimeout(function(){for(var n=0,k=c.length;n<k;n++){var h=c[n].mql,o=c[n].listeners||[],p=e(h.media).matches;if(p!==h.matches){h.matches=p;for(var l=0,m=o.length;l<m;l++){o[l].call(window,h)}}}},30)};window.matchMedia=function(j){var g=e(j),i=[],h=0;g.addListener=function(k){if(!a){return}if(!d){d=true;window.addEventListener("resize",b,true)}if(h===0){h=c.push({mql:g,listeners:i})}i.push(k)};g.removeListener=function(m){for(var l=0,k=i.length;l<k;l++){if(i[l]===m){i.splice(l,1)}}};return g}}());
(function(a,c,b){if(typeof define==="function"&&define.amd){define(["jquery"],function(d){b(d,a,c);return d.mobile})}else{b(a.jQuery,a,c)}}(this,document,function(c,b,a,d){(function(B,K,j,q){var J="virtualMouseBindings",f="virtualTouchID",e="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),A="clientX clientY pageX pageY screenX screenY".split(" "),G=B.event.mouseHooks?B.event.mouseHooks.props:[],C=B.event.props.concat(G),E={},L=0,w=0,v=0,t=false,O=[],l=false,V=false,y="addEventListener" in j,x=B(j),I=1,R=0,g,P;B.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function u(i){while(i&&typeof i.originalEvent!=="undefined"){i=i.originalEvent}return i}function m(X,Y){var ag=X.type,ah,af,Z,W,ad,ac,ab,aa,ae;X=B.Event(X);X.type=Y;ah=X.originalEvent;af=B.event.props;if(ag.search(/^(mouse|click)/)>-1){af=C}if(ah){for(ab=af.length,W;ab;){W=af[--ab];X[W]=ah[W]}}if(ag.search(/mouse(down|up)|click/)>-1&&!X.which){X.which=1}if(ag.search(/^touch/)!==-1){Z=u(ah);ag=Z.touches;ad=Z.changedTouches;ac=(ag&&ag.length)?ag[0]:((ad&&ad.length)?ad[0]:q);if(ac){for(aa=0,ae=A.length;aa<ae;aa++){W=A[aa];X[W]=ac[W]}}}return X}function T(Y){var W={},i,X;while(Y){i=B.data(Y,J);for(X in i){if(i[X]){W[X]=W.hasVirtualBinding=true}}Y=Y.parentNode}return W}function F(X,W){var i;while(X){i=B.data(X,J);if(i&&(!W||i[W])){return X}X=X.parentNode}return null}function N(){V=false}function o(){V=true}function U(){R=0;O.length=0;l=false;o()}function s(){N()}function z(){D();L=setTimeout(function(){L=0;U()},B.vmouse.resetTimerDuration)}function D(){if(L){clearTimeout(L);L=0}}function r(X,Y,i){var W;if((i&&i[X])||(!i&&F(Y.target,X))){W=m(Y,X);B(Y.target).trigger(W)}return W}function n(W){var X=B.data(W.target,f),i;if(!l&&(!R||R!==X)){i=r("v"+W.type,W);if(i){if(i.isDefaultPrevented()){W.preventDefault()}if(i.isPropagationStopped()){W.stopPropagation()}if(i.isImmediatePropagationStopped()){W.stopImmediatePropagation()}}}}function S(X){var Z=u(X).touches,Y,i,W;if(Z&&Z.length===1){Y=X.target;i=T(Y);if(i.hasVirtualBinding){R=I++;B.data(Y,f,R);D();s();t=false;W=u(X).touches[0];w=W.pageX;v=W.pageY;r("vmouseover",X,i);r("vmousedown",X,i)}}}function M(i){if(V){return}if(!t){r("vmousecancel",i,T(i.target))}t=true;z()}function h(Z){if(V){return}var X=u(Z).touches[0],W=t,Y=B.vmouse.moveDistanceThreshold,i=T(Z.target);t=t||(Math.abs(X.pageX-w)>Y||Math.abs(X.pageY-v)>Y);if(t&&!W){r("vmousecancel",Z,i)}r("vmousemove",Z,i);z()}function k(Y){if(V){return}o();var i=T(Y.target),W,X;r("vmouseup",Y,i);if(!t){W=r("vclick",Y,i);if(W&&W.isDefaultPrevented()){X=u(Y).changedTouches[0];O.push({touchID:R,x:X.clientX,y:X.clientY});l=true}}r("vmouseout",Y,i);t=false;z()}function H(W){var X=B.data(W,J),i;if(X){for(i in X){if(X[i]){return true}}}return false}function Q(){}function p(i){var W=i.substr(1);return{setup:function(){if(!H(this)){B.data(this,J,{})}var X=B.data(this,J);X[i]=true;E[i]=(E[i]||0)+1;if(E[i]===1){x.bind(W,n)}B(this).bind(W,Q);if(y){E.touchstart=(E.touchstart||0)+1;if(E.touchstart===1){x.bind("touchstart",S).bind("touchend",k).bind("touchmove",h).bind("scroll",M)}}},teardown:function(){--E[i];if(!E[i]){x.unbind(W,n)}if(y){--E.touchstart;if(!E.touchstart){x.unbind("touchstart",S).unbind("touchmove",h).unbind("touchend",k).unbind("scroll",M)}}var X=B(this),Y=B.data(this,J);if(Y){Y[i]=false}X.unbind(W,Q);if(!H(this)){X.removeData(J)}}}}for(P=0;P<e.length;P++){B.event.special[e[P]]=p(e[P])}if(y){j.addEventListener("click",function(aa){var X=O.length,ab=aa.target,ad,ac,ae,Z,W,Y;if(X){ad=aa.clientX;ac=aa.clientY;g=B.vmouse.clickDistanceThreshold;ae=ab;while(ae){for(Z=0;Z<X;Z++){W=O[Z];Y=0;if((ae===ab&&Math.abs(W.x-ad)<g&&Math.abs(W.y-ac)<g)||B.data(ae,f)===W.touchID){aa.preventDefault();aa.stopPropagation();return}}ae=ae.parentNode}}},true)}})(c,b,a);(function(e){e.mobile={}}(c));(function(f,g){var e={touch:"ontouchend" in a};f.mobile.support=f.mobile.support||{};f.extend(f.support,e);f.extend(f.mobile.support,e)}(c));(function(h,m,e){var f=h(a),i=h.mobile.support.touch,j="touchmove scroll",n=i?"touchstart":"mousedown",l=i?"touchend":"mouseup",g=i?"touchmove":"mousemove";h.each(("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop").split(" "),function(p,o){h.fn[o]=function(q){return q?this.bind(o,q):this.trigger(o)};if(h.attrFn){h.attrFn[o]=true}});function k(s,p,r,o){var q=r.type;r.type=p;if(o){h.event.trigger(r,e,s)}else{h.event.dispatch.call(s,r)}r.type=q}h.event.special.scrollstart={enabled:true,setup:function(){var o=this,r=h(o),q,s;function p(t,u){q=u;k(o,q?"scrollstart":"scrollstop",t)}r.bind(j,function(t){if(!h.event.special.scrollstart.enabled){return}if(!q){p(t,true)}clearTimeout(s);s=setTimeout(function(){p(t,false)},50)})},teardown:function(){h(this).unbind(j)}};h.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:true,setup:function(){var o=this,q=h(o),p=false;q.bind("vmousedown",function(t){p=false;if(t.which&&t.which!==1){return false}var s=t.target,w;function r(){clearTimeout(w)}function v(){r();q.unbind("vclick",u).unbind("vmouseup",r);f.unbind("vmousecancel",v)}function u(x){v();if(!p&&s===x.target){k(o,"tap",x)}else{if(p){x.preventDefault()}}}q.bind("vmouseup",r).bind("vclick",u);f.bind("vmousecancel",v);w=setTimeout(function(){if(!h.event.special.tap.emitTapOnTaphold){p=true}k(o,"taphold",h.Event("taphold",{target:s}))},h.event.special.tap.tapholdThreshold)})},teardown:function(){h(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");f.unbind("vmousecancel")}};h.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(r){var q=m.pageXOffset,p=m.pageYOffset,o=r.clientX,s=r.clientY;if(r.pageY===0&&Math.floor(s)>Math.floor(r.pageY)||r.pageX===0&&Math.floor(o)>Math.floor(r.pageX)){o=o-q;s=s-p}else{if(s<(r.pageY-p)||o<(r.pageX-q)){o=r.pageX-q;s=r.pageY-p}}return{x:o,y:s}},start:function(p){var q=p.originalEvent.touches?p.originalEvent.touches[0]:p,o=h.event.special.swipe.getLocation(q);return{time:(new Date()).getTime(),coords:[o.x,o.y],origin:h(p.target)}},stop:function(p){var q=p.originalEvent.touches?p.originalEvent.touches[0]:p,o=h.event.special.swipe.getLocation(q);return{time:(new Date()).getTime(),coords:[o.x,o.y]}},handleSwipe:function(s,p,o,q){if(p.time-s.time<h.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-p.coords[0])>h.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-p.coords[1])<h.event.special.swipe.verticalDistanceThreshold){var r=s.coords[0]>p.coords[0]?"swipeleft":"swiperight";k(o,"swipe",h.Event("swipe",{target:q,swipestart:s,swipestop:p}),true);k(o,r,h.Event(r,{target:q,swipestart:s,swipestop:p}),true);return true}return false},eventInProgress:false,setup:function(){var q,o=this,r=h(o),p={};q=h.data(this,"mobile-events");if(!q){q={length:0};h.data(this,"mobile-events",q)}q.length++;q.swipe=p;p.start=function(u){if(h.event.special.swipe.eventInProgress){return}h.event.special.swipe.eventInProgress=true;var s,w=h.event.special.swipe.start(u),t=u.target,v=false;p.move=function(x){if(!w||x.isDefaultPrevented()){return}s=h.event.special.swipe.stop(x);if(!v){v=h.event.special.swipe.handleSwipe(w,s,o,t);if(v){h.event.special.swipe.eventInProgress=false}}if(Math.abs(w.coords[0]-s.coords[0])>h.event.special.swipe.scrollSupressionThreshold){x.preventDefault()}};p.stop=function(){v=true;h.event.special.swipe.eventInProgress=false;f.off(g,p.move);p.move=null};f.on(g,p.move).one(l,p.stop)};r.on(n,p.start)},teardown:function(){var p,o;p=h.data(this,"mobile-events");if(p){o=p.swipe;delete p.swipe;p.length--;if(p.length===0){h.removeData(this,"mobile-events")}}if(o){if(o.start){h(this).off(n,o.start)}if(o.move){f.off(g,o.move)}if(o.stop){f.off(l,o.stop)}}}};h.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(p,o){h.event.special[p]={setup:function(){h(this).bind(o,h.noop)},teardown:function(){h(this).unbind(o)}}})})(c,this)}));
(function(){var b=typeof exports!="undefined"?exports:this;var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(d){this.message=d}a.prototype=new Error;a.prototype.name="InvalidCharacterError";b.btoa||(b.btoa=function(g){var j=String(g);for(var i,e,d=0,h=c,f="";j.charAt(d|0)||(h="=",d%1);f+=h.charAt(63&i>>8-d%1*8)){e=j.charCodeAt(d+=3/4);if(e>255){throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.")}i=i<<8|e}return f});b.atob||(b.atob=function(g){var j=String(g).replace(/=+$/,"");if(j.length%4==1){throw new a("'atob' failed: The string to be decoded is not correctly encoded.")}for(var i=0,h,e,d=0,f="";e=j.charAt(d++);~e&&(h=i%4?h*64+e:e,i++%4)?f+=String.fromCharCode(255&h>>(-2*i&6)):0){e=c.indexOf(e)}return f})}());
var App=(function(c,b){var d={},e="/bundles/common/js/SdZ",a={modules:{},paths:{appBase:e,lib:e+"/lib",widgets:e+"/widgets"},packages_url:{tinymce:"/js/tinymce.js"},modulesConfig:{map:{underscore:window._,jquery:window.jQuery},autoInstantiate:{"widgets/wysiwygEditor/tinymce/plugins/claireEmoticons/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireSave/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireCode/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireImage/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireMath/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireSanitize/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireFormats/plugin":true,"widgets/wysiwygEditor/tinymce/plugins/claireVideo/plugin":true}}},f;if(c.preferences){a=$.extend(true,a,c.preferences);delete (c.preferences)}f={get:function(g){return(d[g])},isInit:function(i){var g=this.getInstance(i),h=false;if(g){h=g._isInit}return h},deleteAllInstances:function(){var g=this;Object.keys(d).forEach(function(h){g.deleteInstance(h)})},deleteInstance:function(g){if(!$.isArray(g)){g=[g]}g.forEach(function(h){if(d[h]){delete d[h].instance}})},hasInstance:function(g){return d[g]?!!d[g].instance:false},getInstance:function(i){var g=(d[i]&&d[i].instance)?d[i].instance:null,h=[];if(!g&&d[i]){if(d[i].dependencies){h=d[i].dependencies.map(function(k){var j;if(window[k]){j=window[k]}else{j=require(k)}return j})}g=(typeof d[i].factory==="function")?d[i].factory.apply(this,h):d[i].factory;d[i].instance=g;c.log("module instance created: "+i)}return g},define:function(i,h,g){if(arguments.length===2){g=h;h=null}d[i]={factory:g,dependencies:h||[]};if(a.modulesConfig.autoInstantiate[i]){f.getInstance(i)}c.log("module defined: "+i)},require:function(h){var g;if(h.match(/sh[A-D].*/)){return{SyntaxHighlighter:window.SyntaxHighlighter||null}}g=(a.modulesConfig.map[h]||window[h]||(f.getInstance(h)));if(!g){c.log("undefined module required: "+h)}return g},start:function(j){var h=d[j],g=a.modules[j]||{};if(g.disabled!==true){if(h.instance){h.instance.preferences=$.extend({},h.instance.defaultPreferences||{},g);if(typeof h.instance.init==="function"){try{h.instance.init();h.instance._isInit=true;c.log("module start: "+j)}catch(i){}}}}},startAll:function(){var g=this;$.each(d,function(i){var h=f.getInstance(i);if(h&&h.init){g.start(i)}})}};$.extend(c,{events:(typeof PubSub!=="undefined")?PubSub:{},log:function(){if(c.debug&&typeof console!=="undefined"&&console.log){if(console.log.apply){console.log.apply(console,arguments)}else{console.log(arguments[0])}}},warn:function(){if(c.debug&&typeof console!=="undefined"&&console.warn){if(console.log.apply){console.warn.apply(console,arguments)}else{console.log(arguments[0])}}},string:{format:function(){var g=Array.prototype.slice.call(arguments,1);return arguments[0].replace(/\{(\d+)\}/g,function(j,h){return g[h]})}},i18n:function(){if(c._i18n&&c._i18n.fr_FR){arguments[0]=c._i18n.fr_FR[arguments[0]]||arguments[0]}return c.string.format.apply(this,arguments)},modules:f,getPreferences:function(){return a},setPreferences:function(g){a=g}});return c})(App||{},_);App.modules.define("app/core",App);App.modules.define("i18n",function(){return App.i18n});App.modules.define("utils/string",function(){return App.string});window.define=App.modules.define;window.require=App.modules.require;window.template=_.template;if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")};
var App=App||{};App._i18n=App._i18n||{};App._i18n.fr_FR={close:"fermer","Do you confirm this action ?":"Confirmez-vous cette action ?","An error has occured. Please try later.":"Une erreur est survenue. Veuillez r-essayer plus tard.","An error has occured while saving the course. Please try later.":"Une erreur est survenue pendant la sauvegarde du cours. Veuillez r-essayer plus tard.","Subscribe for free to this course to see those videos.":"Inscrivez-vous gratuitement  ce cours pour visionner ces vidos.","You must connect to see this video.":"Connectez-vous pour consulter cette vido.","To see this video you must to subscribe at this course. Do you want do now ? it s free !":"Pour voir cette vido, vous devez vous inscrire au cours. Voulez-vous le faire maintenant ? C'est gratuit !",Connect:"Connectez-vous",Yes:"Oui",No:"Non"};
define("constants",{EVENT:{FLASHMESSAGE:"FlashMessage",RESPONSIVE_BREAKPOINT_CHANGE:"ResponsiveBreakpointChange",DOWNLOAD_PDF:"Download.Pdf",VIEW_COURSE:"View.Course",VIEW_PART:"View.Part",RESTRICTED_PAGE_VIEW:"Restricted Page View",LOG:"Log",FILLED_FORM_START:"Filled Form Started",VIEWED_REFERRAL_CODE:"Viewed Referral Code",COPIED_REFERRAL_CODE:"Copied Referral Code",VIEWED_ELEMENT:"Viewed Element",SEGMENTIO_VIEWED_PRODUCT_CATEGORY2:"Viewed Product Category #2"}});
define("utils/log",["app/core","common/pubsub"],function(a,c){var b=Date.now();c.subscribe(c.EVENT.LOG,function(d,e){a.log("%c %s %c "+e,"background-color:green;color:white;",(Date.now()-b),"color:black")})});
define("common/commands",["App"],function(b){var d=this,a={};function c(f,g){a[f]=g}function e(i,g,h){var f;if(!Array.isArray(g)){g=[g]}if(a[i]){f=a[i].apply(h||d,g)}else{b.warn('command "'+i+'" does not exist.')}return f}b.commands=a;return{add:c,execute:e}});
define("anchors",["jQuery","common/commands"],function(d,a){var c={};function e(){var f=false;d.each(c,function(i,h){var g=window.location.hash.match(h.regExp);if(g&&!f){h.callback(h,g);f=true}})}function b(f,h){var g={string:f,regExp:new RegExp(f),callback:h};c[f]=g}a.add("registerAnchor",b);return{init:function(){setTimeout(function(){e()},250)}}});
define("common/errorFactory",function(){var a={};function c(d){var f=function(e){this.name=d;this.message=(e||"")};try{f.prototype=Object.create(Error.prototype);f.prototype.constructor=f}catch(g){f.prototype=new Error()}return f}function b(d){var e=a[d];if(!e){e=c(d)}return e}return b});
define("class/Queue",["jQuery"],function(d){var c=function(h,g){this.options=g||{};this.options=d.extend({delay:1000,processWhenHidden:false},g||{});this.isProcessing=false;this.items=[];this.callback=h;document.addEventListener("visibilitychange",d.proxy(this._handleVisibilityChange,this),false)};c.prototype._handleVisibilityChange=function a(){if(this._canProcess()){this._process()}};c.prototype.add=function e(g){if(Array.isArray(g)){this.items=this.items.concat(g)}else{this.items.push(g)}if(this._canProcess()){this._process()}};c.prototype._process=function b(){var g=this,h;h=this.items.shift();if(h){this.isProcessing=true;this.callback(h,function(){setTimeout(d.proxy(g._process,g),g.options.delay)})}else{this.isProcessing=false}};c.prototype._canProcess=function f(){var h=this.options.processWhenHidden,g=h||!(h||document.hidden),i=this.items.length;return(g&&i&&!this.isProcessing)};return c});
define("common/pubsub",["constants"],function(a){function b(c,d){if(!a.EVENT[c]){a.EVENT[c]=c}PubSub.subscribe(c,d)}return{EVENT:a.EVENT,register:b,subscribe:PubSub.subscribe,publish:PubSub.publish}});
define("common/router",function(){var a={COURSE_EVENT:"/components/courses/:courseId",COURSE_PART_EVENT:"/components/courses/:courseId/parts/:partId"};function b(f,d){var e=/:(\w+)/gi,c,g;do{c=e.exec(f);if(c){g=d[c[1]];f=f.replace(":"+c[1],g)}}while(c);return f}return{ROUTES:a,getUrl:b}});
define("common/popinEventManager",["common/pubsub","popin"],function(e,a){var d=[[e.EVENT.RESTRICTED_PAGE_VIEW,"#popin-view-restriction"]],c={};function b(f){a.open(c[f])}d.forEach(function(f){e.subscribe(f[0],b);c[f[0]]=f[1]})});
define("common/cookies",function(){var a={getItem:function(b){if(!b){return null}return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,h,d,c,b,f){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){return false}var g="";if(d){switch(d.constructor){case Number:g=d===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+d;break;case String:g="; expires="+d;break;case Date:g="; expires="+d.toUTCString();break}}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(h)+g+(b?"; domain="+b:"")+(c?"; path="+c:"")+(f?"; secure":"");return true},removeItem:function(d,c,b){if(!this.hasItem(d)){return false}document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+(c?"; path="+c:"");return true},hasItem:function(b){if(!b){return false}return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},keys:function(){var b=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var d=b.length,c=0;c<d;c++){b[c]=decodeURIComponent(b[c])}return b}};return a});
define("common/smoothScrollLinks",function(){$(document).on("click",".js-smoothScroll",function(b){var a=$(this).attr("href"),c=750;if(a.match(/^#/)){b.preventDefault();$("html, body").animate({scrollTop:$(a).offset().top},c)}})});
define("user",["app/core","common/cookies"],function(d,c){var a,b;function e(f){this.conf=f||{}}e.prototype.isConnected=function(){return !!this.conf.id};e.prototype.isPremium=function(){return !!this.conf.isPremium};e.prototype.getDisplayName=function(){return this.conf.displayName||""};e.prototype.getEmail=function(){return this.conf.email||""};a=new e(d.user);b=document.location.pathname;if(b!=="/"){c.removeItem("isPremium",b);c.removeItem("isMember",b)}c.setItem("isPremium",a.isPremium(),Infinity,"/");c.setItem("isMember",a.isConnected(),Infinity,"/");return a});
define("common/tracesDispatcher",["class/Queue","common/pubsub"],function(c,e){var h,d={},i=null,f={};function g(j,k){if(!f[j]){e.publish(e.EVENT.LOG,"Event engine: subscribe -"+j+"- for "+k+" engine");e.subscribe(j,function(l,m){i.add({event:l,properties:m})});f[j]=true}}function b(k,j){Object.keys(d).forEach(function(l){var m=d[l];if(k.autoSubscribe&&k.autoSubscribe[l]){e.publish(e.EVENT.LOG,"Event engine: autoSubscribe -"+k.event+"- to "+m.name);h.addEventToEngine(l,k.event)}if(m.events.indexOf(k.event)>=0){e.publish(e.EVENT.LOG,"Event engine: dispatch -"+k.event+"- to "+m.name);m.processor(k)}});j()}function a(){var j=[];$('script[type="application/json"][id^="_EVENTS-"]').each(function(m,k){try{k=JSON.parse($(k).html());k.autoSubscribe={SegmentIO:true};j.push(k)}catch(l){}});setTimeout(function(){i.add(j)},200)}i=new c(b);h={EVENT:e.EVENT,init:function(){a()},register:function(j,l,k){e.publish(e.EVENT.LOG,"Event engine: "+j+" registered.");d[j]={name:j,processor:l,events:[]};this.addEventToEngine(j,k);k.forEach(function(m){g(m,j)})},addEventToEngine:function(j,k){if(!$.isArray(k)){k=[k]}d[j].events=$.merge(d[j].events,k)}};return h});
define("events/segment.io",["jQuery","common/tracesDispatcher"],function(g,b){var c="SegmentIO",d=b.EVENT,a=window.analytics,h=[d.FILLED_FORM_START,d.VIEWED_REFERRAL_CODE,d.COPIED_REFERRAL_CODE,d.VIEWED_ELEMENT];function f(j){var i={All:false,"Facebook Conversion Tracking":true,"Google Analytics":true,AdWords:true,"Twitter Ads":true,"Google Tag Manager":true};switch(j.event){case d.FILLED_FORM_START:if(j.properties.formName==="Sign Up"){j.event="Started To Fill Signup";delete (j.properties)}else{j=null}break;case d.VIEWED_ELEMENT:if(j.properties.name==="homeProduct"){j={event:d.SEGMENTIO_VIEWED_PRODUCT_CATEGORY2,properties:{category:"Premium",source:"home"},integrations:i}}else{j=null}break}return(j&&j.event)?[j.event,j.properties,j.integrations]:null}function e(i){var j;j=f(i);if(a&&j){a[i.type||"track"].apply(null,j)}}b.register(c,e,h)});
define("events/oc",["common/tracesDispatcher","common/router"],function(b,a){var c=b.EVENT,f=[c.VIEW_COURSE,c.VIEW_PART];function e(h){var g=null,i=null;switch(h.event){case c.VIEW_COURSE:g=h.properties.courseId?a.getUrl(a.ROUTES.COURSE_EVENT,{courseId:h.properties.courseId}):null;break;case c.VIEW_PART:g=h.properties.courseId?a.getUrl(a.ROUTES.COURSE_PART_EVENT,{courseId:h.properties.courseId,partId:h.properties.partId}):null;break}return g?{url:g,data:i}:null}function d(g){var h=e(g);if(h){$.post(h.url,h.data)}}b.register("OpenClassrooms",d,f)});
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(l,o,i,e){var p=i("html"),d=i(l),a=i(o),q=i.fancybox=function(){q.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/i),c=null,f=o.createTouch!==e,j=function(r){return r&&r.hasOwnProperty&&r instanceof i},b=function(r){return r&&i.type(r)==="string"},m=function(r){return b(r)&&r.indexOf("%")>0},h=function(r){return(r&&!(r.style.overflow&&r.style.overflow==="hidden")&&((r.clientWidth&&r.scrollWidth>r.clientWidth)||(r.clientHeight&&r.scrollHeight>r.clientHeight)))},n=function(t,s){var r=parseInt(t,10)||0;if(s&&m(t)){r=q.getViewport()[s]/100*r}return Math.ceil(r)},g=function(r,s){return n(r,s)+"px"};i.extend(q,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!f,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(s,r){if(!s){return}if(!i.isPlainObject(r)){r={}}if(false===q.close(true)){return}if(!i.isArray(s)){s=j(s)?i(s).get():[s]}i.each(s,function(x,y){var w={},t,B,z,A,v,C,u;if(i.type(y)==="object"){if(y.nodeType){y=i(y)}if(j(y)){w={href:y.data("fancybox-href")||y.attr("href"),title:y.data("fancybox-title")||y.attr("title"),isDom:true,element:y};if(i.metadata){i.extend(true,w,y.metadata())}}else{w=y}}t=r.href||w.href||(b(y)?y:null);B=r.title!==e?r.title:w.title||"";z=r.content||w.content;A=z?"html":(r.type||w.type);if(!A&&w.isDom){A=y.data("fancybox-type");if(!A){v=y.prop("class").match(/fancybox\.(\w+)/);A=v?v[1]:null}}if(b(t)){if(!A){if(q.isImage(t)){A="image"}else{if(q.isSWF(t)){A="swf"}else{if(t.charAt(0)==="#"){A="inline"}else{if(b(y)){A="html";z=y}}}}}if(A==="ajax"){C=t.split(/\s+/,2);t=C.shift();u=C.shift()}}if(!z){if(A==="inline"){if(t){z=i(b(t)?t.replace(/.*(?=#[^\s]+$)/,""):t)}else{if(w.isDom){z=y}}}else{if(A==="html"){z=t}else{if(!A&&!t&&w.isDom){A="inline";z=y}}}}i.extend(w,{href:t,type:A,content:z,title:B,selector:u});s[x]=w});q.opts=i.extend(true,{},q.defaults,r);if(r.keys!==e){q.opts.keys=r.keys?i.extend({},q.defaults.keys,r.keys):false}q.group=s;return q._start(q.opts.index)},cancel:function(){var r=q.coming;if(false===q.trigger("onCancel")){return}q.hideLoading();if(!r){return}if(q.ajaxLoad){q.ajaxLoad.abort()}q.ajaxLoad=null;if(q.imgPreload){q.imgPreload.onload=q.imgPreload.onerror=null}if(r.wrap){r.wrap.stop(true,true).trigger("onReset").remove()}q.coming=null;if(!q.current){q._afterZoomOut(r)}},close:function(r){q.cancel();if(false===q.trigger("beforeClose")){return}q.unbindEvents();if(!q.isActive){return}if(!q.isOpen||r===true){i(".fancybox-wrap").stop(true).trigger("onReset").remove();q._afterZoomOut()}else{q.isOpen=q.isOpened=false;q.isClosing=true;i(".fancybox-item, .fancybox-nav").remove();q.wrap.stop(true,true).removeClass("fancybox-opened");q.transitions[q.current.closeMethod]()}},play:function(t){var r=function(){clearTimeout(q.player.timer)},v=function(){r();if(q.current&&q.player.isActive){q.player.timer=setTimeout(q.next,q.current.playSpeed)}},s=function(){r();a.unbind(".player");q.player.isActive=false;q.trigger("onPlayEnd")},u=function(){if(q.current&&(q.current.loop||q.current.index<q.group.length-1)){q.player.isActive=true;a.bind({"onCancel.player beforeClose.player":s,"onUpdate.player":v,"beforeLoad.player":r});v();q.trigger("onPlayStart")}};if(t===true||(!q.player.isActive&&t!==false)){u()}else{s()}},next:function(s){var r=q.current;if(r){if(!b(s)){s=r.direction.next}q.jumpto(r.index+1,s,"next")}},prev:function(s){var r=q.current;if(r){if(!b(s)){s=r.direction.prev}q.jumpto(r.index-1,s,"prev")}},jumpto:function(s,u,r){var t=q.current;if(!t){return}s=n(s);q.direction=u||t.direction[(s>=t.index?"next":"prev")];q.router=r||"jumpto";if(t.loop){if(s<0){s=t.group.length+(s%t.group.length)}s=s%t.group.length}if(t.group[s]!==e){q.cancel();q._start(s)}},reposition:function(u,r){var t=q.current,s=t?t.wrap:null,v;if(s){v=q._getPosition(r);if(u&&u.type==="scroll"){delete v.position;s.stop(true,true).animate(v,200)}else{s.css(v);t.pos=i.extend({},t.dim,v)}}},update:function(t){var r=(t&&t.originalEvent&&t.originalEvent.type),s=!r||r==="orientationchange";if(s){clearTimeout(c);c=null}if(!q.isOpen||c){return}c=setTimeout(function(){var u=q.current;if(!u||q.isClosing){return}q.wrap.removeClass("fancybox-tmp");if(s||r==="load"||(r==="resize"&&u.autoResize)){q._setDimension()}if(!(r==="scroll"&&u.canShrink)){q.reposition(t)}q.trigger("onUpdate");c=null},(s&&!f?0:300))},toggle:function(r){if(q.isOpen){q.current.fitToView=i.type(r)==="boolean"?r:!q.current.fitToView;if(f){q.wrap.removeAttr("style").addClass("fancybox-tmp");q.trigger("onUpdate")}q.update()}},hideLoading:function(){a.unbind(".loading");i("#fancybox-loading").remove()},showLoading:function(){var s,r;q.hideLoading();s=i('<div id="fancybox-loading"><div></div></div>').click(q.cancel).appendTo("body");a.bind("keydown.loading",function(t){if((t.which||t.keyCode)===27){t.preventDefault();q.cancel()}});if(!q.defaults.fixed){r=q.getViewport();s.css({position:"absolute",top:(r.h*0.5)+r.y,left:(r.w*0.5)+r.x})}q.trigger("onLoading")},getViewport:function(){var r=(q.current&&q.current.locked)||false,s={x:d.scrollLeft(),y:d.scrollTop()};if(r&&r.length){s.w=r[0].clientWidth;s.h=r[0].clientHeight}else{s.w=f&&l.innerWidth?l.innerWidth:d.width();s.h=f&&l.innerHeight?l.innerHeight:d.height()}return s},unbindEvents:function(){if(q.wrap&&j(q.wrap)){q.wrap.unbind(".fb")}a.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var s=q.current,r;if(!s){return}d.bind("orientationchange.fb"+(f?"":" resize.fb")+(s.autoCenter&&!s.locked?" scroll.fb":""),q.update);r=s.keys;if(r){a.bind("keydown.fb",function(v){var t=v.which||v.keyCode,u=v.target||v.srcElement;if(t===27&&q.coming){return false}if(!v.ctrlKey&&!v.altKey&&!v.shiftKey&&!v.metaKey&&!(u&&(u.type||i(u).is("[contenteditable]")))){i.each(r,function(w,x){if(s.group.length>1&&x[t]!==e){q[w](x[t]);v.preventDefault();return false}if(i.inArray(t,x)>-1){q[w]();v.preventDefault();return false}})}})}if(i.fn.mousewheel&&s.mouseWheel){q.wrap.bind("mousewheel.fb",function(y,z,u,t){var x=y.target||null,v=i(x),w=false;while(v.length){if(w||v.is(".fancybox-skin")||v.is(".fancybox-wrap")){break}w=h(v[0]);v=i(v).parent()}if(z!==0&&!w){if(q.group.length>1&&!s.canShrink){if(t>0||u>0){q.prev(t>0?"down":"left")}else{if(t<0||u<0){q.next(t<0?"up":"right")}}y.preventDefault()}}})}},trigger:function(s,u){var r,t=u||q.coming||q.current;if(t){if(i.isFunction(t[s])){r=t[s].apply(t,Array.prototype.slice.call(arguments,1))}if(r===false){return false}if(t.helpers){i.each(t.helpers,function(w,v){if(v&&q.helpers[w]&&i.isFunction(q.helpers[w][s])){q.helpers[w][s](i.extend(true,{},q.helpers[w].defaults,v),t)}})}}a.trigger(s)},isImage:function(r){return b(r)&&r.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(r){return b(r)&&r.match(/\.(swf)((\?|#).*)?$/i)},_start:function(s){var t={},x,r,u,v,w;s=n(s);x=q.group[s]||null;if(!x){return false}t=i.extend(true,{},q.opts,x);v=t.margin;w=t.padding;if(i.type(v)==="number"){t.margin=[v,v,v,v]}if(i.type(w)==="number"){t.padding=[w,w,w,w]}if(t.modal){i.extend(true,t,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(t.autoSize){t.autoWidth=t.autoHeight=true}if(t.width==="auto"){t.autoWidth=true}if(t.height==="auto"){t.autoHeight=true}t.group=q.group;t.index=s;q.coming=t;if(false===q.trigger("beforeLoad")){q.coming=null;return}u=t.type;r=t.href;if(!u){q.coming=null;if(q.current&&q.router&&q.router!=="jumpto"){q.current.index=s;return q[q.router](q.direction)}return false}q.isActive=true;if(u==="image"||u==="swf"){t.autoHeight=t.autoWidth=false;t.scrolling="visible"}if(u==="image"){t.aspectRatio=true}if(u==="iframe"&&f){t.scrolling="scroll"}t.wrap=i(t.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+u+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body");i.extend(t,{skin:i(".fancybox-skin",t.wrap),outer:i(".fancybox-outer",t.wrap),inner:i(".fancybox-inner",t.wrap)});i.each(["Top","Right","Bottom","Left"],function(z,y){t.skin.css("padding"+y,g(t.padding[z]))});q.trigger("onReady");if(u==="inline"||u==="html"){if(!t.content||!t.content.length){return q._error("content")}}else{if(!r){return q._error("href")}}if(u==="image"){q._loadImage()}else{if(u==="ajax"){q._loadAjax()}else{if(u==="iframe"){q._loadIframe()}else{q._afterLoad()}}}},_error:function(r){i.extend(q.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:r,content:q.coming.tpl.error});q._afterLoad()},_loadImage:function(){var r=q.imgPreload=new Image();r.onload=function(){this.onload=this.onerror=null;q.coming.width=this.width/q.opts.pixelRatio;q.coming.height=this.height/q.opts.pixelRatio;q._afterLoad()};r.onerror=function(){this.onload=this.onerror=null;q._error("image")};r.src=q.coming.href;if(r.complete!==true){q.showLoading()}},_loadAjax:function(){var r=q.coming;q.showLoading();q.ajaxLoad=i.ajax(i.extend({},r.ajax,{url:r.href,error:function(s,t){if(q.coming&&t!=="abort"){q._error("ajax",s)}else{q.hideLoading()}},success:function(s,t){if(t==="success"){r.content=s;q._afterLoad()}}}))},_loadIframe:function(){var r=q.coming,s=i(r.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",f?"auto":r.iframe.scrolling).attr("src",r.href);i(r.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}});if(r.iframe.preload){q.showLoading();s.one("load",function(){i(this).data("ready",1);if(!f){i(this).bind("load.fb",q.update)}i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();q._afterLoad()})}r.content=s.appendTo(r.inner);if(!r.iframe.preload){q._afterLoad()}},_preloadImages:function(){var w=q.group,v=q.current,r=w.length,t=v.preload?Math.min(v.preload,r-1):0,u,s;for(s=1;s<=t;s+=1){u=w[(v.index+s)%r];if(u.type==="image"&&u.href){new Image().src=u.href}}},_afterLoad:function(){var s=q.coming,u=q.current,z="fancybox-placeholder",w,x,y,t,r,v;q.hideLoading();if(!s||q.isActive===false){return}if(false===q.trigger("afterLoad",s,u)){s.wrap.stop(true).trigger("onReset").remove();q.coming=null;return}if(u){q.trigger("beforeChange",u);u.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}q.unbindEvents();w=s;x=s.content;y=s.type;t=s.scrolling;i.extend(q,{wrap:w.wrap,skin:w.skin,outer:w.outer,inner:w.inner,current:w,previous:u});r=w.href;switch(y){case"inline":case"ajax":case"html":if(w.selector){x=i("<div>").html(x).find(w.selector)}else{if(j(x)){if(!x.data(z)){x.data(z,i('<div class="'+z+'"></div>').insertAfter(x).hide())}x=x.show().detach();w.wrap.bind("onReset",function(){if(i(this).find(x).length){x.hide().replaceAll(x.data(z)).data(z,false)}})}}break;case"image":x=w.tpl.image.replace(/\{href\}/g,r);break;case"swf":x='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>';v="";i.each(w.swf,function(A,B){x+='<param name="'+A+'" value="'+B+'"></param>';v+=" "+A+'="'+B+'"'});x+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+v+"></embed></object>";break}if(!(j(x)&&x.parent().is(w.inner))){w.inner.append(x)}q.trigger("beforeShow");w.inner.css("overflow",t==="yes"?"scroll":(t==="no"?"hidden":t));q._setDimension();q.reposition();q.isOpen=false;q.coming=null;q.bindEvents();if(!q.isOpened){i(".fancybox-wrap").not(w.wrap).stop(true).trigger("onReset").remove()}else{if(u.prevMethod){q.transitions[u.prevMethod]()}}q.transitions[q.isOpened?w.nextMethod:w.openMethod]();q._preloadImages()},_setDimension:function(){var U=q.getViewport(),Q=0,W=false,Y=false,C=q.wrap,O=q.skin,Z=q.inner,L=q.current,M=L.width,J=L.height,F=L.minWidth,y=L.minHeight,S=L.maxWidth,K=L.maxHeight,E=L.scrolling,w=L.scrollOutside?L.scrollbarWidth:0,I=L.margin,x=n(I[1]+I[3]),v=n(I[0]+I[2]),t,s,P,R,H,G,N,A,z,V,u,X,r,B,D;C.add(O).add(Z).width("auto").height("auto").removeClass("fancybox-tmp");t=n(O.outerWidth(true)-O.width());s=n(O.outerHeight(true)-O.height());P=x+t;R=v+s;H=m(M)?(U.w-P)*n(M)/100:M;G=m(J)?(U.h-R)*n(J)/100:J;if(L.type==="iframe"){B=L.content;if(L.autoHeight&&B.data("ready")===1){try{if(B[0].contentWindow.document.location){Z.width(H).height(9999);D=B.contents().find("body");if(w){D.css("overflow-x","hidden")}G=D.outerHeight(true)}}catch(T){}}}else{if(L.autoWidth||L.autoHeight){Z.addClass("fancybox-tmp");if(!L.autoWidth){Z.width(H)}if(!L.autoHeight){Z.height(G)}if(L.autoWidth){H=Z.width()}if(L.autoHeight){G=Z.height()}Z.removeClass("fancybox-tmp")}}M=n(H);J=n(G);z=H/G;F=n(m(F)?n(F,"w")-P:F);S=n(m(S)?n(S,"w")-P:S);y=n(m(y)?n(y,"h")-R:y);K=n(m(K)?n(K,"h")-R:K);N=S;A=K;if(L.fitToView){S=Math.min(U.w-P,S);K=Math.min(U.h-R,K)}X=U.w-x;r=U.h-v;if(L.aspectRatio){if(M>S){M=S;J=n(M/z)}if(J>K){J=K;M=n(J*z)}if(M<F){M=F;J=n(M/z)}if(J<y){J=y;M=n(J*z)}}else{M=Math.max(F,Math.min(M,S));if(L.autoHeight&&L.type!=="iframe"){Z.width(M);J=Z.height()}J=Math.max(y,Math.min(J,K))}if(L.fitToView){Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height();if(L.aspectRatio){while((V>X||u>r)&&M>F&&J>y){if(Q++>19){break}J=Math.max(y,Math.min(K,J-10));M=n(J*z);if(M<F){M=F;J=n(M/z)}if(M>S){M=S;J=n(M/z)}Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height()}}else{M=Math.max(F,Math.min(M,M-(V-X)));J=Math.max(y,Math.min(J,J-(u-r)))}}if(w&&E==="auto"&&J<G&&(M+t+w)<X){M+=w}Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height();W=(V>X||u>r)&&M>F&&J>y;Y=L.aspectRatio?(M<N&&J<A&&M<H&&J<G):((M<N||J<A)&&(M<H||J<G));i.extend(L,{dim:{width:g(V),height:g(u)},origWidth:H,origHeight:G,canShrink:W,canExpand:Y,wPadding:t,hPadding:s,wrapSpace:u-O.outerHeight(true),skinSpace:O.height()-J});if(!B&&L.autoHeight&&J>y&&J<K&&!Y){Z.height("auto")}},_getPosition:function(t){var x=q.current,s=q.getViewport(),v=x.margin,u=q.wrap.width()+v[1]+v[3],r=q.wrap.height()+v[0]+v[2],w={position:"absolute",top:v[0],left:v[3]};if(x.autoCenter&&x.fixed&&!t&&r<=s.h&&u<=s.w){w.position="fixed"}else{if(!x.locked){w.top+=s.y;w.left+=s.x}}w.top=g(Math.max(w.top,w.top+((s.h-r)*x.topRatio)));w.left=g(Math.max(w.left,w.left+((s.w-u)*x.leftRatio)));return w},_afterZoomIn:function(){var r=q.current;if(!r){return}q.isOpen=q.isOpened=true;q.wrap.css("overflow","visible").addClass("fancybox-opened");q.update();if(r.closeClick||(r.nextClick&&q.group.length>1)){q.inner.css("cursor","pointer").bind("click.fb",function(s){if(!i(s.target).is("a")&&!i(s.target).parent().is("a")){s.preventDefault();q[r.closeClick?"close":"next"]()}})}if(r.closeBtn){i(r.tpl.closeBtn).appendTo(q.skin).bind("click.fb",function(s){s.preventDefault();q.close()})}if(r.arrows&&q.group.length>1){if(r.loop||r.index>0){i(r.tpl.prev).appendTo(q.outer).bind("click.fb",q.prev)}if(r.loop||r.index<q.group.length-1){i(r.tpl.next).appendTo(q.outer).bind("click.fb",q.next)}}q.trigger("afterShow");if(!r.loop&&r.index===r.group.length-1){q.play(false)}else{if(q.opts.autoPlay&&!q.player.isActive){q.opts.autoPlay=false;q.play()}}},_afterZoomOut:function(r){r=r||q.current;i(".fancybox-wrap").trigger("onReset").remove();i.extend(q,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});q.trigger("afterClose",r)}});q.transitions={getOrigPosition:function(){var u=q.current,s=u.element,x=u.orig,w={},r=50,y=50,v=u.hPadding,z=u.wPadding,t=q.getViewport();if(!x&&u.isDom&&s.is(":visible")){x=s.find("img:first");if(!x.length){x=s}}if(j(x)){w=x.offset();if(x.is("img")){r=x.outerWidth();y=x.outerHeight()}}else{w.top=t.y+(t.h-y)*u.topRatio;w.left=t.x+(t.w-r)*u.leftRatio}if(q.wrap.css("position")==="fixed"||u.locked){w.top-=t.y;w.left-=t.x}w={top:g(w.top-v*u.topRatio),left:g(w.left-z*u.leftRatio),width:g(r+z),height:g(y+v)};return w},step:function(s,t){var v,x,y,r=t.prop,u=q.current,w=u.wrapSpace,z=u.skinSpace;if(r==="width"||r==="height"){v=t.end===t.start?1:(s-t.start)/(t.end-t.start);if(q.isClosing){v=1-v}x=r==="width"?u.wPadding:u.hPadding;y=s-x;q.skin[r](n(r==="width"?y:y-(w*v)));q.inner[r](n(r==="width"?y:y-(w*v)-(z*v)))}},zoomIn:function(){var v=q.current,s=v.pos,t=v.openEffect,u=t==="elastic",r=i.extend({opacity:1},s);delete r.position;if(u){s=this.getOrigPosition();if(v.openOpacity){s.opacity=0.1}}else{if(t==="fade"){s.opacity=0.1}}q.wrap.css(s).animate(r,{duration:t==="none"?0:v.openSpeed,easing:v.openEasing,step:u?this.step:null,complete:q._afterZoomIn})},zoomOut:function(){var u=q.current,s=u.closeEffect,t=s==="elastic",r={opacity:0.1};if(t){r=this.getOrigPosition();if(u.closeOpacity){r.opacity=0.1}}q.wrap.animate(r,{duration:s==="none"?0:u.closeSpeed,easing:u.closeEasing,step:t?this.step:null,complete:q._afterZoomOut})},changeIn:function(){var w=q.current,t=w.nextEffect,s=w.pos,r={opacity:1},v=q.direction,x=200,u;s.opacity=0.1;if(t==="elastic"){u=v==="down"||v==="up"?"top":"left";if(v==="down"||v==="right"){s[u]=g(n(s[u])-x);r[u]="+="+x+"px"}else{s[u]=g(n(s[u])+x);r[u]="-="+x+"px"}}if(t==="none"){q._afterZoomIn()}else{q.wrap.css(s).animate(r,{duration:w.nextSpeed,easing:w.nextEasing,complete:q._afterZoomIn})}},changeOut:function(){var t=q.previous,s=t.prevEffect,r={opacity:0.1},u=q.direction,v=200;if(s==="elastic"){r[u==="down"||u==="up"?"top":"left"]=(u==="up"||u==="left"?"-":"+")+"="+v+"px"}t.wrap.animate(r,{duration:s==="none"?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}};q.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!f,fixed:true},overlay:null,fixed:false,el:i("html"),create:function(s){var r;s=i.extend({},this.defaults,s);if(this.overlay){this.close()}r=q.coming?q.coming.parent:s.parent;this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r&&r.lenth?r:"body");this.fixed=false;if(s.fixed&&q.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(s){var r=this;s=i.extend({},this.defaults,s);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(s)}if(!this.fixed){d.bind("resize.overlay",i.proxy(this.update,this));this.update()}if(s.closeClick){this.overlay.bind("click.overlay",function(t){if(i(t.target).hasClass("fancybox-overlay")){if(q.isActive){q.close()}else{r.close()}return false}})}this.overlay.css(s.css).show()},close:function(){d.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){i(".fancybox-margin").removeClass("fancybox-margin");this.el.removeClass("fancybox-lock");d.scrollTop(this.scrollV).scrollLeft(this.scrollH)}i(".fancybox-overlay").remove().hide();i.extend(this,{overlay:null,fixed:false})},update:function(){var s="100%",r;this.overlay.width(s).height("100%");if(k){r=Math.max(o.documentElement.offsetWidth,o.body.offsetWidth);if(a.width()>r){s=a.width()}}else{if(a.width()>d.width()){s=a.width()}}this.overlay.width(s).height(a.height())},onReady:function(s,t){var r=this.overlay;i(".fancybox-overlay").stop(true,true);if(!r){this.create(s)}if(s.locked&&this.fixed&&t.fixed){t.locked=this.overlay.append(t.wrap);t.fixed=false}if(s.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(r,s){if(s.locked&&!this.el.hasClass("fancybox-lock")){if(this.fixPosition!==false){i("*").filter(function(){return(i(this).css("position")==="fixed"&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap"))}).addClass("fancybox-margin")}this.el.addClass("fancybox-margin");this.scrollV=d.scrollTop();this.scrollH=d.scrollLeft();this.el.addClass("fancybox-lock");d.scrollTop(this.scrollV).scrollLeft(this.scrollH)}this.open(r)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(r){if(this.overlay&&!q.coming){this.overlay.fadeOut(r.speedOut,i.proxy(this.close,this))}}};q.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(s){var u=q.current,w=u.title,r=s.type,v,t;if(i.isFunction(w)){w=w.call(u.element,u)}if(!b(w)||i.trim(w)===""){return}v=i('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+w+"</div>");switch(r){case"inside":t=q.skin;break;case"outside":t=q.wrap;break;case"over":t=q.inner;break;default:t=q.skin;v.appendTo("body");if(k){v.width(v.width())}v.wrapInner('<span class="child"></span>');q.current.margin[2]+=Math.abs(n(v.css("margin-bottom")));break}v[(s.position==="top"?"prependTo":"appendTo")](t)}};i.fn.fancybox=function(t){var s,u=i(this),r=this.selector||"",v=function(z){var y=i(this).blur(),w=s,x,A;if(!(z.ctrlKey||z.altKey||z.shiftKey||z.metaKey)&&!y.is(".fancybox-wrap")){x=t.groupAttr||"data-fancybox-group";A=y.attr(x);if(!A){x="rel";A=y.get(0)[x]}if(A&&A!==""&&A!=="nofollow"){y=r.length?i(r):u;y=y.filter("["+x+'="'+A+'"]');w=y.index(this)}t.index=w;if(q.open(y,t)!==false){z.preventDefault()}}};t=t||{};s=t.index||0;if(!r||t.live===false){u.unbind("click.fb-start").bind("click.fb-start",v)}else{a.undelegate(r,"click.fb-start").delegate(r+":not('.fancybox-item, .fancybox-nav')","click.fb-start",v)}this.filter("[data-fancybox-start=1]").trigger("click");return this};a.ready(function(){var s,r;if(i.scrollbarWidth===e){i.scrollbarWidth=function(){var u=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),v=u.children(),t=v.innerWidth()-v.height(99).innerWidth();u.remove();return t}}if(i.support.fixedPosition===e){i.support.fixedPosition=(function(){var u=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=(u[0].offsetTop===20||u[0].offsetTop===15);u.remove();return t}())}i.extend(q.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")});s=i(l).width();p.addClass("fancybox-lock-test");r=i(l).width();p.removeClass("fancybox-lock-test");i("<style type='text/css'>.fancybox-margin{margin-right:"+(r-s)+"px;}</style>").appendTo("head")})}(window,document,jQuery));
/*!
 * Media helper for fancyBox
 * version: 1.0.6 (Fri, 14 Jun 2013)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: true
 *         }
 *     });
 *
 * Set custom URL parameters:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: {
 *                 youtube : {
 *                     params : {
 *                         autoplay : 0
 *                     }
 *                 }
 *             }
 *         }
 *     });
 *
 * Or:
 *     $(".fancybox").fancybox({,
 *         helpers : {
 *             media: true
 *         },
 *         youtube : {
 *             autoplay: 0
 *         }
 *     });
 *
 *  Supports:
 *
 *      Youtube
 *          http://www.youtube.com/watch?v=opj24KnzrWo
 *          http://www.youtube.com/embed/opj24KnzrWo
 *          http://youtu.be/opj24KnzrWo
 *			http://www.youtube-nocookie.com/embed/opj24KnzrWo
 *      Vimeo
 *          http://vimeo.com/40648169
 *          http://vimeo.com/channels/staffpicks/38843628
 *          http://vimeo.com/groups/surrealism/videos/36516384
 *          http://player.vimeo.com/video/45074303
 *      Metacafe
 *          http://www.metacafe.com/watch/7635964/dr_seuss_the_lorax_movie_trailer/
 *          http://www.metacafe.com/watch/7635964/
 *      Dailymotion
 *          http://www.dailymotion.com/video/xoytqh_dr-seuss-the-lorax-premiere_people
 *      Twitvid
 *          http://twitvid.com/QY7MD
 *      Twitpic
 *          http://twitpic.com/7p93st
 *      Instagram
 *          http://instagr.am/p/IejkuUGxQn/
 *          http://instagram.com/p/IejkuUGxQn/
 *      Google maps
 *          http://maps.google.com/maps?q=Eiffel+Tower,+Avenue+Gustave+Eiffel,+Paris,+France&t=h&z=17
 *          http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16
 *          http://maps.google.com/?ll=48.859463,2.292626&spn=0.000965,0.002642&t=m&z=19&layer=c&cbll=48.859524,2.292532&panoid=YJ0lq28OOy3VT2IqIuVY0g&cbp=12,151.58,,0,-15.56
 */
(function(b){var a=b.fancybox,c=function(d,e,f){f=f||"";if(b.type(f)==="object"){f=b.param(f,true)}b.each(e,function(g,h){d=d.replace("$"+g,h||"")});if(f.length){d+=(d.indexOf("?")>0?"&":"?")+f}return d};a.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,f,d){d.swf.flashVars="playerVars="+b.param(f,true);return"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(d){return"//maps.google."+d[1]+"/"+d[3]+""+d[4]+"&output="+(d[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(g,j){var d=j.href||"",e=false,i,f,h,k;for(i in g){if(g.hasOwnProperty(i)){f=g[i];h=d.match(f.matcher);if(h){e=f.type;k=b.extend(true,{},f.params,j[i]||(b.isPlainObject(g[i])?g[i].params:null));d=b.type(f.url)==="function"?f.url.call(this,h,k,j):c(f.url,h,k);break}}}if(e){j.href=d;j.type=e;j.autoHeight=false}}}}(jQuery));
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){var k,a,f,b=d(window),e={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign",closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play",hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}};e.fontawesome=d.extend({},e.bootstrap3);e.fontawesome.notice_icon="fa fa-exclamation-circle";e.fontawesome.info_icon="fa fa-info";e.fontawesome.success_icon="fa fa-check";e.fontawesome.error_icon="fa fa-warning";e.fontawesome.closer="fa fa-times";e.fontawesome.pin_up="fa fa-pause";e.fontawesome.pin_down="fa fa-play";e.fontawesome.hi_hnd="fa fa-chevron-down";var j=function(){f=d("body");d.pnotify.defaults.stack.context=f;b=d(window);b.bind("resize",function(){if(a){clearTimeout(a)}a=setTimeout(function(){d.pnotify_position_all(true)},10)})};d.extend({pnotify_remove_all:function(){var m=b.data("pnotify");if(m&&m.length){d.each(m,function(){if(this.pnotify_remove){this.pnotify_remove()}})}},pnotify_position_all:function(m){if(a){clearTimeout(a)}a=null;var n=b.data("pnotify");if(!n||!n.length){return}d.each(n,function(){var o=this.opts.stack;if(!o){return}o.nextpos1=o.firstpos1;o.nextpos2=o.firstpos2;o.addpos2=0;o.animation=m});d.each(n,function(){this.pnotify_position()})},pnotify:function(v){var w;var m;if(typeof v!=="object"){m=d.extend({},d.pnotify.defaults);m.text=v}else{m=d.extend({},d.pnotify.defaults,v)}for(var p in m){if(typeof p==="string"&&p.match(/^pnotify_/)){m[p.replace(/^pnotify_/,"")]=m[p]}}if(m.before_init){if(m.before_init(m)===false){return null}}var o;var q=function(B,y){s.css("display","none");var x=document.elementFromPoint(B.clientX,B.clientY);s.css("display","block");var A=d(x);var z=A.css("cursor");s.css("cursor",z!=="auto"?z:"default");if(!o||o.get(0)!=x){if(o){g.call(o.get(0),"mouseleave",B.originalEvent);g.call(o.get(0),"mouseout",B.originalEvent)}g.call(x,"mouseenter",B.originalEvent);g.call(x,"mouseover",B.originalEvent)}g.call(x,y,B.originalEvent);o=A};var u;if(typeof m.styling==="object"){u=m.styling}else{u=e[m.styling]}var s=d("<div />",{"class":"ui-pnotify "+m.addclass,css:{display:"none"},mouseenter:function(x){if(m.nonblock){x.stopPropagation()}if(m.mouse_reset&&w==="out"){s.stop(true);w="in";s.css("height","auto").animate({width:m.width,opacity:m.nonblock?m.nonblock_opacity:m.opacity},"fast")}if(m.nonblock){s.stop().animate({opacity:m.nonblock_opacity},"fast")}if(m.hide&&m.mouse_reset){s.pnotify_cancel_remove()}if(m.sticker&&!m.nonblock){s.sticker.trigger("pnotify_icon").css("visibility","visible")}if(m.closer&&!m.nonblock){s.closer.css("visibility","visible")}},mouseleave:function(x){if(m.nonblock){x.stopPropagation()}o=null;s.css("cursor","auto");if(m.nonblock&&w!=="out"){s.stop().animate({opacity:m.opacity},"fast")}if(m.hide&&m.mouse_reset){s.pnotify_queue_remove()}if(m.sticker_hover){s.sticker.css("visibility","hidden")}if(m.closer_hover){s.closer.css("visibility","hidden")}d.pnotify_position_all()},mouseover:function(x){if(m.nonblock){x.stopPropagation()}},mouseout:function(x){if(m.nonblock){x.stopPropagation()}},mousemove:function(x){if(m.nonblock){x.stopPropagation();q(x,"onmousemove")}},mousedown:function(x){if(m.nonblock){x.stopPropagation();x.preventDefault();q(x,"onmousedown")}},mouseup:function(x){if(m.nonblock){x.stopPropagation();x.preventDefault();q(x,"onmouseup")}},click:function(x){if(m.nonblock){x.stopPropagation();q(x,"onclick")}},dblclick:function(x){if(m.nonblock){x.stopPropagation();q(x,"ondblclick")}}});s.opts=m;s.container=d("<div />",{"class":u.container+" ui-pnotify-container "+(m.type==="error"?u.error:(m.type==="info"?u.info:(m.type==="success"?u.success:u.notice)))}).appendTo(s);if(m.cornerclass!==""){s.container.removeClass("ui-corner-all").addClass(m.cornerclass)}if(m.shadow){s.container.addClass("ui-pnotify-shadow")}s.pnotify_version="1.3.1";s.pnotify=function(x){var z=m;if(typeof x==="string"){m.text=x}else{m=d.extend({},m,x)}for(var y in m){if(typeof y==="string"&&y.match(/^pnotify_/)){m[y.replace(/^pnotify_/,"")]=m[y]}}s.opts=m;if(m.cornerclass!==z.cornerclass){s.container.removeClass("ui-corner-all").addClass(m.cornerclass)}if(m.shadow!==z.shadow){if(m.shadow){s.container.addClass("ui-pnotify-shadow")}else{s.container.removeClass("ui-pnotify-shadow")}}if(m.addclass===false){s.removeClass(z.addclass)}else{if(m.addclass!==z.addclass){s.removeClass(z.addclass).addClass(m.addclass)}}if(m.title===false){s.title_container.slideUp("fast")}else{if(m.title!==z.title){if(m.title_escape){s.title_container.text(m.title).slideDown(200)}else{s.title_container.html(m.title).slideDown(200)}}}if(m.text===false){s.text_container.slideUp("fast")}else{if(m.text!==z.text){if(m.text_escape){s.text_container.text(m.text).slideDown(200)}else{s.text_container.html(m.insert_brs?String(m.text).replace(/\n/g,"<br />"):m.text).slideDown(200)}}}s.pnotify_history=m.history;s.pnotify_hide=m.hide;if(m.type!==z.type){s.container.removeClass(u.error+" "+u.notice+" "+u.success+" "+u.info).addClass(m.type==="error"?u.error:(m.type==="info"?u.info:(m.type==="success"?u.success:u.notice)))}if(m.icon!==z.icon||(m.icon===true&&m.type!==z.type)){s.container.find("div.ui-pnotify-icon").remove();if(m.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":m.icon===true?(m.type==="error"?u.error_icon:(m.type==="info"?u.info_icon:(m.type==="success"?u.success_icon:u.notice_icon))):m.icon})).prependTo(s.container)}}if(m.width!==z.width){s.animate({width:m.width})}if(m.min_height!==z.min_height){s.container.animate({minHeight:m.min_height})}if(m.opacity!==z.opacity){s.fadeTo(m.animate_speed,m.opacity)}if(!m.closer||m.nonblock){s.closer.css("display","none")}else{s.closer.css("display","block")}if(!m.sticker||m.nonblock){s.sticker.css("display","none")}else{s.sticker.css("display","block")}s.sticker.trigger("pnotify_icon");if(m.sticker_hover){s.sticker.css("visibility","hidden")}else{if(!m.nonblock){s.sticker.css("visibility","visible")}}if(m.closer_hover){s.closer.css("visibility","hidden")}else{if(!m.nonblock){s.closer.css("visibility","visible")}}if(!m.hide){s.pnotify_cancel_remove()}else{if(!z.hide){s.pnotify_queue_remove()}}s.pnotify_queue_position(true);return s};s.pnotify_position=function(C){var A=s.opts.stack;if(typeof A.context==="undefined"){A.context=f}if(!A){return}if(typeof A.nextpos1!=="number"){A.nextpos1=A.firstpos1}if(typeof A.nextpos2!=="number"){A.nextpos2=A.firstpos2}if(typeof A.addpos2!=="number"){A.addpos2=0}var E=s.css("display")==="none";if(!E||C){var D,B;var x={};var z;switch(A.dir1){case"down":z="top";break;case"up":z="bottom";break;case"left":z="right";break;case"right":z="left";break}D=parseInt(s.css(z).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(D)){D=0}if(typeof A.firstpos1==="undefined"&&!E){A.firstpos1=D;A.nextpos1=A.firstpos1}var y;switch(A.dir2){case"down":y="top";break;case"up":y="bottom";break;case"left":y="right";break;case"right":y="left";break}B=parseInt(s.css(y).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(B)){B=0}if(typeof A.firstpos2==="undefined"&&!E){A.firstpos2=B;A.nextpos2=A.firstpos2}if((A.dir1==="down"&&A.nextpos1+s.height()>(A.context.is(f)?b.height():A.context.prop("scrollHeight")))||(A.dir1==="up"&&A.nextpos1+s.height()>(A.context.is(f)?b.height():A.context.prop("scrollHeight")))||(A.dir1==="left"&&A.nextpos1+s.width()>(A.context.is(f)?b.width():A.context.prop("scrollWidth")))||(A.dir1==="right"&&A.nextpos1+s.width()>(A.context.is(f)?b.width():A.context.prop("scrollWidth")))){A.nextpos1=A.firstpos1;A.nextpos2+=A.addpos2+(typeof A.spacing2==="undefined"?25:A.spacing2);A.addpos2=0}if(A.animation&&A.nextpos2<B){switch(A.dir2){case"down":x.top=A.nextpos2+"px";break;case"up":x.bottom=A.nextpos2+"px";break;case"left":x.right=A.nextpos2+"px";break;case"right":x.left=A.nextpos2+"px";break}}else{if(typeof A.nextpos2==="number"){s.css(y,A.nextpos2+"px")}}switch(A.dir2){case"down":case"up":if(s.outerHeight(true)>A.addpos2){A.addpos2=s.height()}break;case"left":case"right":if(s.outerWidth(true)>A.addpos2){A.addpos2=s.width()}break}if(typeof A.nextpos1==="number"){if(A.animation&&(D>A.nextpos1||x.top||x.bottom||x.right||x.left)){switch(A.dir1){case"down":x.top=A.nextpos1+"px";break;case"up":x.bottom=A.nextpos1+"px";break;case"left":x.right=A.nextpos1+"px";break;case"right":x.left=A.nextpos1+"px";break}}else{s.css(z,A.nextpos1+"px")}}if(x.top||x.bottom||x.right||x.left){s.animate(x,{duration:this.opts.position_animate_speed,queue:false})}switch(A.dir1){case"down":case"up":A.nextpos1+=s.height()+(typeof A.spacing1==="undefined"?25:A.spacing1);break;case"left":case"right":A.nextpos1+=s.width()+(typeof A.spacing1==="undefined"?25:A.spacing1);break}}};s.pnotify_queue_position=function(x,y){if(a){clearTimeout(a)}if(!y){y=10}a=setTimeout(function(){d.pnotify_position_all(x)},y)};s.pnotify_display=function(){t=b.data("pnotify");if(t&&(t.length>m.maxonscreen)){var x;if(m.stack.push!=="top"){x=t.slice(0,t.length-m.maxonscreen)}else{x=t.slice(m.maxonscreen,t.length)}d.each(x,function(){if(this.pnotify_remove){this.pnotify_remove()}})}if(!s.parent().length){s.appendTo(m.stack.context?m.stack.context:f)}if(m.before_open){if(m.before_open(s)===false){return}}if(m.stack.push!=="top"){s.pnotify_position(true)}if(m.animation==="fade"||m.animation.effect_in==="fade"){s.show().fadeTo(0,0).hide()}else{if(m.opacity!==1){s.show().fadeTo(0,m.opacity).hide()}}s.animate_in(function(){if(m.after_open){m.after_open(s)}s.pnotify_queue_position(true);if(m.hide){s.pnotify_queue_remove()}})};s.pnotify_remove=function(x){if(s.timer){window.clearTimeout(s.timer);s.timer=null}if(m.before_close){if(m.before_close(s,x)===false){return}}s.animate_out(function(){if(m.after_close){if(m.after_close(s,x)===false){return}}s.pnotify_queue_position(true);if(m.remove){s.detach()}if(!m.history){var z=b.data("pnotify");if(z!==null){var y=d.inArray(s,z);if(y!==-1){z.splice(y,1)}}}})};s.animate_in=function(y){w="in";var x;if(typeof m.animation.effect_in!=="undefined"){x=m.animation.effect_in}else{x=m.animation}if(x==="none"){s.show();y()}else{if(x==="show"){s.show(m.animate_speed,y)}else{if(x==="fade"){s.show().fadeTo(m.animate_speed,m.opacity,y)}else{if(x==="slide"){s.slideDown(m.animate_speed,y)}else{if(typeof x==="function"){x("in",y,s)}else{s.show(x,(typeof m.animation.options_in==="object"?m.animation.options_in:{}),m.animate_speed,y)}}}}}};s.animate_out=function(y){w="out";var x;if(typeof m.animation.effect_out!=="undefined"){x=m.animation.effect_out}else{x=m.animation}if(x==="none"){s.hide();y()}else{if(x==="show"){s.hide(m.animate_speed,y)}else{if(x==="fade"){s.fadeOut(m.animate_speed,y)}else{if(x==="slide"){s.slideUp(m.animate_speed,y)}else{if(typeof x==="function"){x("out",y,s)}else{s.hide(x,(typeof m.animation.options_out==="object"?m.animation.options_out:{}),m.animate_speed,y)}}}}}};s.pnotify_cancel_remove=function(){if(s.timer){window.clearTimeout(s.timer)}};s.pnotify_queue_remove=function(){s.pnotify_cancel_remove();s.timer=window.setTimeout(function(){s.pnotify_remove(true)},(isNaN(m.delay)?0:m.delay))};s.closer=d("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:m.closer_hover?"hidden":"visible"},click:function(){s.pnotify_remove(false);s.sticker.css("visibility","hidden");s.closer.css("visibility","hidden")}}).append(d("<span />",{"class":u.closer,title:m.labels.close})).appendTo(s.container);if(!m.closer||m.nonblock){s.closer.css("display","none")}s.sticker=d("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:m.sticker_hover?"hidden":"visible"},click:function(){m.hide=!m.hide;if(m.hide){s.pnotify_queue_remove()}else{s.pnotify_cancel_remove()}d(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){d(this).children().removeClass(u.pin_up+" "+u.pin_down).addClass(m.hide?u.pin_up:u.pin_down)}).append(d("<span />",{"class":u.pin_up,title:m.labels.stick})).appendTo(s.container);if(!m.sticker||m.nonblock){s.sticker.css("display","none")}if(m.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":m.icon===true?(m.type==="error"?u.error_icon:(m.type==="info"?u.info_icon:(m.type==="success"?u.success_icon:u.notice_icon))):m.icon})).prependTo(s.container)}s.title_container=d("<h4 />",{"class":"ui-pnotify-title"}).appendTo(s.container);if(m.title===false){s.title_container.hide()}else{if(m.title_escape){s.title_container.text(m.title)}else{s.title_container.html(m.title)}}s.text_container=d("<div />",{"class":"ui-pnotify-text"}).appendTo(s.container);if(m.text===false){s.text_container.hide()}else{if(m.text_escape){s.text_container.text(m.text)}else{s.text_container.html(m.insert_brs?String(m.text).replace(/\n/g,"<br />"):m.text)}}if(typeof m.width==="string"){s.css("width",m.width)}if(typeof m.min_height==="string"){s.container.css("min-height",m.min_height)}s.pnotify_history=m.history;s.pnotify_hide=m.hide;var t=b.data("pnotify");if(t===null||typeof t!=="object"){t=[]}if(m.stack.push==="top"){t=d.merge([s],t)}else{t=d.merge(t,[s])}b.data("pnotify",t);if(m.stack.push==="top"){s.pnotify_queue_position(false,1)}if(m.after_init){m.after_init(s)}if(m.history){var n=b.data("pnotify_history");if(typeof n==="undefined"){d("body").on("pnotify.history-all",function(){d.each(t,function(){if(this.pnotify_history){if(this.is(":visible")){if(this.pnotify_hide){this.pnotify_queue_remove()}}else{if(this.pnotify_display){this.pnotify_display()}}}})}).on("pnotify.history-last",function(){var x=(d.pnotify.defaults.stack.push==="top");var y=(x?0:-1);var z;do{if(y===-1){z=t.slice(y)}else{z=t.slice(y,y+1)}if(!z[0]){return false}y=(x?y+1:y-1)}while(!z[0].pnotify_history||z[0].is(":visible"));if(z[0].pnotify_display){z[0].pnotify_display()}});n=d("<div />",{"class":"ui-pnotify-history-container "+u.hi_menu,mouseleave:function(){n.animate({top:"-"+k+"px"},{duration:100,queue:false})}}).append(d("<div />",{"class":"ui-pnotify-history-header",text:m.labels.redisplay})).append(d("<button />",{"class":"ui-pnotify-history-all "+u.hi_btn,text:m.labels.all,mouseenter:function(){d(this).addClass(u.hi_btnhov)},mouseleave:function(){d(this).removeClass(u.hi_btnhov)},click:function(){d(this).trigger("pnotify.history-all");return false}})).append(d("<button />",{"class":"ui-pnotify-history-last "+u.hi_btn,text:m.labels.last,mouseenter:function(){d(this).addClass(u.hi_btnhov)},mouseleave:function(){d(this).removeClass(u.hi_btnhov)},click:function(){d(this).trigger("pnotify.history-last");return false}})).appendTo(f);var r=d("<span />",{"class":"ui-pnotify-history-pulldown "+u.hi_hnd,mouseenter:function(){n.animate({top:"0"},{duration:100,queue:false})}}).appendTo(n);k=r.offset().top+2;n.css({top:"-"+k+"px"});b.data("pnotify_history",n)}}m.stack.animation=false;if(m.auto_display){s.pnotify_display()}return s}});var l=/^on/,c=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,i=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,h=/^(scroll|resize|(un)?load|abort|error)$/;var g=function(n,m){var o;n=n.toLowerCase();if(document.createEvent&&this.dispatchEvent){n=n.replace(l,"");if(n.match(c)){d(this).offset();o=document.createEvent("MouseEvents");o.initMouseEvent(n,m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}else{if(n.match(i)){o=document.createEvent("UIEvents");o.initUIEvent(n,m.bubbles,m.cancelable,m.view,m.detail)}else{if(n.match(h)){o=document.createEvent("HTMLEvents");o.initEvent(n,m.bubbles,m.cancelable)}}}if(!o){return}this.dispatchEvent(o)}else{if(!n.match(l)){n="on"+n}o=document.createEventObject(m);this.fireEvent(n,o)}};d.pnotify.defaults={title:false,title_escape:false,text:false,text_escape:false,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:false,nonblock_opacity:0.2,history:true,maxonscreen:Infinity,auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,animation:"fade",animate_speed:"slow",position_animate_speed:500,opacity:1,shadow:true,closer:true,closer_hover:true,sticker:true,sticker_hover:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:d("body")},labels:{redisplay:"Redisplay",all:"All",last:"Last",close:"Close",stick:"Stick"}};if(document.body){j()}else{d(j)}}));
/*!
jQuery Waypoints - v2.0.5
Copyright (c) 2011-2014 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var a=[].indexOf||function(e){for(var d=0,c=this.length;d<c;d++){if(d in this&&this[d]===e){return d}}return -1},b=[].slice;(function(c,d){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(e){return d(e,c)})}else{return d(c.jQuery,c)}})(window,function(d,g){var p,n,q,s,j,e,f,k,i,t,h,m,r,o,c,l;p=d(g);k=a.call(g,"ontouchstart")>=0;s={horizontal:{},vertical:{}};j=1;f={};e="waypoints-context-id";h="resize.waypoints";m="scroll.waypoints";r=1;o="waypoints-waypoint-ids";c="waypoint";l="waypoints";n=(function(){function u(v){var w=this;this.$element=v;this.element=v[0];this.didResize=false;this.didScroll=false;this.id="context"+j++;this.oldScroll={x:v.scrollLeft(),y:v.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[e]=this.id;f[this.id]=this;v.bind(m,function(){var x;if(!(w.didScroll||k)){w.didScroll=true;x=function(){w.doScroll();return w.didScroll=false};return g.setTimeout(x,d[l].settings.scrollThrottle)}});v.bind(h,function(){var x;if(!w.didResize){w.didResize=true;x=function(){d[l]("refresh");return w.didResize=false};return g.setTimeout(x,d[l].settings.resizeThrottle)}})}u.prototype.doScroll=function(){var v,w=this;v={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(k&&(!v.vertical.oldScroll||!v.vertical.newScroll)){d[l]("refresh")}d.each(v,function(z,y){var B,A,x;x=[];A=y.newScroll>y.oldScroll;B=A?y.forward:y.backward;d.each(w.waypoints[z],function(E,D){var F,C;if((y.oldScroll<(F=D.offset)&&F<=y.newScroll)){return x.push(D)}else{if((y.newScroll<(C=D.offset)&&C<=y.oldScroll)){return x.push(D)}}});x.sort(function(D,C){return D.offset-C.offset});if(!A){x.reverse()}return d.each(x,function(D,C){if(C.options.continuous||D===x.length-1){return C.trigger([B])}})});return this.oldScroll={x:v.horizontal.newScroll,y:v.vertical.newScroll}};u.prototype.refresh=function(){var x,v,w,y=this;w=d.isWindow(this.element);v=this.$element.offset();this.doScroll();x={horizontal:{contextOffset:w?0:v.left,contextScroll:w?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:w?0:v.top,contextScroll:w?0:this.oldScroll.y,contextDimension:w?d[l]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return d.each(x,function(A,z){return d.each(y.waypoints[A],function(F,C){var E,D,H,G,B;E=C.options.offset;H=C.offset;D=d.isWindow(C.element)?0:C.$element.offset()[z.offsetProp];if(d.isFunction(E)){E=E.apply(C.element)}else{if(typeof E==="string"){E=parseFloat(E);if(C.options.offset.indexOf("%")>-1){E=Math.ceil(z.contextDimension*E/100)}}}C.offset=D-z.contextOffset+z.contextScroll-E;if((C.options.onlyOnScroll&&(H!=null))||!C.enabled){return}if(H!==null&&(H<(G=z.oldScroll)&&G<=C.offset)){return C.trigger([z.backward])}else{if(H!==null&&(H>(B=z.oldScroll)&&B>=C.offset)){return C.trigger([z.forward])}else{if(H===null&&z.oldScroll>=C.offset){return C.trigger([z.forward])}}}})})};u.prototype.checkEmpty=function(){if(d.isEmptyObject(this.waypoints.horizontal)&&d.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([h,m].join(" "));return delete f[this.id]}};return u})();q=(function(){function u(v,x,w){var y,z;if(w.offset==="bottom-in-view"){w.offset=function(){var A;A=d[l]("viewportHeight");if(!d.isWindow(x.element)){A=x.$element.height()}return A-d(this).outerHeight()}}this.$element=v;this.element=v[0];this.axis=w.horizontal?"horizontal":"vertical";this.callback=w.handler;this.context=x;this.enabled=w.enabled;this.id="waypoints"+r++;this.offset=null;this.options=w;x.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;y=(z=this.element[o])!=null?z:[];y.push(this.id);this.element[o]=y}u.prototype.trigger=function(v){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,v)}if(this.options.triggerOnce){return this.destroy()}};u.prototype.disable=function(){return this.enabled=false};u.prototype.enable=function(){this.context.refresh();return this.enabled=true};u.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};u.getWaypointsByElement=function(v){var x,w;w=v[o];if(!w){return[]}x=d.extend({},s.horizontal,s.vertical);return d.map(w,function(y){return x[y]})};return u})();t={init:function(w,u){var v;u=d.extend({},d.fn[c].defaults,u);if((v=u.handler)==null){u.handler=w}this.each(function(){var A,z,y,x;A=d(this);y=(x=u.context)!=null?x:d.fn[c].defaults.context;if(!d.isWindow(y)){y=A.closest(y)}y=d(y);z=f[y[0][e]];if(!z){z=new n(y)}return new q(A,z,u)});d[l]("refresh");return this},disable:function(){return t._invoke.call(this,"disable")},enable:function(){return t._invoke.call(this,"enable")},destroy:function(){return t._invoke.call(this,"destroy")},prev:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x>0){return w.push(y[x-1])}})},next:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x<y.length-1){return w.push(y[x+1])}})},_traverse:function(x,v,w){var u,y;if(x==null){x="vertical"}if(v==null){v=g}y=i.aggregate(v);u=[];this.each(function(){var z;z=d.inArray(this,y[x]);return w(u,z,y[x])});return this.pushStack(u)},_invoke:function(u){this.each(function(){var v;v=q.getWaypointsByElement(this);return d.each(v,function(x,w){w[u]();return true})});return this}};d.fn[c]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(t[v]){return t[v].apply(this,u)}else{if(d.isFunction(v)){return t.init.apply(this,arguments)}else{if(d.isPlainObject(v)){return t.init.apply(this,[null,v])}else{if(!v){return d.error("jQuery Waypoints needs a callback function or handler option.")}else{return d.error("The "+v+" method does not exist in jQuery Waypoints.")}}}}};d.fn[c].defaults={context:g,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};i={refresh:function(){return d.each(f,function(v,u){return u.refresh()})},viewportHeight:function(){var u;return(u=g.innerHeight)!=null?u:p.height()},aggregate:function(x){var v,w,u;v=s;if(x){v=(u=f[d(x)[0][e]])!=null?u.waypoints:void 0}if(!v){return[]}w={horizontal:[],vertical:[]};d.each(w,function(z,y){d.each(v[z],function(B,A){return y.push(A)});y.sort(function(B,A){return B.offset-A.offset});w[z]=d.map(y,function(A){return A.element});return w[z]=d.unique(w[z])});return w},above:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset<=w.oldScroll.y})},below:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset>w.oldScroll.y})},left:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset<=w.oldScroll.x})},right:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset>w.oldScroll.x})},enable:function(){return i._invoke("enable")},disable:function(){return i._invoke("disable")},destroy:function(){return i._invoke("destroy")},extendFn:function(u,v){return t[u]=v},_invoke:function(v){var u;u=d.extend({},s.vertical,s.horizontal);return d.each(u,function(x,w){w[v]();return true})},_filter:function(u,w,y){var v,x;v=f[d(u)[0][e]];if(!v){return[]}x=[];d.each(v.waypoints[w],function(A,z){if(y(v,z)){return x.push(z)}});x.sort(function(A,z){return A.offset-z.offset});return d.map(x,function(z){return z.element})}};d[l]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(i[v]){return i[v].apply(null,u)}else{return i.aggregate.call(null,v)}};d[l].settings={resizeThrottle:100,scrollThrottle:30};return p.on("load.waypoints",function(){return d[l]("refresh")})})}).call(this);
/*!
 * jQuery outside events - v1.1 - 3/16/2010
 * http://benalman.com/projects/jquery-outside-events-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,c,b){$.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(d){a(d)});a("focusin","focus"+b);a("focusout","blur"+b);$.addOutsideEvent=a;function a(g,e){e=e||g+b;var d=$(),h=g+"."+e+"-special-event";$.event.special[e]={setup:function(){d=d.add(this);if(d.length===1){$(c).bind(h,f)}},teardown:function(){d=d.not(this);if(d.length===0){$(c).unbind(h)}},add:function(i){var j=i.handler;i.handler=function(l,k){l.target=k;j.apply(this,arguments)}}};function f(i){$(d).each(function(){var j=$(this);if(this!==i.target&&!j.has(i.target).length){j.triggerHandler(e,[i.target])}})}}})(jQuery,document,"outside");
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
(function(j,d){if(j.fn.dotdotdot){return}j.fn.dotdotdot=function(x){if(this.length==0){j.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){j(this).dotdotdot(x)})}var t=this;if(t.data("dotdotdot")){t.trigger("destroy.dot")}t.data("dotdotdot-style",t.attr("style")||"");t.css("word-wrap","break-word");if(t.css("white-space")==="nowrap"){t.css("white-space","normal")}t.bind_events=function(){t.bind("update.dot",function(A,C){A.preventDefault();A.stopPropagation();v.maxHeight=(typeof v.height=="number")?v.height:q(t);v.maxHeight+=v.tolerance;if(typeof C!="undefined"){if(typeof C=="string"||C instanceof HTMLElement){C=j("<div />").append(C).contents()}if(C instanceof j){y=C}}u=t.wrapInner('<div class="dotdotdot" />').children();u.contents().detach().end().append(y.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var B=false,z=false;if(s.afterElement){B=s.afterElement.clone(true);B.show();s.afterElement.detach()}if(m(u,v)){if(v.wrap=="children"){z=c(u,v,B)}else{z=o(u,t,u,v,B)}}u.replaceWith(u.contents());u=null;if(j.isFunction(v.callback)){v.callback.call(t[0],z,y)}s.isTruncated=z;return z}).bind("isTruncated.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],s.isTruncated)}return s.isTruncated}).bind("originalContent.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],y)}return y}).bind("destroy.dot",function(z){z.preventDefault();z.stopPropagation();t.unwatch().unbind_events().contents().detach().end().append(y).attr("style",t.data("dotdotdot-style")||"").data("dotdotdot",false)});return t};t.unbind_events=function(){t.unbind(".dot");return t};t.watch=function(){t.unwatch();if(v.watch=="window"){var B=j(window),A=B.width(),z=B.height();B.bind("resize.dot"+s.dotId,function(){if(A!=B.width()||z!=B.height()||!v.windowResizeFix){A=B.width();z=B.height();if(r){clearInterval(r)}r=setTimeout(function(){t.trigger("update.dot")},100)}})}else{w=l(t);r=setInterval(function(){if(t.is(":visible")){var C=l(t);if(w.width!=C.width||w.height!=C.height){t.trigger("update.dot");w=C}}},500)}return t};t.unwatch=function(){j(window).unbind("resize.dot"+s.dotId);if(r){clearInterval(r)}return t};var y=t.contents(),v=j.extend(true,{},j.fn.dotdotdot.defaults,x),s={},w={},r=null,u=null;if(!(v.lastCharacter.remove instanceof Array)){v.lastCharacter.remove=j.fn.dotdotdot.defaultArrays.lastCharacter.remove}if(!(v.lastCharacter.noEllipsis instanceof Array)){v.lastCharacter.noEllipsis=j.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis}s.afterElement=b(v.after,t);s.isTruncated=false;s.dotId=n++;t.data("dotdotdot",true).bind_events().trigger("update.dot");if(v.watch){t.watch()}return t};j.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};j.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}};j.fn.dotdotdot.debug=function(r){};var n=1;function c(u,y,x){var w=u.children(),r=false;u.empty();for(var t=0,s=w.length;t<s;t++){var v=w.eq(t);u.append(v);if(x){u.append(x)}if(m(u,y)){v.remove();r=true;break}else{if(x){x.detach()}}}return r}function o(s,t,y,x,w){var r=false;var v="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var u="script, .dotdotdot-keep";s.contents().detach().each(function(){var A=this,z=j(A);if(typeof A=="undefined"||(A.nodeType==3&&j.trim(A.data).length==0)){return true}else{if(z.is(u)){s.append(z)}else{if(r){return true}else{s.append(z);if(w){s[s.is(v)?"after":"append"](w)}if(m(y,x)){if(A.nodeType==3){r=e(z,t,y,x,w)}else{r=o(z,t,y,x,w)}if(!r){z.detach();r=true}}if(!r){if(w){w.detach()}}}}}});return r}function e(t,v,G,w,s){var D=t[0];if(!D){return false}var z=i(D),r=(z.indexOf(" ")!==-1)?" ":"\u3000",B=(w.wrap=="letter")?"":r,E=z.split(B),A=-1,H=-1,C=0,u=E.length-1;if(w.fallbackToLetter&&C==0&&u==0){B="";E=z.split(B);u=E.length-1}while(C<=u&&!(C==0&&u==0)){var x=Math.floor((C+u)/2);if(x==H){break}H=x;a(D,E.slice(0,H+1).join(B)+w.ellipsis);if(!m(G,w)){A=H;C=H}else{u=H;if(w.fallbackToLetter&&C==0&&u==0){B="";E=E[0].split(B);A=-1;H=-1;C=0;u=E.length-1}}}if(A!=-1&&!(E.length==1&&E[0].length==0)){z=g(E.slice(0,A+1).join(B),w);a(D,z)}else{var y=t.parent();t.detach();var F=(s&&s.closest(y).length)?s.length:0;if(y.contents().length>F){D=f(y.contents().eq(-1-F),v)}else{D=f(y,v,true);if(!F){y.detach()}}if(D){z=g(i(D),w);a(D,z);if(F&&s){j(D).parent().append(s)}}}return true}function m(s,r){return s.innerHeight()>r.maxHeight}function g(r,s){while(j.inArray(r.slice(-1),s.lastCharacter.remove)>-1){r=r.slice(0,-1)}if(j.inArray(r.slice(-1),s.lastCharacter.noEllipsis)<0){r+=s.ellipsis}return r}function l(r){return{width:r.innerWidth(),height:r.innerHeight()}}function a(s,r){if(s.innerText){s.innerText=r}else{if(s.nodeValue){s.nodeValue=r}else{if(s.textContent){s.textContent=r}}}}function i(r){if(r.innerText){return r.innerText}else{if(r.nodeValue){return r.nodeValue}else{if(r.textContent){return r.textContent}else{return""}}}}function k(r){do{r=r.previousSibling}while(r&&r.nodeType!==1&&r.nodeType!==3);return r}function f(s,v,r){var u=s&&s[0],t;if(u){if(!r){if(u.nodeType===3){return u}if(j.trim(s.text())){return f(s.contents().last(),v)}}t=k(u);while(!t){s=s.parent();if(s.is(v)||!s.length){return false}t=k(s[0])}if(t){return f(j(t),v)}}return false}function b(r,s){if(!r){return false}if(typeof r==="string"){r=j(r,s);return(r.length)?r:false}return !r.jquery?false:r}function q(u){var v=u.innerHeight(),t=["paddingTop","paddingBottom"];for(var w=0,s=t.length;w<s;w++){var r=parseInt(u.css(t[w]),10);if(isNaN(r)){r=0}v-=r}return v}var p=j.fn.html;j.fn.html=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){return this.trigger("update",[r])}return p.apply(this,arguments)};var h=j.fn.text;j.fn.text=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){r=j("<div />").text(r).html();return this.trigger("update",[r])}return h.apply(this,arguments)}})(jQuery);
define("utils/font",function(){var a;function b(c){var e,h,d,g,f;if(!a){e=Date.now();h=5000;a=$.Deferred();d=$("<span>QW@HhsXJp|</span>").css({position:"absolute",top:"-9999px",left:"-9999px","font-family":"Comic Sans MS",fontSize:"250px"});d.appendTo("body");f=d.outerWidth();d.css("font-family",c+", Comic Sans MS");g=setInterval(function(){if(f!==d.outerWidth()||(Date.now()-e>h)){clearInterval(g);a.resolve()}},50)}return a.promise()}return{loaded:b}});
define("utils/responsive",["app/core","common/pubsub"],function(c,f){var d={small:window.matchMedia("only screen and (max-width:  767px)"),medium:window.matchMedia("only screen and (min-width: 768px) and (max-width: 991px)"),large:window.matchMedia("only screen and (min-width: 992px)")},e=[];function b(h){e.push(h)}function a(){var h="large";$.each(d,function(i,j){if(j.matches){h=i}});return h}function g(h){var i;if(h.matches){i=a();f.publish(f.EVENT.RESPONSIVE_BREAKPOINT_CHANGE,{width:i});e.forEach(function(j){j(i)})}}$.each(d,function(h,i){i.addListener(g)});return{onChange:b,getCurrentWidth:a,isSmall:function(){return a()==="small"}}});
define("utils/debounce",["jQuery"],function(a){return a.debounce});
define("widgets/baseWidget",["jQuery","Modernizr"],function(a,b){a.widget("OC.baseWidget",{_parseStringOptions:function(e){var d,c={};e=a.trim(e);d=e.match(/([a-zA-Z0-9]+).*?:.*?('.*?'|\[.*?\]|true|false|[0-9\.]+)/g);d.forEach(function(k){var i,f,j=k.match(/(.*?):(.*)/),m=a.trim(j[2]),h=a.trim(j[1]),g=m.match(/^\[.*?\]/),l=function(q){var o=q.match(/'(.*)'/),p=q.match(/true|false/),n=!isNaN(q);if(o){q=o[1]}else{if(p){q=(q==="true")}else{if(n){q=parseFloat(q)}}}return q};if(g){f=[];i=m.match(/'.*?'|true|false|[0-9\.]+/g);i.forEach(function(n){f.push(l(n))});m=f}else{m=l(m)}c[h]=m});return c},_getCreateOptions:function(){var c={};this._super();if(this.element.length){if(this.element.data("options")){c=this._parseStringOptions(this.element.data("options"))}a.each(this.element.data(),function(e,f){var d=e.match(/^option_(.*)/);if(d){c[d[1]]=f}})}return c},_create:function(c){this._super();this.baseClassName=c||"";this.elements={};this.elements.$container=this.element;if(this.options.classname){this.element.addClass(this.options.classname)}this.element.attr("data-widget",this.widgetName)},getClickEventName:function(){return this.isTouch()?"tap":"click"},isTouch:function(){return b.touch},getWidgetElement:function(c){return this.element.find("."+this.baseClassName+"-"+c)}});return a.OC.baseWidget});
define("widgets/autocompletefield",["jQuery","template"],function(b,a){b.widget("OC.autocompletefield",b.ui.autocomplete,{elements:null,options:{forceFromList:false},_initSource:function(){var d,e=this.options.source,c=this;if(!this.options.source){this.options.source=this.element.data("option_source");e=this.options.source}if(typeof e==="string"&&e.match(/<%=.*%>/)){d=a(this.options.source);this.source=function(h,f){var g=d({term:h.term});if(c.xhr){c.xhr.abort()}c.xhr=b.ajax({url:g,dataType:"json",success:function(i){f(i)},error:function(){f([])}})}}else{return this._super()}},_create:function(){var d=this,e=this.element,c=e.closest(".form");this._pickedItem=null;this.elements={$form:c};if(this.element.data("option_forceFromList")){this.options.forceFromList=true}e.on("keydown blur",function(f){if(d.options.forceFromList){if((f.type==="keydown"&&d._pickedItem)||(f.type==="blur"&&!d._pickedItem)){d._resetSelected()}}}).on(this.widgetName+"select",function(g,f){d._pickedItem=f}).on(this.widgetName+"close",function(f){if(!d._pickedItem&&d.options.forceFromList){d._resetSelected()}});this._super()},_resetSelected:function(){this.element.val("");this._pickedItem=null},_search:function(c){if(c.charCodeAt(0)!==10){this.elements.$form.addClass("loading");this._super(c)}},__response:function(c){this.elements.$form.removeClass("loading");this._super(c)},_datamap:function(d,c){d=d.map(function(e){if(!e.value&&e[c.value]){e.value=e[c.value]}if(!e.label&&e[c.label]){e.label=e[c.label]}return e});return d},_normalize:function(c){c=this._super(c);if(this.options.dataMap){c=this._datamap(c,this.options.dataMap)}return c},_renderItem:function(d,e){var c;if(this.options.itemTemplate){c=b("<li>").append(a(this.options.itemTemplate,e)).appendTo(d)}else{c=this._super(d,e)}return c}});return b.OC.autocompletefield});
define("widgets/tagsSelect",["jquery","_","widgets/baseWidget"],function(d,a,b){var c=a.template;d.widget("OC.tagsSelect",b,{options:{ajaxify:true,tagClassName:"orange",dataUrl:null,data:null,jsonValue:false,dataMap:null},_create:function(){var e=this;this._super();this.items=[];this.elements.$shadowInput=d("input[type=search], input[type=text]",this.element);this.elements.$displayedInput=d("<input>").attr("type","text").removeAttr("name id").insertAfter(this.elements.$shadowInput);this.elements.$shadowInput.removeClass().css({position:"absolute",zIndex:-1});if(!this.options.dataUrl){this._addAutocompleteElement(this.options.source)}else{this._getData(this.options.dataUrl,function(f){e._addAutocompleteElement(f)})}},_dataMap:function(g,f){var e={};d.each(f,function(h,i){e[h]=g[i]});return e},_getData:function(g,h){var f=this,e=function(i){f.element.closest("form").toggleClass("loading",i)};e(true);d.getJSON(g,function(i){i=a.map(i,function(k,j){return{label:k,value:j}});h(i)}).always(function(){e(false)})},_addAutocompleteElement:function(h){var g=this.elements.$shadowInput.val(),f=this;this.elements.$displayedInput.autocompletefield({dataMap:this.options.dataMap,source:h,itemTemplate:this.options.itemTemplate,select:function(e,j){f.addItem(j.item);this.value="";return false}}).on("blur focus",function(e){f.element.toggleClass("focus",(e.type==="focus"));if(e.type==="blur"){d(this).val("")}});this._attachEvents();if(g&&!this.options.data){try{this.options.data=JSON.parse(g);this.elements.$displayedInput.val("")}catch(i){}}if(this.options.data){if(!d.isArray(this.options.data)){this.options.data=a.map(this.options.data,function(j,e){return{label:j,value:e}})}this.addItem(this.options.data,false)}},_updateRealValue:function(){var f={},e=this.items,g=this.elements.$shadowInput;if(this.options.jsonValue){d.each(e,function(h,i){f[i.value]=i.label});g.val(JSON.stringify(f))}else{g.val(a.pluck(e,"value").join(","))}},_getTagElement:function(h){var e=this,f,g;if(!this._tplTag){f='<span class="input-group-button">';f+='    <span class="label">';f+='    <% if (typeof icon !== "undefined") { %>';f+='        <span class="label__thumbnail" style="background-image: url(\'<%= icon %>\')"></span>';f+="    <% } %>";f+='        <span class="label__text"><%= label %></span>';f+='        <a class="label__closeButton js-close-button"></a>';f+="    </span>";f+="</span>";this._tplTag=c(f)}g=d(this._tplTag(h)).dismissibleElement({data:h,callback:function(){e.removeItem(this.data)}});d(".label",g).addClass(this.options.tagClassName);return g},_getItem:function(e){return a.find(this.items,{value:e.value})},removeItem:function(e,f){if(typeof f!=="boolean"){f=true}a.remove(this.items,{value:e.value});this._updateRealValue(f);if(f){this._trigger("change")}},getItems:function(){return this.items},addItem:function(j,k){var i,h,g=false,f=this,e=d.isArray(j)?j:[j];if(typeof k!=="boolean"){k=true}e.forEach(function(l){var m=f.options.dataMap?f._dataMap(l,f.options.dataMap):l;h=f._getItem(m);if(!h){f.items.push(m);i=d(f._getTagElement(m)).insertBefore(d(".ui-helper-hidden-accessible",f.element));m.$elem=d(i);g=true}else{h.$elem.animate({opacity:0},200).animate({opacity:1},200)}});if(g){f._updateRealValue(k);if(k){f._trigger("change")}}},val:function(){return this.elements.$shadowInput.val()},_attachEvents:function(){this.element.on("keydown","input[type=search]",function(e){if(e.keyCode===d.ui.keyCode.TAB&&d(this).data("OCAutocompletefield").menu.element.is(":visible")){e.preventDefault()}})}});d(document).ready(function(){d(".js-tags-select").tagsSelect()});return d.OC.tagsSelect});
define("widgets/sticky",["jQuery","widgets/baseWidget"],function(b,a){b.widget("OC.sticky",a,{options:{bottomCap:true,resizeContainer:true,margin:5,stickyPosition:"right"},startingPosition:null,containerDimensions:{},progress:null,resizeContainer:function(){var f=this.options.$container,e,d,c;this.element.hide();e=f.height();d=this.element.height();if(e<d){c=d*1.1;f.height(c);this.containerDimensions.height=c}this.element.show();return this},resetResizeContainer:function(){this.options.$container.height("auto");return this},reset:function(){var c=this.element.height(),d=this.options.$container;if(!d.css("position")){d.css("position","relative")}this.containerDimensions.width=d.width();this.containerDimensions.height=d.height();if(this.options.resizeContainer&&this.containerDimensions.height<c){this.resizeContainer()}this.element.show();this.refresh();this._setProgress(0)},_setOptions:function(c){this._super(c);this.reset()},_create:function(){var c=b(window);this._super();c.scroll(this.refresh.bind(this));c.resize(this.refresh.bind(this));this.startingPosition=this.element.css("position")||"static";this.reset()},disable:function(){this._super();this.element.removeClass("ui-state-disabled");this.element.css({position:"relative"});this.element.css({left:"",right:"",top:"",bottom:""})},enable:function(){this._super();this.refresh();return this},refresh:function(){if(this.options.disabled){return false}var o={},m=this.element,j=m.height(),p=this.options,n=p.$container,g=n.offset(),f=b(window).scrollTop(),e=p.margin,i=n.offset().top-f-e,h=i-j+n.height(),k=(h<=0),d=(f-g.top>-e)&&!(k&&p.bottomCap),l=p.stickyPosition,c=f-n.offset().top;b.extend(o,{left:"auto",right:"auto",top:"auto",bottom:"auto"});if(d){this._setProgress((c/(h-i))*100);b.extend(o,{position:"fixed",top:e});o[l]=(l==="right")?b(window).width()-(n.outerWidth()+g.left):g.left;this._setState("fixed");m.addClass("sticky-stuck");m.css(o)}else{if(j<this.containerDimensions.height){this.setPosition(k?"bottom":"top")}}},setPosition:function(c){var d=this.element,e=(c==="bottom"),f={left:"auto",right:"auto",top:"auto",bottom:"auto"};if(c==="bottom"||c==="top"){f.position="absolute";f[e?"bottom":"top"]=0;this._setState(e?"bottom":"top");this._setProgress(e?100:0);f[this.options.stickyPosition]=0;d.removeClass("sticky-stuck")}d.css(f)},_setState:function(c){if(this.currentState!==c){this.currentState=c;this._trigger("changestate",null,{state:c})}},_setProgress:function(c){c=Math.round(c/5)*5;if(c!==this.progress){this.progress=c;this._trigger("progress",null,{progress:c})}}});return b.OC.sticky});
define("widgets/dismissibleElement",["jQuery","widgets/baseWidget"],function(b,a){b.widget("OC.dismissibleElement",a,{options:{data:null,deleteUrl:"",callback:b.noop},_create:function(){this._super();this.elements.$closeBt=b(".close-button, .js-close-button",this.element).first();if(!this.elements.$closeBt.length){b('<a class="close-button"></a>').appendTo(this.element)}if(this.options.data){this.data=this.options.data}this._attachEvents()},_attachEvents:function(){var c=this;this.elements.$closeBt.on("click",function(d){d.preventDefault();d.stopPropagation();c.dismiss()})},dismiss:function(){var c=this,d=this.options.deleteUrl,e=this.element;if(d){b.ajax(d)}e.fadeOut(500,function(){e.remove();b.proxy(c.options.callback,c)()})}})});
define("widgets/calendarSelect",["jquery","widgets/baseWidget"],function(b,a){b.widget("OC.calendarSelect",a,{options:{classname:"date-picker-select",datepickerOptions:{yearRange:"c-50:c+0"}},_create:function(){this._super();this._setSelect();this._populateCorrectMonthsNames();this._createCalendarOpenLink();this._createCalendar();this._addEvents()},_setSelect:function(){var d,c=b("select",this.element).addClass(this.options.classname+"__select");this.elements.$daySelector=c.eq(0);this.elements.$monthSelector=c.eq(1);this.elements.$yearSelector=c.eq(2);d=this.elements.$yearSelector.find("option");this.options.datepickerOptions.yearRange=d.last().val()+":"+d.eq(1).val()},_populateCorrectMonthsNames:function(){b("option",this.elements.$monthSelector).each(function(d,c){if(d>0){b(c).text(b.datepicker._defaults.monthNames[d-1])}})},_addEvents:function(){var c={};c["click .js-calendar-select-opener"]=function(){this._setCalendarOpenState(!this.elements.$calendar.is(":visible"))};this._on(this.element,c)},_createCalendarOpenLink:function(){this.elements.$calendarLink=b(".js-calendar-select-opener",this.element);if(!this.elements.$calendarLink.length){this.elements.$calendarLink=b("<a><span></span></a>").addClass("js-calendar-select-opener").find("span").text("calendrier").parent().appendTo(this.element)}this.elements.$calendarLink.addClass(this.options.classname+"__calendar-link")},_createCalendar:function(){var c=this;this.elements.$calendar=b("<div>").hide().addClass(this.options.classname+"__calendar-container").appendTo(this.element);this.elements.$calendar.datepicker(b.extend(this.options.datepickerOptions,{dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,nextText:"",prevText:"",onSelect:function(){var d=b(this).datepicker("getDate");c._setCalendarOpenState(false);c.setDate(d)}}))},_setSelectsDisableState:function(c){this.elements.$daySelector.prop("disabled",!c);this.elements.$monthSelector.prop("disabled",!c);this.elements.$yearSelector.prop("disabled",!c)},_getSelectsDate:function(){var f=this.elements,c=parseInt(f.$daySelector.val(),10),g=parseInt(f.$monthSelector.val(),10)-1,e=parseInt(f.$yearSelector.val(),10),d=(isNaN(c)||isNaN(g)||isNaN(e))?new Date():new Date(e,g,c);return d},_setCalendarOpenState:function(d){var c=b.proxy(this._outsideClickHandler,this);this.elements.$calendar.toggle(d);if(d){this._setSelectsDisableState(false);this.elements.$calendar.datepicker("setDate",this._getSelectsDate());b(document).on("click",c)}else{this._setSelectsDisableState(true);b(document).off("click",c)}},_outsideClickHandler:function(d){var e=b.contains(this.element.get(0),d.target),c=!!b(d.target).closest(".ui-datepicker-header").length;if(!e&&!c){this._setCalendarOpenState(false)}},setDate:function(d){var c=d.getDate(),f=d.getMonth()+1,e=d.getFullYear();this.elements.$daySelector.val(c);this.elements.$monthSelector.val(f);this.elements.$yearSelector.val(e)}});return b.OC.calendarSelect});
define("widgets/ajaxForm",["jQuery","widgets/baseWidget"],function(b,a){b.widget("OC.ajaxForm",a,{options:{classname:"oc-form"},_create:function(){this._super();this.element.addClass(this.options.classname+"--ajax");this.loading=false;this._createLoadingOverlay();this._addEvents()},_createLoadingOverlay:function(){this.element.css("position","relative");this.elements.$overlay=b("<div>").addClass(this.options.classname+"__overlay");this.elements.$overlayText=b("<div>").html('<span><i class="icon-large icon-spinner icon-spin"></i> Chargement</span>').addClass(this.options.classname+"__overlay-text");this.elements.$inner=this.element.find("> *").wrapAll("<div>").parent().addClass(this.options.classname+"__inner");this.elements.$overlayText.appendTo(this.elements.$overlay);this.elements.$overlay.appendTo(this.element)},_addEvents:function(){this._on(this.element,{submit:this._onSubmit})},_onSubmit:function(c){c.preventDefault();this.submit()},setLoadingState:function(c){this.loading=c;this.element.toggleClass(this.options.classname+"--loading",c)},submit:function(){var e,d=this,c=this.element;if(!this.loading){e=b.post(c.attr("action"),c.serialize());this.setLoadingState(true);e.done(function(){d.setLoadingState(false)});this._trigger("submit",null,{request:e})}}});return b.OC.ajaxForm});
define("widgets/courseListItem",["jquery","utils/font","widgets/baseWidget"],function(d,b,a){var c="courseListItem";d.widget("OC."+c,a,{_create:function(){var e=this;this._super();this.bgIllustrationImage=new Image();this.image=new Image();this.unveil=false;this.fontLoaded=b.loaded("Source Sans Pro");this.element.waypoint(function(){if(!e.unveil){setTimeout(function(){e._ellipsis();e._loadBackground();e.unveil=true},1)}},{offset:"100%"})},_ellipsis:function(){var e=this;this.fontLoaded.done(function(){d(".js-ellipsis",e.element).dotdotdot()})},_loadBackground:function(){var f="course-list-item__illustration--loading",i=d(".js-illustration",this.element),g=d(".js-image",this.element),e=i.data("imgUrl"),h=g.data("imgUrl");if(e||h){i.addClass(f)}if(e){this.bgIllustrationImage.onload=function(){i.css("background-image","url("+this.src+")");i.removeClass(f)};this.bgIllustrationImage.src=e}else{if(h){this.image.onload=function(){g.attr("src",this.src);i.removeClass(f)};this.image.src=h}}}});d(function(){d(".js-course-list-item")[c]()});return d.OC[c]});
define("widgets/foldable",["jquery","widgets/baseWidget"],function(d,b){var c="foldable",a="js-foldable";d.widget("OC."+c,b,{options:{eventname:"click"},_create:function(){var e=this;this._super();if(this.options.eventname==="click"&&"ontouchstart" in window){this.options.eventname="tap"}this.element.find(".js-foldable-button").on("click",function(){e.toggle()})},open:function(){this.element.removeClass("is-closed")},close:function(){this.element.addClass("is-closed")},toggle:function(){if(this.element.hasClass("is-closed")){this.open()}else{this.close()}}});d("."+a)[c]();return d.OC[c]});
define("widgets/ajaxCheck",["jquery","widgets/baseWidget"],function(d,a){var c="ajaxCheck",b="js-ajaxCheck";d.widget("OC."+c,a,{options:{responseKey:"message",endPoint:"",inputAliasName:"",inputShouldBeFill:true,requestMethod:"POST"},_create:function(){this._super();this.isLoading=false;this.additionalValues={};this.elements={$button:this.element.find(".js-ajaxCheck-button"),$field:this.element.find(".js-ajaxCheck-field"),$result:this.element.find(".js-ajaxCheck-result")};this._attachEvents()},_attachEvents:function(){var e=this;this.elements.$button.on("click",function(f){if(e._trigger("onCheck",f)){e.checkIt()}});this.elements.$field.on("keypress",function(f){if(f.which===d.ui.keyCode.ENTER){f.preventDefault();if(e._trigger("onCheck",f)){e.checkIt()}}})},_getData:function(){var f={},e=this.elements.$field;if(!this.isEmpty()){f[this.options.inputAliasName||e.attr("name")]=e.val()}if(this.additionalValues){d.extend(f,this.additionalValues)}return f},reset:function(){this._updateResult("");this.elements.$field.val("")},setValue:function(e){this.elements.$field.val(e)},setAdditionalValues:function(e){this.additionalValues=e},isEmpty:function(){return(this.elements.$field.val()==="")},checkIt:function(){var e=this,f=this.options.endPoint;if(this.options.inputShouldBeFill&&this.isEmpty()){return}if(!this.isLoading&&f){this.isLoading=true;this.element.addClass("is-loading");this._updateResult("");d.ajax({type:this.options.requestMethod,contentType:"application/json",url:f,dataType:"json",data:JSON.stringify(this._getData())}).done(function(g){e._updateResult(g[e.options.responseKey]);e._trigger("onValidCheck",null,g)}).fail(function(h,i,g){e.element.addClass("has-error");if(h.responseJSON&&h.responseJSON.errors){e._updateResult(h.responseJSON.errors,true)}else{e._updateResult("error.",true)}e._trigger("onErrorCheck",null)}).always(function(){e.element.removeClass("is-loading");e.isLoading=false})}},_updateResult:function(g,f){var e=this.elements.$result;if(f&&d.isArray(g)){g="<ul><li>"+g.join("</li><li>")+"</li></ul>"}g=g.replace(/\n/,"<br>");if(e.is("input")){this.elements.$result.val(g)}else{this.elements.$result.html(g)}}});d(function(){d("."+b)[c]()});return d.OC[c]});
define("widgets/formEvents",["jquery","widgets/baseWidget"],function(d,a){var b="formEvents",c="js-formEvents";d.widget("OC."+b,a,{options:{formName:null},_create:function(){this._super(c);this._isfillStartedEventFired=false;this._isDirty=false;this._attachEvents()},_getFormName:function(){return this.options.formName||this.element.attr("id")},_attachEvents:function(){this._on(this.element,{"keydown input[type=text]":this._onChangeSomething,"keydown input[type=email]":this._onChangeSomething,"keydown textarea":this._onChangeSomething,"change select":this._onChangeSomething,"change input[type=radio]":this._onChangeSomething,"change input[type=checkbox]":this._onChangeSomething})},_onChangeSomething:function(e){this._isDirty=true;if(!this._isfillStartedEventFired){this._trigger("onFillStarted",e,{formName:this._getFormName()});this._isfillStartedEventFired=true}},isDirty:function(){return this._isDirty}});d("."+c)[b]();return d.OC[b]});
define("widgets/courseSearch",["jquery","widgets/baseWidget","widgets/autocompletefield","utils/responsive"],function(e,b,d){var c="courseSearch",a="js-courseSearch";e.widget("OC."+c,b,{options:{},_create:function(){this._super();this.elements.$form=e(this.element).find(".js-courseSearch-form");this.elements.$inputGroup=this.elements.$form.find(".js-courseSearch-inputGroup");this.elements.$input=this.elements.$form.find(".js-courseSearch-input");this.elements.$button=this.elements.$form.find(".js-courseSearch-button");this.onBlurTimeout=null;this._createAutocomplete();this._on(this.element,{"submit .js-courseSearch-form":this._onSubmit,"focus .js-courseSearch-input":this._onFocusField,"blur .js-courseSearch-input":this._onBlurField,"keydown .js-courseSearch-input":function(f){if(f.keyCode===e.ui.keyCode.ESCAPE){this.elements.$input.blur()}}})},_onSubmit:function(f){var g=!this.elements.$input.val();clearTimeout(this.onBlurTimeout);if(g){f.preventDefault()}this.elements.$input.focus()},_onFocusField:function(){this.element.addClass("is-focused");this.elements.$input.addClass("is-focused")},_onBlurField:function(){var f=this;this.onBlurTimeout=setTimeout(function(){f.element.removeClass("is-focused");f.elements.$input.removeClass("is-focused");f.elements.$input.val("")},200)},_createAutocomplete:function(){var f=this,h='<a href="/courses/<%= slug %>">    <% if (typeof illustration !== "undefined") { %>        <img src="<%= illustration %>"/>    <% } else { %>        <span class="course-fake-img"></span>    <% } %>    <span class="course-title"><%- title %></span></a>',g={dataMap:{label:"title",value:"title"},minLength:3,appendTo:e(this.elements.$form),itemTemplate:h,select:function(i,j){i.stopPropagation();window.location.href="/courses/"+j.item.slug},search:function(){f.elements.$inputGroup.addClass("is-loading")},response:function(){f.elements.$inputGroup.removeClass("is-loading")}};this.elements.autocomplete=new d(g,this.elements.$input)}});e("."+a)[c]();return e.OC[c]});
define("widgets/tabs",["jquery","widgets/baseWidget","utils/responsive"],function(d,a,e){var b="tabs",c="js-tabs";d.widget("OC."+b,a,{_create:function(){this._super(c);this._isEnabled=false;this.currentTab=null;this.eventName=this.isTouch()?"tap":"click";this.elements.$tabs=this.getWidgetElement("tab");this.elements.$content=this.getWidgetElement("content");this._enableTabs();e.onChange(d.proxy(this._onResponsiveWidthChange,this));if(this.options.isEnabled){this.enable()}},isEnabled:function(){return this._isEnabled},enable:function(){if(!this.isEnabled()){this._isEnabled=true;this.closeTabs();this.elements.$tabs.on(this.eventName,d.proxy(this._onTabSelect,this));this._handleDefaultTab()}},disable:function(){if(this.isEnabled()){this._isEnabled=false;this.closeTabs();this.elements.$tabs.off(this.eventName)}},_handleDefaultTab:function(){var f=this;this.elements.$tabs.each(function(h,g){if(d(g).data("tabsDefault")){f.selectTab(d(g))}})},_enableTabs:function(){var f=this;this.elements.$tabs.each(function(j,h){var g=d(h),i=f._getTabContentElement(g);if(i.length){f.enableTab(g)}})},_onResponsiveWidthChange:function(){this.closeTabs()},_getTabContentId:function(f){return f.data("tabsContent")||f.attr("href")},_getTabContentElement:function(g){var f=this._getTabContentId(g);return d(f).first()},_onTabSelect:function(f){var g=d(f.currentTarget);f.preventDefault();if(g.is(".is-active")){this.closeTabs()}else{this.selectTab(g)}},enableTab:function(f){f.removeClass("is-disabled")},selectTab:function(f){var g=this._getTabContentElement(f);this.closeTabs();f.addClass("is-active");this.currentTab={$originParentElement:g.parent(),$content:g,id:this._getTabContentId(f)};g.appendTo(this.elements.$content);this.elements.$content.show();this._trigger("onSelectTab",null,{currentTab:this.currentTab})},closeTabs:function(){var f=this.currentTab;this.elements.$tabs.removeClass("is-active");this.elements.$content.hide();if(f){f.$originParentElement.append(f.$content);f=null;this._trigger("onCloseTabs")}}});d("."+c)[b]();return d.OC[b]});
define("widgets/popOut",["jquery","widgets/baseWidget"],function(f,b){var c="popOut",e="js-popOut",a=false,d;f.widget("OC."+c,b,{options:{triggerEvent:"auto"},_create:function(){this._super(e);this.options.triggerEvent=this._getEventName();this.elements.$button=this.getWidgetElement("button");this.isOpened=false;this.isEnabled=true;this.close();this._attachEvents()},_attachEvents:function(){if(!this._hasAttachedEvents){if(this.options.triggerEvent==="hover"){this.elements.$button.on("mouseenter.popOut",f.proxy(this._onMouseEnter,this));this.element.on("mouseleave.popOut",f.proxy(this._onMouseLeave,this))}else{this.elements.$button.on(this.options.triggerEvent+".popOut",f.proxy(this._onClick,this))}this._hasAttachedEvents=true}if(!a){f(document).on("click.popOut",function(i){var g=f(i.target),h=g.closest(".js-popOut-button").length>0,j=g.closest(".js-popOut-content").length>0;if(d&&!h&&!j){d.close()}});a=true}},_detachEvents:function(){this.elements.$button.off("mouseenter.popOut");this.element.off("mouseleave.popOut");this.elements.$button.off(this.options.triggerEvent+".popOut");this._hasAttachedEvents=false},_getEventName:function(){var g="click";if(this.isTouch()){g="tap"}else{if(this.options.triggerEvent!=="click"){g="hover"}}return g},_onMouseLeave:function(){this.close()},_onMouseEnter:function(){this.open()},_onClick:function(g){g.preventDefault();this.toggle()},toggle:function(){if(this.isOpened){this.close()}else{this.open()}},disable:function(){this._detachEvents();this.close();this.isEnabled=false},enable:function(){this._attachEvents();this.isEnabled=true},open:function(){if(this.isEnabled){if(d){d.close()}this._trigger("onBeforeOpen");this.element.addClass("is-opened");this.isOpened=true;d=this}},close:function(){if(this.isEnabled){this.element.removeClass("is-opened");this.isOpened=false}}});f("."+e)[c]();f(document).on("click",function(i){var g=f(i.target),h=g.closest(".js-popOut-button").length>0,j=g.closest(".js-popOut-content").length>0;if(d&&!h&&!j){d.close()}});return f.OC[c]});
define("widgets/refereeCode",["jquery","widgets/baseWidget"],function(d,b){var c="refereeCode",a="js-refereeCode";d.widget("OC."+c,b,{options:{code:null},_create:function(){var e=this;this._super(a);this.elements.$input=this.getWidgetElement("input");this.elements.$smiley=this.getWidgetElement("smiley");this.value=this.options.code;this._initField();this.elements.$input.on("focus, click",function(){d(this).select();setTimeout(function(){e._toggleRotateSmiley(true)},800);e._trigger("onFocus")}).on("keyup",function(){e._initField()});this.changeSmiley()},_initField:function(){this.elements.$input.val(this.value)},changeSmiley:function(){var e=[":)",":o)",":D","8D",":-)"],f=Math.round(Math.random()*(e.length-1));this._toggleRotateSmiley(false);this.elements.$smiley.text(e[f])},getCode:function(){return this.options.code},_toggleRotateSmiley:function(e){this.elements.$smiley.toggleClass("is-rotated",e)}});return d.OC[c]});
define("widgets/helpBubble",["jquery","widgets/baseWidget","Modernizr"],function(d,b,e){var c="helpBubble",a="js-helpBubble";d.widget("OC."+c,b,{options:{},_create:function(){var f=this,g=this.element.attr("href").match(/^mailto:/);this._super(a);this.isActive=false;if(e.touch){this.element.on("tap",function(h){if(!f.isActive&&!g){h.preventDefault();f.activateHint()}}).on("clickoutside",function(h){if(f.isActive){h.preventDefault();f.desactivateHint()}})}else{this.element.on("mouseenter",function(){f.activateHint()}).on("mouseleave",function(){f.desactivateHint()})}},activateHint:function(){this.element.addClass("is-active");this.isActive=true},desactivateHint:function(){this.element.removeClass("is-active");this.isActive=false}});d("."+a)[c]();return d.OC[c]});
define("flashMessage",["jQuery","App","common/pubsub","common/commands"],function(e,c,f,b){var i=c.i18n,g="flash-message";function a(j){var k={"alert-info":"info","alert-success":"success","alert-error":"error"};if(typeof j==="string"){return k[j]||"info"}else{j.type=k[j.type]||j.type||"info";return j}}function d(k){var j,l={success:"icon-check",error:"icon-error"};k.icon=(l[k.type]||"icon-info");return k}function h(j){if(typeof arguments[0]==="string"&&typeof arguments[1]==="string"){j={type:arguments[0],text:arguments[1]}}j=a(j);j=d(j);j.insert_brs=true;j.min_height=false;j.sticker=false;if(typeof j.hide==="undefined"){j.hide=(j.type!=="error")}j.width="50%";e.pnotify(j)}e.pnotify.defaults.animate_speed="fast";e.pnotify.defaults.history=false;e.pnotify.defaults.maxonscreen=5;e.pnotify.defaults.addclass=g;e.pnotify.defaults.closer_hover=false;e.pnotify.defaults.delay=5000;b.add("flashMessage.add",h);f.subscribe("courseEdit",function(j,l){var k;if(l&&l.state==="fail"){k=(l.type==="meta")?i("An error has occured. Please try later."):i("An error has occured while saving the course. Please try later.");f.publish(f.EVENT.FLASHMESSAGE,{type:"error",text:k})}});e(document).ready(function(){var j=c.flashMessages||[];e(".js-flash-messages").each(function(k,l){j.push({type:a(e(l).data("type")),text:l.innerHTML})});if(j.length>0){j.forEach(function(k){h(k)})}})});
define("header",["jQuery","common/pubsub","utils/responsive","widgets/tabs","widgets/popOut","widgets/refereeCode"],function(e,o,c,b,p,i){var q={},a=[],g=!!(e("#oc-header").length),j,f,m,l;function k(t){var s=(t!=="small");a.forEach(function(u){if(s){u.enable()}else{u.disable()}})}function d(s){if(s==="small"){m.enable()}else{m.disable()}}function h(s){if(s!==j){d(s)}k(s);j=s}function n(){var s=e(".js-popOut-referee"),t=e(".js-refereeCode"),u;if(t.length){l=new i({onFocus:function(){if(!q[o.EVENT.COPIED_REFERRAL_CODE]){o.publish(o.EVENT.COPIED_REFERRAL_CODE,{code:l.getCode()});q[o.EVENT.COPIED_REFERRAL_CODE]=true}}},t);u=new p({onBeforeOpen:r},s);a.push(u)}}function r(){l.changeSmiley();if(!q[o.EVENT.VIEWED_REFERRAL_CODE]){o.publish(o.EVENT.VIEWED_REFERRAL_CODE,{code:l.getCode()});q[o.EVENT.VIEWED_REFERRAL_CODE]=true}}if(g){j=c.getCurrentWidth();f=e(".js-tabs-mobile");m=new b({onSelectTab:function(s,t){if(t.currentTab.id==="#tab-userRefereeCode"){r()}},isEnabled:(j==="small")},f);e(".js-popOut-header").each(function(t,s){a.push(new p({},e(s)))});n();c.onChange(function(s){h(s)});h(c.getCurrentWidth())}});
(function(a,b){b("common",function(){return{init:function(){a("[data-dismiss]").on("click",function(){a(this).parent("div").remove()})}}})})(jQuery,App.modules.define);
define("mediapopup",["jQuery"],function(a){return{init:function(){a(".fancybox").fancybox({openEffect:"none",closeEffect:"none",padding:0,aspectRatio:true,beforeLoad:function(){this.width=this.element.data("fancybox-width");this.height=this.element.data("fancybox-height")},onLoading:function(){a("#fancybox-loading").empty().html('<div><i class="icon-large icon-spinner icon-spin"></i></div>')},helpers:{media:{}}})}}});
define("popin",["jQuery","common/commands"],function(e,b){var c,a="/popin/([^/]*)",d=new RegExp(a);b.execute("registerAnchor",[a,function(g,f){c.open(f[1])}]);c={init:function(){var g,h=false,f=this,i=function(j){return e(j).data("popin-selector")||e(j).data("data-popin-selector")};e(document).on("click",".js-popin-activator",function(k){var j=i(this);k.preventDefault();f.open(j)});g=location.hash.match(d);if(!g){e(".js-popin-activator").each(function(m,k){var l=!!e(this).data("popin-auto"),j=i(k);if(j.length!==0&&l&&!h){h=true;f.open(j)}})}},open:function(f){var g=e(f);if(g.hasClass("popin")){e.fancybox(g,{openEffect:"none",closeEffect:"none",padding:0,title:g.data("popin-title"),afterLoad:function(){e(".js-close-button",this.content).on("click",function(i){var h=e(this).attr("href");if(!h||h==="#"){i.preventDefault()}e.fancybox.close()})},afterShow:function(){e(".fancybox-inner").attr("tabindex",1).focus()}})}}};return c});
define("tooltip",["jQuery"],function(a){if(!(a("html").hasClass("touch"))){a(document).tooltip({tooltipClass:"oc-tooltip",position:{my:"left top+17",at:"left bottom",collision:"flipfit"},items:".js-tooltip",show:false,hide:false,content:function(){var c=a(this),d=c.data("tooltip"),b=c.attr("title");return d||b},open:function(c,d){var b="right",e="bottom",g=d.tooltip.offset(),f=a(c.relatedTarget).offset();if(f){if(g.left<f.left){b="left"}if(g.top<f.top){e="top"}d.tooltip.addClass("oc-tooltip--"+e+"-"+b)}}})}});
define("modules/date-picker",["jQuery","widgets/calendarSelect"],function(d,a){function b(e){var f=d(e).data();return d.each(d(e).data(),function(h,i){var g=(h.match(/^option_(.*)/)||["",h])[1];f[g]=i;delete f[h]})}function c(g){var e=d(g),f=b(g);if(d("select",e).length===3){new a(null,e)}else{e.datepicker(f)}}d(function(){d(".js-date-picker").each(function(f,e){c(e)})})});
define("widgets/classname-switcher",["jQuery","widgets/baseWidget"],function(b,a){b.widget("OC.classnameSwitcher",a,{options:{aliases:{close:"add",open:"remove"},eventname:"click",target:"",classnameToToggle:""},_getTarget:function(){var d=this.options.target,c;if(!this.elements.$target){if(this.options.target){if(d instanceof b||d instanceof HTMLElement){c=d}else{if(d.charAt(0)==="#"){c=b(d)}else{if(d==="parent"){c=this.element.parent()}else{c=this.element.closest(d)}}}}if(!c||c.length===0){c=this.element}this.elements.$target=b(c)}return this.elements.$target},_create:function(){var c=this,d=this.options;this._super();if(d.eventname==="click"&&"ontouchstart" in window){this.options.eventname="tap"}this.element.on(d.eventname+".oc.classnameswitcher",function(e){e.preventDefault();c.toggle()});this.savedClassnames=this._getTarget().attr("class");Object.keys(d.aliases).forEach(function(f){var e=c[d.aliases[f]];if(e&&!c[f]){c[f]=e}})},toggle:function(c,d){this._toggle(c,d);return this},add:function(c){this._toggle(true,c);return this},remove:function(c){this._toggle(false,c);return this},destroy:function(){this._super();this.element.off(this.options.eventname+".oc.classnameswitcher");this._getTarget().attr("class",this.savedClassnames)},_toggle:function(d,f){var c=this._getTarget(),e=this.options.classnameToToggle;if(typeof d!=="boolean"){d=!c.hasClass(e)}c.toggleClass(e,d);if(!f){this._trigger("onSwitch",null,{classname:e,event:d?"add":"remove"})}}});b(function(){b(".js-classname-switcher").classnameSwitcher()});return b.OC.classnameSwitcher});
define("smiley",["jQuery"],function(a){var b=[{value:":magicien:",img:"magicien.png"},{value:":diable:",img:"diable.png"},{value:":ange:",img:"ange.png"},{value:":ninja:",img:"ninja.png"},{value:">_<",img:"pinch.png"},{value:":pirate:",img:"pirate.png"},{value:":zorro:",img:"zorro.png"},{value:":honte:",img:"rouge.png"},{value:":soleil:",img:"soleil.png"},{value:":'(",img:"pleure.png"},{value:":waw:",img:"waw.png"},{value:":)",img:"smile.png"},{value:":D",img:"heureux.png"},{value:";)",img:"clin.png"},{value:":p",img:"langue.png"},{value:":lol:",img:"rire.gif"},{value:":euh:",img:"unsure.gif"},{value:":(",img:"triste.png"},{value:":o",img:"huh.png"},{value:":colere:",img:"mechant.png"},{value:"o_O",img:"blink.gif"},{value:"^^",img:"hihi.png"},{value:":-",img:"siffle.png"}];b.forEach(function(c){var d=c.value.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.regexp=new RegExp(d,"g")});return{defaultPreferences:{basePath:"/"},init:function(){var c=this;a(".js-smilize :not(pre):not(code):not(.smilies)").each(function(e,d){c.smilize(d)})},getList:function(){return b},smilize:function(e,d){var c=this;a(e).each(function(){var i=this.firstChild,j,h,g,f=[];if(i){do{h=null;if(i.nodeType===3){j=i.nodeValue;g=j;g=g.replace(/</g,"&lt;");g=g.replace(/>/g,"&gt;");b.forEach(function(k,l){g=g.replace(k.regexp,'<img alt="'+l+'" class="smilies" src="'+c.preferences.basePath+k.img+'"/>')});if(g!==j){a(i).before(g);f.push(i)}h=a(i).parent()}}while(i=i.nextSibling);a("img.smilies",h).each(function(o,k){var m=a(k),l=parseInt(m.attr("alt"),10);if(!isNaN(l)){m.attr("alt",b[l].value);if(typeof d==="function"){d(k,b[l])}}})}f.length&&a(f).remove()})}}});
define("autocomplete-search",["jQuery","widgets/autocompletefield"],function(b,a){return{init:function(){this.initSearch()},initSearch:function(){var d=b(".js-autocomplete-course-search"),c='<a href="/courses/<%= slug %>">    <% if (typeof illustration !== "undefined") { %>        <img height="30" src="<%= illustration %>"/>    <% } else { %>        <span class="course-fake-img"></span>    <% } %>    <span class="course-title"><%- title %></span></a>';d.each(function(g,f){var e={dataMap:{label:"title",value:"title"},minLength:3,appendTo:b(f),itemTemplate:c,select:function(h,i){h.stopPropagation();window.location.href="/courses/"+i.item.slug}};new a(e,b("input",f))})}}});
define("modules/confirm",["jQuery","_","app/core","utils/responsive","i18n"],function(g,l,d,h,k){var c,f=l.template('<div class="popin popin--confirm">                <% if (title) { %>                    <h1><%= title %></h1>                <% } %>                <% if (icon) { %>                    <i class="<%= icon %> popin__icon"></i>                <% } %>                <p><%= text %></p>                <% if (doubleConfirm) { %>                    <label class="popin__checkConfirmContainer">                        <input class="popin__checkConfirm js-confirm-doubleCheck" type="checkbox"> <%= doubleConfirm %>                    </label>                <% } %>            </div>');function b(){c.parent(".ui-dialog").position({my:"center",at:"center",of:window})}function j(m){if(g(m.target).is(".ui-widget-overlay")){c.dialog("close")}}function i(m){if(m.type==="mousewheel"){m.preventDefault()}else{b()}}function e(m,p,o){var q=m.parents(".ui-dialog"),n=q.find(".js-validate-button");m.find(".js-confirm-doubleCheck").on("change",function(){n.text(g(this).prop("checked")?o:p)});n.focus()}function a(n){var m;if(n.element){m=g(n.element);["message","textButton","textButtonCancel","icon","title","doubleConfirm","doubleConfirmButton","forceWidth"].forEach(function(q){if(m.data(q)){var r=m.data(q);if(q==="message"&&r.match(/^(\.|#)/)){r=g(r).html()}n[q]=r}})}n=g.extend({title:"",doubleConfirm:false,message:k("Do you confirm this action ?"),textButton:k("OK"),cancelButton:false,textButtonCancel:k("No"),cancelCallback:g.noop,confirmCallback:g.noop},n);var p=f({title:n.title,doubleConfirm:n.doubleConfirm,icon:n.icon,text:n.message}),o={closeText:k("close"),closeOnEscape:true,draggable:false,resizable:false,modal:true,buttons:[],open:function(r){var q=this;e(g(this),n.textButton,n.doubleConfirmButton)},width:(h.getCurrentWidth()!=="small"&&typeof n.forceWidth!=="undefined")?n.forceWidth:300,close:function(q){c=null;g(window).off("scroll resize mousewheel",i).off("click",j);if(!m.data("confirmed")){n.cancelCallback(q)}m.data("confirmed",false);g(this).dialog("destroy").remove()}};m=g(p);if(n.cancelButton){o.buttons.push({text:n.textButtonCancel,create:function(){g(this).addClass("cancel-button")},click:function(){g(this).dialog("close")}})}o.buttons.push({text:n.textButton,create:function(){g(this).addClass("validate-button js-validate-button")},click:function(s){var q=!!n.doubleConfirm,t,r;if(n.doubleConfirm){t=g(this).find(".js-confirm-doubleCheck");r=t.prop("checked")}if(!q||(q&&r)){if(typeof n.confirmCallback==="function"){n.confirmCallback(s)}else{window.location=n.confirmCallback}m.data("confirmed",true)}g(this).dialog("close")}});c=m.dialog(o);g(window).on("scroll resize mousewheel",i).on("click",j)}return{init:function(){var o=g(".js-confirm"),m=[],n=function(q,s){var p=g(this),r=p.data("undo-value");if(!s){q.preventDefault();q.stopImmediatePropagation();a({element:this,confirmCallback:function(){p.data("undo-value",p.val());if(p.is("a")){window.location=p.attr("href")}else{p.trigger(q.type,[true])}p.closest(".oc-form").addClass("oc-form--loading").prepend('<div class="oc-form__overlay"></div>').wrapInner('<div class="oc-form__inner"></div>')},cancelCallback:function(){if(r){p.val(r)}}})}};o.each(function(s,r){var q,p=g(r);if(p.is("select")){p.data("undo-value",p.val())}if(p.is("[type=submit]")){q=p.closest("form").get(0);p.removeClass("js-confirm");g(q).data(p.data()).addClass("js-confirm");m.push(q)}else{m.push(r)}});g(document).on("click","a.js-confirm",n).on("change submit",".js-confirm",n)},show:a}});
define("modules/tinymce",["jQuery","app/core","yepnope","common/pubsub"],function(e,a,m,h){var f=window.tinymce,i=a.getPreferences(),g=i.assetVersion||Math.random(),k=i.packages_url.tinymce+"?"+g,d=i.paths.widgets+"/wysiwygEditor/tinymce",c={menubar:false,language_url:d+"/langs/fr_FR.js?"+g,plugins:"autoresize link code table paste textcolor image",toolbar:"styleselect | fontsizeselect | bold italic forecolor | bullist numlist | link | claireImage | claireCodeBlock | claireEmoticons",theme_url:i.paths.lib+"/tinymce/themes/modern/theme.js",skin_url:d+"/themes/OC-1.1",autoresize_min_height:280,target_list:false,external_plugins:{claireCode:d+"/plugins/claireCode/plugin.js?"+g,claireEmoticons:d+"/plugins/claireEmoticons/plugin.js?"+g,claireImage:d+"/plugins/claireImage/plugin.js?"+g},claireCode_simple_output:true,claireImage_empty_alt:"Une bien belle image ;)",extended_valid_elements:"code[data-claire-semantic]"};function l(r,n,s){var q,p,o=e(r);if(!f){o.each(function(v,u){var t=e(u);if(!t.data("tinymceInited")){t.css("visibility","hidden");e('<div class="loader js-editor-loader"><i class="icon-large icon-spinner icon-spin"></i> Chargement de l\'diteur</div>').insertAfter(t)}})}j(function(){o.each(function(v,u){var t=e(u);if(!t.data("tinymceInited")){q=t.data("initial-value");p=t.data("toolbar-config");if(!n){n=c}if(p){n.toolbar=p}t.tinymce(n).next().remove();if(q){t.val(q)}t.data("tinymceInited",true)}});(s||e.noop)()})}function b(o){var n=null;if(o&&o instanceof jQuery){o=o.get(0)}if(o&&o.id&&window.tinymce){n=tinymce.get(o.id)}return n}function j(n){if(!f){m({load:[k],complete:function(){window.tinymce.dom.Event.domLoaded=true;if(typeof n==="function"){n(tinymce)}}})}else{if(typeof n==="function"){n(tinymce)}}}e(function(){var n=e(".js-wysiwyg");if(n.length){l(n)}});h.subscribe(h.EVENT.RESPONSIVE_BREAKPOINT_CHANGE,function(n,p){var o=e(".mce-container.mce-panel.mce-first.mce-stack-layout-item");if(p.width==="small"){o.hide()}else{o.show()}});return{add:l,getInstance:b,load:j}});
define("common/zendesk",["jQuery","user"],function(f,g){var a=false,d="//assets.zendesk.com/external/zenbox/v2.6/zenbox.js",c="//assets.zendesk.com/external/zenbox/v2.6/zenbox.css",b={dropboxID:g.isPremium()?"20272841":"20277672",url:"https://openclassrooms.zendesk.com",hide_tab:true,requester_name:g.getDisplayName(),requester_email:encodeURIComponent(g.getEmail())};function e(h){if(!a){f("head").append("<link rel='stylesheet' media='screen, projection' type='text/css' href='"+c+"' />");f.getScript(d,function(){if(typeof(Zenbox)!=="undefined"){a=true;Zenbox.init(b);h()}})}else{h()}}return{init:function(){f(document).on("click",".js-zendesk-show",function(h){h.preventDefault();e(function(){Zenbox.show()})})}}});
define("widgets/elementViewedEvent",["jquery","widgets/baseWidget"],function(c,a){var b="elementViewedEvent";c.widget("OC."+b,a,{options:{triggerOnce:true},_create:function(){var d=this;this._super();this.element.waypoint(function(){d._trigger("onViewedElement",event,{name:d.element.attr("id")})},{triggerOnce:this.options.triggerOnce,offset:"90%"})}});c(function(){c(".js-elementViewedEvent")[b]()});return c.OC[b]});